var ah=Object.defineProperty;var lh=(i,e,t)=>e in i?ah(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var F=(i,e,t)=>lh(i,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function Xr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Wt=Xr();function nc(i){Wt=i}const Gn={exec:()=>null};function te(i,e=""){let t=typeof i=="string"?i:i.source;const n={replace:(s,r)=>{let o=typeof r=="string"?r:r.source;return o=o.replace(Ne.caret,"$1"),t=t.replace(s,o),n},getRegex:()=>new RegExp(t,e)};return n}const Ne={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:i=>new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}#`),htmlBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}<(?:[a-z].*>|!--)`,"i")},ch=/^(?:[ \t]*(?:\n|$))+/,uh=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,hh=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,di=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,fh=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ic=/(?:[*+-]|\d{1,9}[.)])/,sc=te(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ic).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Jr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,dh=/^[^\n]+/,Qr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ph=te(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Qr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),gh=te(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ic).getRegex(),xs="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,mh=te("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Zr).replace("tag",xs).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rc=te(Jr).replace("hr",di).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xs).getRegex(),yh=te(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",rc).getRegex(),eo={blockquote:yh,code:uh,def:ph,fences:hh,heading:fh,hr:di,html:mh,lheading:sc,list:gh,newline:ch,paragraph:rc,table:Gn,text:dh},Qo=te("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",di).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xs).getRegex(),bh={...eo,table:Qo,paragraph:te(Jr).replace("hr",di).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Qo).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xs).getRegex()},xh={...eo,html:te(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Zr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Gn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:te(Jr).replace("hr",di).replace("heading",` *#{1,6} *[^
]`).replace("lheading",sc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},wh=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_h=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,oc=/^( {2,}|\\)\n(?!\s*$)/,vh=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ws=/[\p{P}\p{S}]/u,to=/[\s\p{P}\p{S}]/u,ac=/[^\s\p{P}\p{S}]/u,kh=te(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,to).getRegex(),Th=/(?!~)[\p{P}\p{S}]/u,Sh=/(?!~)[\s\p{P}\p{S}]/u,Eh=/(?:[^\s\p{P}\p{S}]|~)/u,Ah=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Ih=te(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,ws).getRegex(),lc="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ch=te(lc,"gu").replace(/notPunctSpace/g,ac).replace(/punctSpace/g,to).replace(/punct/g,ws).getRegex(),Oh=te(lc,"gu").replace(/notPunctSpace/g,Eh).replace(/punctSpace/g,Sh).replace(/punct/g,Th).getRegex(),Nh=te("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ac).replace(/punctSpace/g,to).replace(/punct/g,ws).getRegex(),Dh=te(/\\(punct)/,"gu").replace(/punct/g,ws).getRegex(),Lh=te(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Mh=te(Zr).replace("(?:-->|$)","-->").getRegex(),Ph=te("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Mh).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),is=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Fh=te(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",is).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),cc=te(/^!?\[(label)\]\[(ref)\]/).replace("label",is).replace("ref",Qr).getRegex(),uc=te(/^!?\[(ref)\](?:\[\])?/).replace("ref",Qr).getRegex(),Rh=te("reflink|nolink(?!\\()","g").replace("reflink",cc).replace("nolink",uc).getRegex(),no={_backpedal:Gn,anyPunctuation:Dh,autolink:Lh,blockSkip:Ah,br:oc,code:_h,del:Gn,emStrongLDelim:Ih,emStrongRDelimAst:Ch,emStrongRDelimUnd:Nh,escape:wh,link:Fh,nolink:uc,punctuation:kh,reflink:cc,reflinkSearch:Rh,tag:Ph,text:vh,url:Gn},Bh={...no,link:te(/^!?\[(label)\]\((.*?)\)/).replace("label",is).getRegex(),reflink:te(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",is).getRegex()},Sr={...no,emStrongRDelimAst:Oh,url:te(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},$h={...Sr,br:te(oc).replace("{2,}","*").getRegex(),text:te(Sr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Si={normal:eo,gfm:bh,pedantic:xh},On={normal:no,gfm:Sr,breaks:$h,pedantic:Bh},zh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zo=i=>zh[i];function rt(i,e){if(e){if(Ne.escapeTest.test(i))return i.replace(Ne.escapeReplace,Zo)}else if(Ne.escapeTestNoEncode.test(i))return i.replace(Ne.escapeReplaceNoEncode,Zo);return i}function ea(i){try{i=encodeURI(i).replace(Ne.percentDecode,"%")}catch{return null}return i}function ta(i,e){var r;const t=i.replace(Ne.findPipe,(o,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),n=t.split(Ne.splitPipe);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!((r=n.at(-1))!=null&&r.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(Ne.slashPipe,"|");return n}function Nn(i,e,t){const n=i.length;if(n===0)return"";let s=0;for(;s<n&&(i.charAt(n-s-1)===e&&!t);)s++;return i.slice(0,n-s)}function jh(i,e){if(i.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<i.length;n++)if(i[n]==="\\")n++;else if(i[n]===e[0])t++;else if(i[n]===e[1]&&(t--,t<0))return n;return-1}function na(i,e,t,n,s){const r=e.href,o=e.title||null,a=i[1].replace(s.other.outputLinkReplace,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:t,href:r,title:o,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,l}return{type:"image",raw:t,href:r,title:o,text:a}}function Uh(i,e,t){const n=i.match(t.other.indentCodeCompensation);if(n===null)return e;const s=n[1];return e.split(`
`).map(r=>{const o=r.match(t.other.beginningSpace);if(o===null)return r;const[a]=o;return a.length>=s.length?r.slice(s.length):r}).join(`
`)}class ss{constructor(e){F(this,"options");F(this,"rules");F(this,"lexer");this.options=e||Wt}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Nn(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],s=Uh(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const s=Nn(n,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(n=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Nn(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=Nn(t[0],`
`).split(`
`),s="",r="";const o=[];for(;n.length>0;){let a=!1;const l=[];let c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),a=!0;else if(!a)l.push(n[c]);else break;n=n.slice(c);const u=l.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${u}`:u,r=r?`${r}
${h}`:h;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,o,!0),this.lexer.state.top=f,n.length===0)break;const d=o.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){const _=d,y=_.raw+`
`+n.join(`
`),w=this.blockquote(y);o[o.length-1]=w,s=s.substring(0,s.length-_.raw.length)+w.raw,r=r.substring(0,r.length-_.text.length)+w.text;break}else if((d==null?void 0:d.type)==="list"){const _=d,y=_.raw+`
`+n.join(`
`),w=this.list(y);o[o.length-1]=w,s=s.substring(0,s.length-d.raw.length)+w.raw,r=r.substring(0,r.length-_.raw.length)+w.raw,n=y.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const s=n.length>1,r={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:!1,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=s?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let a=!1;for(;e;){let c=!1,u="",h="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,T=>" ".repeat(3*T.length)),d=e.split(`
`,1)[0],_=!f.trim(),y=0;if(this.options.pedantic?(y=2,h=f.trimStart()):_?y=t[1].length+1:(y=t[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,h=f.slice(y),y+=t[1].length),_&&this.rules.other.blankLine.test(d)&&(u+=d+`
`,e=e.substring(d.length+1),c=!0),!c){const T=this.rules.other.nextBulletRegex(y),x=this.rules.other.hrRegex(y),g=this.rules.other.fencesBeginRegex(y),S=this.rules.other.headingBeginRegex(y),D=this.rules.other.htmlBeginRegex(y);for(;e;){const L=e.split(`
`,1)[0];let O;if(d=L,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),O=d):O=d.replace(this.rules.other.tabCharGlobal,"    "),g.test(d)||S.test(d)||D.test(d)||T.test(d)||x.test(d))break;if(O.search(this.rules.other.nonSpaceChar)>=y||!d.trim())h+=`
`+O.slice(y);else{if(_||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||g.test(f)||S.test(f)||x.test(f))break;h+=`
`+d}!_&&!d.trim()&&(_=!0),u+=L+`
`,e=e.substring(L.length+1),f=O.slice(y)}}r.loose||(a?r.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0));let w=null,p;this.options.gfm&&(w=this.rules.other.listIsTask.exec(h),w&&(p=w[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:u,task:!!w,checked:p,loose:!1,text:h,tokens:[]}),r.raw+=u}const l=r.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let c=0;c<r.items.length;c++)if(this.lexer.state.top=!1,r.items[c].tokens=this.lexer.blockTokens(r.items[c].text,[]),!r.loose){const u=r.items[c].tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));r.loose=h}if(r.loose)for(let c=0;c<r.items.length;c++)r.items[c].loose=!0;return r}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:s,title:r}}}table(e){var a;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=ta(t[1]),s=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===s.length){for(const l of s)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<n.length;l++)o.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:o.align[l]});for(const l of r)o.rows.push(ta(l,o.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[u]})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const o=Nn(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=jh(t[2],"()");if(o>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let s=t[2],r="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(s);o&&(s=o[1],r=o[3])}else r=t[3]?t[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?s=s.slice(1):s=s.slice(1,-1)),na(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const s=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[s.toLowerCase()];if(!r){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return na(n,r,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...s[0]].length-1;let a,l,c=o,u=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+o);(s=h.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(l=[...a].length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const f=[...s[0]][0].length,d=e.slice(0,o+s.index+f+l);if(Math.min(o,l)%2){const y=d.slice(1,-1);return{type:"em",raw:d,text:y,tokens:this.lexer.inlineTokens(y)}}const _=d.slice(2,-2);return{type:"strong",raw:d,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(n),r=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return s&&r&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,s;return t[2]==="@"?(n=t[1],s="mailto:"+n):(n=t[1],s=n),{type:"link",raw:t[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let s,r;if(t[2]==="@")s=t[0],r="mailto:"+s;else{let o;do o=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(o!==t[0]);s=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}}class Ue{constructor(e){F(this,"tokens");F(this,"options");F(this,"state");F(this,"tokenizer");F(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Wt,this.options.tokenizer=this.options.tokenizer||new ss,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Ne,block:Si.normal,inline:On.normal};this.options.pedantic?(t.block=Si.pedantic,t.inline=On.pedantic):this.options.gfm&&(t.block=Si.gfm,this.options.breaks?t.inline=On.breaks:t.inline=On.gfm),this.tokenizer.rules=t}static get rules(){return{block:Si,inline:On}}static lex(e,t){return new Ue(t).lex(e)}static lexInline(e,t){return new Ue(t).inlineTokens(e)}lex(e){e=e.replace(Ne.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var s,r,o;for(this.options.pedantic&&(e=e.replace(Ne.tabCharGlobal,"    ").replace(Ne.spaceLine,""));e;){let a;if((r=(s=this.options.extensions)==null?void 0:s.block)!=null&&r.some(c=>(a=c.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const c=t.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let l=e;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0;const u=e.slice(1);let h;this.options.extensions.startBlock.forEach(f=>{h=f.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){const c=t.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(a),n=l.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(a);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var a,l,c;let n=e,s=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let r=!1,o="";for(;e;){r||(o=""),r=!1;let u;if((l=(a=this.options.extensions)==null?void 0:a.inline)!=null&&l.some(f=>(u=f.call({lexer:this},e,t))?(e=e.substring(u.raw.length),t.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);const f=t.at(-1);u.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):t.push(u);continue}if(u=this.tokenizer.emStrong(e,n,o)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),t.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),t.push(u);continue}let h=e;if((c=this.options.extensions)!=null&&c.startInline){let f=1/0;const d=e.slice(1);let _;this.options.extensions.startInline.forEach(y=>{_=y.call({lexer:this},d),typeof _=="number"&&_>=0&&(f=Math.min(f,_))}),f<1/0&&f>=0&&(h=e.substring(0,f+1))}if(u=this.tokenizer.inlineText(h)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(o=u.raw.slice(-1)),r=!0;const f=t.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):t.push(u);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return t}}class rs{constructor(e){F(this,"options");F(this,"parser");this.options=e||Wt}space(e){return""}code({text:e,lang:t,escaped:n}){var o;const s=(o=(t||"").match(Ne.notSpaceStart))==null?void 0:o[0],r=e.replace(Ne.endingNewline,"")+`
`;return s?'<pre><code class="language-'+rt(s)+'">'+(n?r:rt(r,!0))+`</code></pre>
`:"<pre><code>"+(n?r:rt(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let s="";for(let a=0;a<e.items.length;a++){const l=e.items[a];s+=this.listitem(l)}const r=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+r+o+`>
`+s+"</"+r+`>
`}listitem(e){var n;let t="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+rt(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):t+=s+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let r=0;r<e.header.length;r++)n+=this.tablecell(e.header[r]);t+=this.tablerow({text:n});let s="";for(let r=0;r<e.rows.length;r++){const o=e.rows[r];n="";for(let a=0;a<o.length;a++)n+=this.tablecell(o[a]);s+=this.tablerow({text:n})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${rt(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const s=this.parser.parseInline(n),r=ea(e);if(r===null)return s;e=r;let o='<a href="'+e+'"';return t&&(o+=' title="'+rt(t)+'"'),o+=">"+s+"</a>",o}image({href:e,title:t,text:n}){const s=ea(e);if(s===null)return rt(n);e=s;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${rt(t)}"`),r+=">",r}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:rt(e.text)}}class io{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class He{constructor(e){F(this,"options");F(this,"renderer");F(this,"textRenderer");this.options=e||Wt,this.options.renderer=this.options.renderer||new rs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new io}static parse(e,t){return new He(t).parse(e)}static parseInline(e,t){return new He(t).parseInline(e)}parse(e,t=!0){var s,r;let n="";for(let o=0;o<e.length;o++){const a=e[o];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[a.type]){const c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){n+=u||"";continue}}const l=a;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;o+1<e.length&&e[o+1].type==="text";)c=e[++o],u+=`
`+this.renderer.text(c);t?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(e,t=this.renderer){var s,r;let n="";for(let o=0;o<e.length;o++){const a=e[o];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[a.type]){const c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=c||"";continue}}const l=a;switch(l.type){case"escape":{n+=t.text(l);break}case"html":{n+=t.html(l);break}case"link":{n+=t.link(l);break}case"image":{n+=t.image(l);break}case"strong":{n+=t.strong(l);break}case"em":{n+=t.em(l);break}case"codespan":{n+=t.codespan(l);break}case"br":{n+=t.br(l);break}case"del":{n+=t.del(l);break}case"text":{n+=t.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}}class Xn{constructor(e){F(this,"options");F(this,"block");this.options=e||Wt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Ue.lex:Ue.lexInline}provideParser(){return this.block?He.parse:He.parseInline}}F(Xn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Hh{constructor(...e){F(this,"defaults",Xr());F(this,"options",this.setOptions);F(this,"parse",this.parseMarkdown(!0));F(this,"parseInline",this.parseMarkdown(!1));F(this,"Parser",He);F(this,"Renderer",rs);F(this,"TextRenderer",io);F(this,"Lexer",Ue);F(this,"Tokenizer",ss);F(this,"Hooks",Xn);this.use(...e)}walkTokens(e,t){var s,r;let n=[];for(const o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)n=n.concat(this.walkTokens(l.tokens,t));for(const l of a.rows)for(const c of l)n=n.concat(this.walkTokens(c.tokens,t));break}case"list":{const a=o;n=n.concat(this.walkTokens(a.items,t));break}default:{const a=o;(r=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&r[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const c=a[l].flat(1/0);n=n.concat(this.walkTokens(c,t))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const s={...n};if(s.async=this.defaults.async||s.async||!1,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){const o=t.renderers[r.name];o?t.renderers[r.name]=function(...a){let l=r.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[r.level];o?o.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),s.extensions=t),n.renderer){const r=this.defaults.renderer||new rs(this.defaults);for(const o in n.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o,l=n.renderer[a],c=r[a];r[a]=(...u)=>{let h=l.apply(r,u);return h===!1&&(h=c.apply(r,u)),h||""}}s.renderer=r}if(n.tokenizer){const r=this.defaults.tokenizer||new ss(this.defaults);for(const o in n.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=n.tokenizer[a],c=r[a];r[a]=(...u)=>{let h=l.apply(r,u);return h===!1&&(h=c.apply(r,u)),h}}s.tokenizer=r}if(n.hooks){const r=this.defaults.hooks||new Xn;for(const o in n.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const a=o,l=n.hooks[a],c=r[a];Xn.passThroughHooks.has(o)?r[a]=u=>{if(this.defaults.async)return Promise.resolve(l.call(r,u)).then(f=>c.call(r,f));const h=l.call(r,u);return c.call(r,h)}:r[a]=(...u)=>{let h=l.apply(r,u);return h===!1&&(h=c.apply(r,u)),h}}s.hooks=r}if(n.walkTokens){const r=this.defaults.walkTokens,o=n.walkTokens;s.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),r&&(l=l.concat(r.call(this,a))),l}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ue.lex(e,t??this.defaults)}parser(e,t){return He.parse(e,t??this.defaults)}parseMarkdown(e){return(n,s)=>{const r={...s},o={...this.defaults,...r},a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const l=o.hooks?o.hooks.provideLexer():e?Ue.lex:Ue.lexInline,c=o.hooks?o.hooks.provideParser():e?He.parse:He.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(u=>l(u,o)).then(u=>o.hooks?o.hooks.processAllTokens(u):u).then(u=>o.walkTokens?Promise.all(this.walkTokens(u,o.walkTokens)).then(()=>u):u).then(u=>c(u,o)).then(u=>o.hooks?o.hooks.postprocess(u):u).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));let u=l(n,o);o.hooks&&(u=o.hooks.processAllTokens(u)),o.walkTokens&&this.walkTokens(u,o.walkTokens);let h=c(u,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(u){return a(u)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+rt(n.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(n);throw n}}}const Ut=new Hh;function Q(i,e){return Ut.parse(i,e)}Q.options=Q.setOptions=function(i){return Ut.setOptions(i),Q.defaults=Ut.defaults,nc(Q.defaults),Q};Q.getDefaults=Xr;Q.defaults=Wt;Q.use=function(...i){return Ut.use(...i),Q.defaults=Ut.defaults,nc(Q.defaults),Q};Q.walkTokens=function(i,e){return Ut.walkTokens(i,e)};Q.parseInline=Ut.parseInline;Q.Parser=He;Q.parser=He.parse;Q.Renderer=rs;Q.TextRenderer=io;Q.Lexer=Ue;Q.lexer=Ue.lex;Q.Tokenizer=ss;Q.Hooks=Xn;Q.parse=Q;Q.options;Q.setOptions;Q.use;Q.walkTokens;Q.parseInline;He.parse;Ue.lex;/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:hc,setPrototypeOf:ia,isFrozen:Kh,getPrototypeOf:Wh,getOwnPropertyDescriptor:Vh}=Object;let{freeze:De,seal:qe,create:fc}=Object,{apply:Er,construct:Ar}=typeof Reflect<"u"&&Reflect;De||(De=function(e){return e});qe||(qe=function(e){return e});Er||(Er=function(e,t,n){return e.apply(t,n)});Ar||(Ar=function(e,t){return new e(...t)});const Ei=ze(Array.prototype.forEach),sa=ze(Array.prototype.pop),Dn=ze(Array.prototype.push),Yi=ze(String.prototype.toLowerCase),Vs=ze(String.prototype.toString),ra=ze(String.prototype.match),Ln=ze(String.prototype.replace),qh=ze(String.prototype.indexOf),Yh=ze(String.prototype.trim),Je=ze(Object.prototype.hasOwnProperty),Ce=ze(RegExp.prototype.test),Mn=Gh(TypeError);function ze(i){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return Er(i,e,n)}}function Gh(i){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ar(i,t)}}function V(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yi;ia&&ia(i,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const r=t(s);r!==s&&(Kh(e)||(e[n]=r),s=r)}i[s]=!0}return i}function Xh(i){for(let e=0;e<i.length;e++)Je(i,e)||(i[e]=null);return i}function Nt(i){const e=fc(null);for(const[t,n]of hc(i))Je(i,t)&&(Array.isArray(n)?e[t]=Xh(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=Nt(n):e[t]=n);return e}function Pn(i,e){for(;i!==null;){const n=Vh(i,e);if(n){if(n.get)return ze(n.get);if(typeof n.value=="function")return ze(n.value)}i=Wh(i)}function t(){return null}return t}const oa=De(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qs=De(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ys=De(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Jh=De(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gs=De(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Qh=De(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),aa=De(["#text"]),la=De(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Xs=De(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ca=De(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ai=De(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Zh=qe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ef=qe(/<%[\w\W]*|[\w\W]*%>/gm),tf=qe(/\$\{[\w\W]*}/gm),nf=qe(/^data-[\-\w.\u00B7-\uFFFF]+$/),sf=qe(/^aria-[\-\w]+$/),dc=qe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rf=qe(/^(?:\w+script|data):/i),of=qe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pc=qe(/^html$/i),af=qe(/^[a-z][.\w]*(-[.\w]+)+$/i);var ua=Object.freeze({__proto__:null,ARIA_ATTR:sf,ATTR_WHITESPACE:of,CUSTOM_ELEMENT:af,DATA_ATTR:nf,DOCTYPE_NAME:pc,ERB_EXPR:ef,IS_ALLOWED_URI:dc,IS_SCRIPT_OR_DATA:rf,MUSTACHE_EXPR:Zh,TMPLIT_EXPR:tf});const Fn={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},lf=function(){return typeof window>"u"?null:window},cf=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";t&&t.hasAttribute(s)&&(n=t.getAttribute(s));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},ha=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function gc(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lf();const e=K=>gc(K);if(e.version="3.2.3",e.removed=[],!i||!i.document||i.document.nodeType!==Fn.document)return e.isSupported=!1,e;let{document:t}=i;const n=t,s=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=i,_=l.prototype,y=Pn(_,"cloneNode"),w=Pn(_,"remove"),p=Pn(_,"nextSibling"),T=Pn(_,"childNodes"),x=Pn(_,"parentNode");if(typeof o=="function"){const K=t.createElement("template");K.content&&K.content.ownerDocument&&(t=K.content.ownerDocument)}let g,S="";const{implementation:D,createNodeIterator:L,createDocumentFragment:O,getElementsByTagName:k}=t,{importNode:$}=n;let j=ha();e.isSupported=typeof hc=="function"&&typeof x=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:b,ERB_EXPR:A,TMPLIT_EXPR:I,DATA_ATTR:E,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:H}=ua;let{IS_ALLOWED_URI:ee}=ua,Y=null;const _e=V({},[...oa,...qs,...Ys,...Gs,...aa]);let se=null;const Be=V({},[...la,...Xs,...ca,...Ai]);let J=Object.seal(fc(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,v=null,m=!0,P=!0,N=!1,X=!0,ie=!1,ce=!0,fe=!1,me=!1,tt=!1,oe=!1,Le=!1,Gt=!1,En=!0,Xt=!1;const xi="user-content-";let zs=!0,An=!1,Jt={},Qt=null;const Fo=V({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ro=null;const Bo=V({},["audio","video","img","source","image","track"]);let js=null;const $o=V({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wi="http://www.w3.org/1998/Math/MathML",_i="http://www.w3.org/2000/svg",ht="http://www.w3.org/1999/xhtml";let Zt=ht,Us=!1,Hs=null;const eh=V({},[wi,_i,ht],Vs);let vi=V({},["mi","mo","mn","ms","mtext"]),ki=V({},["annotation-xml"]);const th=V({},["title","style","font","a","script"]);let In=null;const nh=["application/xhtml+xml","text/html"],ih="text/html";let ye=null,en=null;const sh=t.createElement("form"),zo=function(C){return C instanceof RegExp||C instanceof Function},Ks=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(en&&en===C)){if((!C||typeof C!="object")&&(C={}),C=Nt(C),In=nh.indexOf(C.PARSER_MEDIA_TYPE)===-1?ih:C.PARSER_MEDIA_TYPE,ye=In==="application/xhtml+xml"?Vs:Yi,Y=Je(C,"ALLOWED_TAGS")?V({},C.ALLOWED_TAGS,ye):_e,se=Je(C,"ALLOWED_ATTR")?V({},C.ALLOWED_ATTR,ye):Be,Hs=Je(C,"ALLOWED_NAMESPACES")?V({},C.ALLOWED_NAMESPACES,Vs):eh,js=Je(C,"ADD_URI_SAFE_ATTR")?V(Nt($o),C.ADD_URI_SAFE_ATTR,ye):$o,Ro=Je(C,"ADD_DATA_URI_TAGS")?V(Nt(Bo),C.ADD_DATA_URI_TAGS,ye):Bo,Qt=Je(C,"FORBID_CONTENTS")?V({},C.FORBID_CONTENTS,ye):Fo,Ae=Je(C,"FORBID_TAGS")?V({},C.FORBID_TAGS,ye):{},v=Je(C,"FORBID_ATTR")?V({},C.FORBID_ATTR,ye):{},Jt=Je(C,"USE_PROFILES")?C.USE_PROFILES:!1,m=C.ALLOW_ARIA_ATTR!==!1,P=C.ALLOW_DATA_ATTR!==!1,N=C.ALLOW_UNKNOWN_PROTOCOLS||!1,X=C.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ie=C.SAFE_FOR_TEMPLATES||!1,ce=C.SAFE_FOR_XML!==!1,fe=C.WHOLE_DOCUMENT||!1,oe=C.RETURN_DOM||!1,Le=C.RETURN_DOM_FRAGMENT||!1,Gt=C.RETURN_TRUSTED_TYPE||!1,tt=C.FORCE_BODY||!1,En=C.SANITIZE_DOM!==!1,Xt=C.SANITIZE_NAMED_PROPS||!1,zs=C.KEEP_CONTENT!==!1,An=C.IN_PLACE||!1,ee=C.ALLOWED_URI_REGEXP||dc,Zt=C.NAMESPACE||ht,vi=C.MATHML_TEXT_INTEGRATION_POINTS||vi,ki=C.HTML_INTEGRATION_POINTS||ki,J=C.CUSTOM_ELEMENT_HANDLING||{},C.CUSTOM_ELEMENT_HANDLING&&zo(C.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(J.tagNameCheck=C.CUSTOM_ELEMENT_HANDLING.tagNameCheck),C.CUSTOM_ELEMENT_HANDLING&&zo(C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(J.attributeNameCheck=C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),C.CUSTOM_ELEMENT_HANDLING&&typeof C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(J.allowCustomizedBuiltInElements=C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ie&&(P=!1),Le&&(oe=!0),Jt&&(Y=V({},aa),se=[],Jt.html===!0&&(V(Y,oa),V(se,la)),Jt.svg===!0&&(V(Y,qs),V(se,Xs),V(se,Ai)),Jt.svgFilters===!0&&(V(Y,Ys),V(se,Xs),V(se,Ai)),Jt.mathMl===!0&&(V(Y,Gs),V(se,ca),V(se,Ai))),C.ADD_TAGS&&(Y===_e&&(Y=Nt(Y)),V(Y,C.ADD_TAGS,ye)),C.ADD_ATTR&&(se===Be&&(se=Nt(se)),V(se,C.ADD_ATTR,ye)),C.ADD_URI_SAFE_ATTR&&V(js,C.ADD_URI_SAFE_ATTR,ye),C.FORBID_CONTENTS&&(Qt===Fo&&(Qt=Nt(Qt)),V(Qt,C.FORBID_CONTENTS,ye)),zs&&(Y["#text"]=!0),fe&&V(Y,["html","head","body"]),Y.table&&(V(Y,["tbody"]),delete Ae.tbody),C.TRUSTED_TYPES_POLICY){if(typeof C.TRUSTED_TYPES_POLICY.createHTML!="function")throw Mn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof C.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Mn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=C.TRUSTED_TYPES_POLICY,S=g.createHTML("")}else g===void 0&&(g=cf(d,s)),g!==null&&typeof S=="string"&&(S=g.createHTML(""));De&&De(C),en=C}},jo=V({},[...qs,...Ys,...Jh]),Uo=V({},[...Gs,...Qh]),rh=function(C){let B=x(C);(!B||!B.tagName)&&(B={namespaceURI:Zt,tagName:"template"});const U=Yi(C.tagName),ae=Yi(B.tagName);return Hs[C.namespaceURI]?C.namespaceURI===_i?B.namespaceURI===ht?U==="svg":B.namespaceURI===wi?U==="svg"&&(ae==="annotation-xml"||vi[ae]):!!jo[U]:C.namespaceURI===wi?B.namespaceURI===ht?U==="math":B.namespaceURI===_i?U==="math"&&ki[ae]:!!Uo[U]:C.namespaceURI===ht?B.namespaceURI===_i&&!ki[ae]||B.namespaceURI===wi&&!vi[ae]?!1:!Uo[U]&&(th[U]||!jo[U]):!!(In==="application/xhtml+xml"&&Hs[C.namespaceURI]):!1},nt=function(C){Dn(e.removed,{element:C});try{x(C).removeChild(C)}catch{w(C)}},Ti=function(C,B){try{Dn(e.removed,{attribute:B.getAttributeNode(C),from:B})}catch{Dn(e.removed,{attribute:null,from:B})}if(B.removeAttribute(C),C==="is")if(oe||Le)try{nt(B)}catch{}else try{B.setAttribute(C,"")}catch{}},Ho=function(C){let B=null,U=null;if(tt)C="<remove></remove>"+C;else{const xe=ra(C,/^[\r\n\t ]+/);U=xe&&xe[0]}In==="application/xhtml+xml"&&Zt===ht&&(C='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+C+"</body></html>");const ae=g?g.createHTML(C):C;if(Zt===ht)try{B=new f().parseFromString(ae,In)}catch{}if(!B||!B.documentElement){B=D.createDocument(Zt,"template",null);try{B.documentElement.innerHTML=Us?S:ae}catch{}}const ve=B.body||B.documentElement;return C&&U&&ve.insertBefore(t.createTextNode(U),ve.childNodes[0]||null),Zt===ht?k.call(B,fe?"html":"body")[0]:fe?B.documentElement:ve},Ko=function(C){return L.call(C.ownerDocument||C,C,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Ws=function(C){return C instanceof h&&(typeof C.nodeName!="string"||typeof C.textContent!="string"||typeof C.removeChild!="function"||!(C.attributes instanceof u)||typeof C.removeAttribute!="function"||typeof C.setAttribute!="function"||typeof C.namespaceURI!="string"||typeof C.insertBefore!="function"||typeof C.hasChildNodes!="function")},Wo=function(C){return typeof a=="function"&&C instanceof a};function ft(K,C,B){Ei(K,U=>{U.call(e,C,B,en)})}const Vo=function(C){let B=null;if(ft(j.beforeSanitizeElements,C,null),Ws(C))return nt(C),!0;const U=ye(C.nodeName);if(ft(j.uponSanitizeElement,C,{tagName:U,allowedTags:Y}),C.hasChildNodes()&&!Wo(C.firstElementChild)&&Ce(/<[/\w]/g,C.innerHTML)&&Ce(/<[/\w]/g,C.textContent)||C.nodeType===Fn.progressingInstruction||ce&&C.nodeType===Fn.comment&&Ce(/<[/\w]/g,C.data))return nt(C),!0;if(!Y[U]||Ae[U]){if(!Ae[U]&&Yo(U)&&(J.tagNameCheck instanceof RegExp&&Ce(J.tagNameCheck,U)||J.tagNameCheck instanceof Function&&J.tagNameCheck(U)))return!1;if(zs&&!Qt[U]){const ae=x(C)||C.parentNode,ve=T(C)||C.childNodes;if(ve&&ae){const xe=ve.length;for(let Me=xe-1;Me>=0;--Me){const it=y(ve[Me],!0);it.__removalCount=(C.__removalCount||0)+1,ae.insertBefore(it,p(C))}}}return nt(C),!0}return C instanceof l&&!rh(C)||(U==="noscript"||U==="noembed"||U==="noframes")&&Ce(/<\/no(script|embed|frames)/i,C.innerHTML)?(nt(C),!0):(ie&&C.nodeType===Fn.text&&(B=C.textContent,Ei([b,A,I],ae=>{B=Ln(B,ae," ")}),C.textContent!==B&&(Dn(e.removed,{element:C.cloneNode()}),C.textContent=B)),ft(j.afterSanitizeElements,C,null),!1)},qo=function(C,B,U){if(En&&(B==="id"||B==="name")&&(U in t||U in sh))return!1;if(!(P&&!v[B]&&Ce(E,B))){if(!(m&&Ce(z,B))){if(!se[B]||v[B]){if(!(Yo(C)&&(J.tagNameCheck instanceof RegExp&&Ce(J.tagNameCheck,C)||J.tagNameCheck instanceof Function&&J.tagNameCheck(C))&&(J.attributeNameCheck instanceof RegExp&&Ce(J.attributeNameCheck,B)||J.attributeNameCheck instanceof Function&&J.attributeNameCheck(B))||B==="is"&&J.allowCustomizedBuiltInElements&&(J.tagNameCheck instanceof RegExp&&Ce(J.tagNameCheck,U)||J.tagNameCheck instanceof Function&&J.tagNameCheck(U))))return!1}else if(!js[B]){if(!Ce(ee,Ln(U,R,""))){if(!((B==="src"||B==="xlink:href"||B==="href")&&C!=="script"&&qh(U,"data:")===0&&Ro[C])){if(!(N&&!Ce(M,Ln(U,R,"")))){if(U)return!1}}}}}}return!0},Yo=function(C){return C!=="annotation-xml"&&ra(C,H)},Go=function(C){ft(j.beforeSanitizeAttributes,C,null);const{attributes:B}=C;if(!B||Ws(C))return;const U={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se,forceKeepAttr:void 0};let ae=B.length;for(;ae--;){const ve=B[ae],{name:xe,namespaceURI:Me,value:it}=ve,Cn=ye(xe);let Ie=xe==="value"?it:Yh(it);if(U.attrName=Cn,U.attrValue=Ie,U.keepAttr=!0,U.forceKeepAttr=void 0,ft(j.uponSanitizeAttribute,C,U),Ie=U.attrValue,Xt&&(Cn==="id"||Cn==="name")&&(Ti(xe,C),Ie=xi+Ie),ce&&Ce(/((--!?|])>)|<\/(style|title)/i,Ie)){Ti(xe,C);continue}if(U.forceKeepAttr||(Ti(xe,C),!U.keepAttr))continue;if(!X&&Ce(/\/>/i,Ie)){Ti(xe,C);continue}ie&&Ei([b,A,I],Jo=>{Ie=Ln(Ie,Jo," ")});const Xo=ye(C.nodeName);if(qo(Xo,Cn,Ie)){if(g&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Me)switch(d.getAttributeType(Xo,Cn)){case"TrustedHTML":{Ie=g.createHTML(Ie);break}case"TrustedScriptURL":{Ie=g.createScriptURL(Ie);break}}try{Me?C.setAttributeNS(Me,xe,Ie):C.setAttribute(xe,Ie),Ws(C)?nt(C):sa(e.removed)}catch{}}}ft(j.afterSanitizeAttributes,C,null)},oh=function K(C){let B=null;const U=Ko(C);for(ft(j.beforeSanitizeShadowDOM,C,null);B=U.nextNode();)ft(j.uponSanitizeShadowNode,B,null),Vo(B),Go(B),B.content instanceof r&&K(B.content);ft(j.afterSanitizeShadowDOM,C,null)};return e.sanitize=function(K){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=null,U=null,ae=null,ve=null;if(Us=!K,Us&&(K="<!-->"),typeof K!="string"&&!Wo(K))if(typeof K.toString=="function"){if(K=K.toString(),typeof K!="string")throw Mn("dirty is not a string, aborting")}else throw Mn("toString is not a function");if(!e.isSupported)return K;if(me||Ks(C),e.removed=[],typeof K=="string"&&(An=!1),An){if(K.nodeName){const it=ye(K.nodeName);if(!Y[it]||Ae[it])throw Mn("root node is forbidden and cannot be sanitized in-place")}}else if(K instanceof a)B=Ho("<!---->"),U=B.ownerDocument.importNode(K,!0),U.nodeType===Fn.element&&U.nodeName==="BODY"||U.nodeName==="HTML"?B=U:B.appendChild(U);else{if(!oe&&!ie&&!fe&&K.indexOf("<")===-1)return g&&Gt?g.createHTML(K):K;if(B=Ho(K),!B)return oe?null:Gt?S:""}B&&tt&&nt(B.firstChild);const xe=Ko(An?K:B);for(;ae=xe.nextNode();)Vo(ae),Go(ae),ae.content instanceof r&&oh(ae.content);if(An)return K;if(oe){if(Le)for(ve=O.call(B.ownerDocument);B.firstChild;)ve.appendChild(B.firstChild);else ve=B;return(se.shadowroot||se.shadowrootmode)&&(ve=$.call(n,ve,!0)),ve}let Me=fe?B.outerHTML:B.innerHTML;return fe&&Y["!doctype"]&&B.ownerDocument&&B.ownerDocument.doctype&&B.ownerDocument.doctype.name&&Ce(pc,B.ownerDocument.doctype.name)&&(Me="<!DOCTYPE "+B.ownerDocument.doctype.name+`>
`+Me),ie&&Ei([b,A,I],it=>{Me=Ln(Me,it," ")}),g&&Gt?g.createHTML(Me):Me},e.setConfig=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ks(K),me=!0},e.clearConfig=function(){en=null,me=!1},e.isValidAttribute=function(K,C,B){en||Ks({});const U=ye(K),ae=ye(C);return qo(U,ae,B)},e.addHook=function(K,C){typeof C=="function"&&Dn(j[K],C)},e.removeHook=function(K){return sa(j[K])},e.removeHooks=function(K){j[K]=[]},e.removeAllHooks=function(){j=ha()},e}var uf=gc();Q.setOptions({breaks:!0,gfm:!0,headerIds:!1});class hf{constructor(){F(this,"id","markdown-editor");F(this,"name","Markdown Editor");F(this,"description","IDE-style Markdown editor with preview");F(this,"defaultText",`# Welcome to the Markdown Editor

## Features
- Line numbers
- Tab indentation support
- IDE-like interface
- Live preview
- Syntax highlighting

## Code Example
\`\`\`javascript
function example() {
    const x = 10;
    return x * 2;
}
\`\`\`

## Try it out!

The preview updates in real-time`);F(this,"lastContent","");F(this,"lineNumbers",null);F(this,"editor",null)}render(){const e=document.getElementById("toolContent");e&&(e.innerHTML=`
      <div class="tool-header">
        <h1 class="tool-title">${this.name}</h1>
        <p class="tool-description">${this.description}</p>
      </div>
      <div class="markdown-container">
        <div class="toolbar">
          <div class="toolbar-left">
            <button id="copyHtml" class="button">Copy HTML</button>
            <button id="copyMd" class="button">Copy Markdown</button>
            <button id="downloadMd" class="button">Download .md</button>
            <button id="resetContent" class="button">Reset</button>
          </div>
        </div>
        <div class="editor-container">
          <div class="editor-pane">
            <div class="editor-with-lines">
              <div class="line-numbers" id="lineNumbers"></div>
              <textarea id="markdownInput" spellcheck="false" class="editor" wrap="off"></textarea>
            </div>
          </div>
          <div class="preview-pane">
            <div id="preview" class="preview"></div>
          </div>
        </div>
      </div>
    `,this.setupEditor(),this.setupButtons(),this.addStyles())}setupEditor(){this.editor=document.getElementById("markdownInput"),this.lineNumbers=document.getElementById("lineNumbers");const e=document.getElementById("preview");!this.editor||!this.lineNumbers||!e||(this.editor.value=this.lastContent||this.defaultText,this.updateLineNumbers(),this.updatePreview(),this.editor.addEventListener("input",()=>{this.lastContent=this.editor.value,this.updateLineNumbers(),this.updatePreview()}),this.editor.addEventListener("scroll",()=>{this.lineNumbers&&(this.lineNumbers.scrollTop=this.editor.scrollTop)}),this.editor.addEventListener("keydown",t=>{if(t.key==="Tab"){t.preventDefault();const n=this.editor.selectionStart,s=this.editor.selectionEnd;if(n===s){const r=this.editor.value;this.editor.value=r.substring(0,n)+"    "+r.substring(s),this.editor.selectionStart=this.editor.selectionEnd=n+4}else{const r=this.editor.value.slice(n,s).split(`
`);if(t.shiftKey){const a=r.map(l=>l.startsWith("    ")?l.slice(4):l.startsWith("	")?l.slice(1):l).join(`
`);this.editor.value=this.editor.value.slice(0,n)+a+this.editor.value.slice(s),this.editor.selectionStart=n,this.editor.selectionEnd=n+a.length}else{const a=r.map(l=>"    "+l).join(`
`);this.editor.value=this.editor.value.slice(0,n)+a+this.editor.value.slice(s),this.editor.selectionStart=n,this.editor.selectionEnd=n+a.length}}this.lastContent=this.editor.value,this.updateLineNumbers(),this.updatePreview()}}),this.editor.addEventListener("keyup",()=>this.updateLineNumbers()),this.editor.addEventListener("paste",()=>setTimeout(()=>this.updateLineNumbers(),0)),this.editor.addEventListener("cut",()=>setTimeout(()=>this.updateLineNumbers(),0)))}updateLineNumbers(){if(!this.editor||!this.lineNumbers)return;const e=this.editor.value.split(`
`).length,t=Array(e).fill(0).map((n,s)=>`<div class="line-number">${s+1}</div>`).join("");this.lineNumbers.innerHTML=t}updatePreview(){if(!this.editor)return;const e=document.getElementById("preview");if(!e)return;const t=this.editor.value,n=uf.sanitize(Q(t));e.innerHTML=n}setupButtons(){const e=document.getElementById("copyHtml"),t=document.getElementById("copyMd"),n=document.getElementById("downloadMd"),s=document.getElementById("resetContent");!e||!t||!n||!s||!this.editor||(e.addEventListener("click",()=>{const r=document.getElementById("preview");r&&navigator.clipboard.writeText(r.innerHTML).then(()=>this.showToast("HTML copied to clipboard!")).catch(()=>this.showToast("Failed to copy HTML"))}),t.addEventListener("click",()=>{navigator.clipboard.writeText(this.editor.value).then(()=>this.showToast("Markdown copied to clipboard!")).catch(()=>this.showToast("Failed to copy Markdown"))}),n.addEventListener("click",()=>{const r=this.editor.value,o=new Blob([r],{type:"text/markdown"}),a=URL.createObjectURL(o),l=document.createElement("a");l.href=a,l.download="document.md",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),this.showToast("Markdown file downloaded!")}),s.addEventListener("click",()=>{this.editor.value=this.defaultText,this.lastContent=this.defaultText,this.updateLineNumbers(),this.updatePreview(),this.showToast("Content reset to default")}))}showToast(e){const t=document.querySelector(".markdown-container");if(!t)return;const n=document.createElement("div");n.className="toast",n.textContent=e,t.appendChild(n),n.offsetHeight,n.classList.add("show"),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},2e3)}addStyles(){const e=document.createElement("style");e.textContent=`
      .markdown-container {
        display: flex;
        flex-direction: column;
        height: calc(100vh - 180px);
        gap: 1rem;
      }

      .toolbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem;
        width: 100%;
      }

      .toolbar-left {
        display: flex;
        gap: 0.5rem;
      }

      .editor-container {
        display: flex;
        flex: 1;
        gap: 1rem;
        min-height: 0;
      }

      .editor-pane,
      .preview-pane {
        flex: 1;
        overflow: hidden;
        border: 1px solid var(--border);
        border-radius: 4px;
        background: var(--background);
      }

      .editor-with-lines {
        display: flex;
        height: 100%;
        overflow: hidden;
      }

      .line-numbers {
        padding: 1rem 0.5rem;
        background: var(--sidebar-bg);
        border-right: 1px solid var(--border);
        color: var(--text-secondary);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        text-align: right;
        user-select: none;
        overflow-y: hidden;
      }

      .line-number {
        padding: 0 0.5rem;
        min-width: 2.5em;
      }

      .editor {
        flex: 1;
        padding: 1rem;
        border: none;
        background: transparent;
        color: var(--text);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        resize: none;
        outline: none;
        overflow-y: auto;
      }

      .preview {
        height: 100%;
        padding: 1rem;
        overflow-y: auto;
        color: var(--text);
      }

      .preview h1:first-child {
        margin-top: 0;
      }

      .preview h1,
      .preview h2,
      .preview h3,
      .preview h4,
      .preview h5,
      .preview h6 {
        margin-top: 1.5em;
        margin-bottom: 0.5em;
        line-height: 1.2;
      }

      .preview h1 { font-size: 2em; }
      .preview h2 { font-size: 1.5em; }
      .preview h3 { font-size: 1.25em; }

      .preview p {
        margin: 1em 0;
        line-height: 1.6;
      }

      .preview pre {
        background: var(--sidebar-bg);
        padding: 1rem;
        border-radius: 4px;
        overflow-x: auto;
      }

      .preview code {
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 0.9em;
        padding: 0.2em 0.4em;
        background: var(--sidebar-bg);
        border-radius: 3px;
      }

      .preview pre code {
        padding: 0;
        background: transparent;
      }

      .preview blockquote {
        margin: 1em 0;
        padding-left: 1em;
        border-left: 4px solid var(--primary);
        color: var(--text-secondary);
      }

      .preview table {
        border-collapse: collapse;
        width: 100%;
        margin: 1em 0;
      }

      .preview th,
      .preview td {
        border: 1px solid var(--border);
        padding: 0.5em;
        text-align: left;
      }

      .preview th {
        background: var(--sidebar-bg);
      }

      .preview img {
        max-width: 100%;
        height: auto;
      }

      .preview ul,
      .preview ol {
        margin: 1em 0;
        padding-left: 2em;
      }

      .preview li {
        margin: 0.5em 0;
      }

      .toast {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%) translateY(100%);
        background: var(--primary);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        opacity: 0;
        transition: transform 0.3s, opacity 0.3s;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }
    `,document.head.appendChild(e)}}class ff{constructor(){F(this,"id","json-formatter");F(this,"name","JSON Formatter");F(this,"description","A powerful JSON formatter and validator with support for beautification, minification, and error detection.");F(this,"defaultText",`{
  "example": {
    "number": 42,
    "string": "Hello World",
    "array": [1, 2, 3],
    "nested": {
      "boolean": true,
      "null": null
    }
  }
}`);F(this,"lastContent","")}render(){const e=document.getElementById("toolContent");e&&(e.innerHTML=`
      <div class="tool-header">
        <h1 class="tool-title">${this.name}</h1>
        <p class="tool-description">${this.description}</p>
      </div>
      <div class="json-container">
        <div class="toolbar">
          <div class="toolbar-left">
            <button id="formatJson" class="button">Format</button>
            <button id="minifyJson" class="button">Minify</button>
            <button id="copyJson" class="button">Copy</button>
            <button id="resetJson" class="button">Reset</button>
          </div>
          <div class="toolbar-right">
            <label class="space-label">Spaces:</label>
            <select id="spaceCount" class="space-select">
              <option value="2">2</option>
              <option value="4">4</option>
              <option value="8">8</option>
            </select>
          </div>
        </div>
        <div class="editor-container">
          <div class="editor-with-lines">
            <div class="line-numbers" id="lineNumbers"></div>
            <div class="editor-wrapper">
              <textarea id="jsonInput" spellcheck="false" class="editor" wrap="off"></textarea>
            </div>
          </div>
        </div>
        <div id="errorDisplay" class="error-display"></div>
      </div>
    `,this.setupEditor(),this.setupButtons(),this.addStyles())}setupEditor(){const e=document.getElementById("jsonInput"),t=document.getElementById("lineNumbers");!e||!t||(e.value=this.lastContent||this.defaultText,this.updateLineNumbers(),this.validateJson(),e.addEventListener("input",()=>{this.lastContent=e.value,this.updateLineNumbers(),this.validateJson()}),e.addEventListener("scroll",()=>{t&&(t.scrollTop=e.scrollTop)}),e.addEventListener("keydown",n=>{if(n.key==="Tab"){n.preventDefault();const s=e.selectionStart,r=e.selectionEnd,o=e.value,a="  ";e.value=o.substring(0,s)+a+o.substring(r),e.selectionStart=e.selectionEnd=s+2,this.lastContent=e.value,this.updateLineNumbers(),this.validateJson()}}))}updateLineNumbers(){const e=document.getElementById("jsonInput"),t=document.getElementById("lineNumbers");if(!e||!t)return;const n=e.value.split(`
`).length,s=Array(n).fill(0).map((r,o)=>`<div class="line-number">${o+1}</div>`).join("");t.innerHTML=s}validateJson(){const e=document.getElementById("jsonInput"),t=document.getElementById("errorDisplay");if(!(!e||!t))try{e.value.trim()?(JSON.parse(e.value),t.textContent="Valid JSON ✓",t.className="error-display valid"):(t.textContent="",t.className="error-display")}catch(n){t.textContent=`Invalid JSON: ${n.message}`,t.className="error-display invalid"}}setupButtons(){const e=document.getElementById("formatJson"),t=document.getElementById("minifyJson"),n=document.getElementById("copyJson"),s=document.getElementById("resetJson"),r=document.getElementById("spaceCount"),o=document.getElementById("jsonInput");!e||!t||!n||!s||!r||!o||(e.addEventListener("click",()=>{try{const a=JSON.parse(o.value);o.value=JSON.stringify(a,null,parseInt(r.value)),this.lastContent=o.value,this.updateLineNumbers(),this.validateJson(),this.showToast("JSON formatted successfully!")}catch{this.showToast("Invalid JSON - cannot format")}}),t.addEventListener("click",()=>{try{const a=JSON.parse(o.value);o.value=JSON.stringify(a),this.lastContent=o.value,this.updateLineNumbers(),this.validateJson(),this.showToast("JSON minified successfully!")}catch{this.showToast("Invalid JSON - cannot minify")}}),n.addEventListener("click",()=>{navigator.clipboard.writeText(o.value).then(()=>this.showToast("JSON copied to clipboard!")).catch(()=>this.showToast("Failed to copy JSON"))}),s.addEventListener("click",()=>{o.value=this.defaultText,this.lastContent=this.defaultText,this.updateLineNumbers(),this.validateJson(),this.showToast("Content reset to default")}))}showToast(e){const t=document.querySelector(".json-container");if(!t)return;const n=document.createElement("div");n.className="toast",n.textContent=e,t.appendChild(n),n.offsetHeight,n.classList.add("show"),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},2e3)}addStyles(){const e=document.createElement("style");e.textContent=`
      .json-container {
        display: flex;
        flex-direction: column;
        height: calc(90vh - 120px);
        gap: 1rem;
        width: 100%;
      }

      .toolbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem;
        width: 100%;
      }

      .toolbar-left {
        display: flex;
        gap: 0.5rem;
      }

      .toolbar-right {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .space-label {
        color: var(--text);
      }

      .space-select {
        background: var(--background);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 4px;
        padding: 0.25rem;
      }

      .editor-container {
        flex: 1;
        min-height: 0;
        border: 1px solid var(--border);
        border-radius: 4px;
        background: var(--background);
        width: 100%;
      }

      .editor-with-lines {
        display: flex;
        height: 100%;
        width: 100%;
        overflow: hidden;
      }

      .line-numbers {
        padding: 1rem 0.5rem;
        background: var(--sidebar-bg);
        border-right: 1px solid var(--border);
        color: var(--text-secondary);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        text-align: right;
        user-select: none;
        overflow-y: hidden;
        flex-shrink: 0;
      }

      .line-number {
        padding: 0 0.5rem;
        min-width: 2.5em;
      }

      .editor-wrapper {
        flex: 1;
        min-width: 0;
        width: 100%;
      }

      .editor {
        width: 100%;
        height: 100%;
        padding: 1rem;
        border: none;
        background: transparent;
        color: var(--text);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        resize: none;
        outline: none;
        overflow: auto;
      }

      .error-display {
        min-height: 2rem;
        padding: 0.5rem;
        border-radius: 4px;
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
      }

      .error-display.valid {
        color: #4caf50;
      }

      .error-display.invalid {
        color: #f44336;
      }

      .toast {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%) translateY(100%);
        background: var(--primary);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        opacity: 0;
        transition: transform 0.3s, opacity 0.3s;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }
    `,document.head.appendChild(e)}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function pi(i){return i+.5|0}const _t=(i,e,t)=>Math.max(Math.min(i,t),e);function Kn(i){return _t(pi(i*2.55),0,255)}function kt(i){return _t(pi(i*255),0,255)}function mt(i){return _t(pi(i/2.55)/100,0,1)}function fa(i){return _t(pi(i*100),0,100)}const je={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ir=[..."0123456789ABCDEF"],df=i=>Ir[i&15],pf=i=>Ir[(i&240)>>4]+Ir[i&15],Ii=i=>(i&240)>>4===(i&15),gf=i=>Ii(i.r)&&Ii(i.g)&&Ii(i.b)&&Ii(i.a);function mf(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&je[i[1]]*17,g:255&je[i[2]]*17,b:255&je[i[3]]*17,a:e===5?je[i[4]]*17:255}:(e===7||e===9)&&(t={r:je[i[1]]<<4|je[i[2]],g:je[i[3]]<<4|je[i[4]],b:je[i[5]]<<4|je[i[6]],a:e===9?je[i[7]]<<4|je[i[8]]:255})),t}const yf=(i,e)=>i<255?e(i):"";function bf(i){var e=gf(i)?df:pf;return i?"#"+e(i.r)+e(i.g)+e(i.b)+yf(i.a,e):void 0}const xf=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mc(i,e,t){const n=e*Math.min(t,1-t),s=(r,o=(r+i/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function wf(i,e,t){const n=(s,r=(s+i/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function _f(i,e,t){const n=mc(i,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)n[s]*=1-e-t,n[s]+=e;return n}function vf(i,e,t,n,s){return i===s?(e-t)/n+(e<t?6:0):e===s?(t-i)/n+2:(i-e)/n+4}function so(i){const t=i.r/255,n=i.g/255,s=i.b/255,r=Math.max(t,n,s),o=Math.min(t,n,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=vf(t,n,s,u,r),l=l*60+.5),[l|0,c||0,a]}function ro(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(kt)}function oo(i,e,t){return ro(mc,i,e,t)}function kf(i,e,t){return ro(_f,i,e,t)}function Tf(i,e,t){return ro(wf,i,e,t)}function yc(i){return(i%360+360)%360}function Sf(i){const e=xf.exec(i);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Kn(+e[5]):kt(+e[5]));const s=yc(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=kf(s,r,o):e[1]==="hsv"?n=Tf(s,r,o):n=oo(s,r,o),{r:n[0],g:n[1],b:n[2],a:t}}function Ef(i,e){var t=so(i);t[0]=yc(t[0]+e),t=oo(t),i.r=t[0],i.g=t[1],i.b=t[2]}function Af(i){if(!i)return;const e=so(i),t=e[0],n=fa(e[1]),s=fa(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${s}%, ${mt(i.a)})`:`hsl(${t}, ${n}%, ${s}%)`}const da={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pa={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function If(){const i={},e=Object.keys(pa),t=Object.keys(da);let n,s,r,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],s=0;s<t.length;s++)r=t[s],a=a.replace(r,da[r]);r=parseInt(pa[o],16),i[a]=[r>>16&255,r>>8&255,r&255]}return i}let Ci;function Cf(i){Ci||(Ci=If(),Ci.transparent=[0,0,0,0]);const e=Ci[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Of=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Nf(i){const e=Of.exec(i);let t=255,n,s,r;if(e){if(e[7]!==n){const o=+e[7];t=e[8]?Kn(o):_t(o*255,0,255)}return n=+e[1],s=+e[3],r=+e[5],n=255&(e[2]?Kn(n):_t(n,0,255)),s=255&(e[4]?Kn(s):_t(s,0,255)),r=255&(e[6]?Kn(r):_t(r,0,255)),{r:n,g:s,b:r,a:t}}}function Df(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${mt(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Js=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,tn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Lf(i,e,t){const n=tn(mt(i.r)),s=tn(mt(i.g)),r=tn(mt(i.b));return{r:kt(Js(n+t*(tn(mt(e.r))-n))),g:kt(Js(s+t*(tn(mt(e.g))-s))),b:kt(Js(r+t*(tn(mt(e.b))-r))),a:i.a+t*(e.a-i.a)}}function Oi(i,e,t){if(i){let n=so(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=oo(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function bc(i,e){return i&&Object.assign(e||{},i)}function ga(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=kt(i[3]))):(e=bc(i,{r:0,g:0,b:0,a:1}),e.a=kt(e.a)),e}function Mf(i){return i.charAt(0)==="r"?Nf(i):Sf(i)}class si{constructor(e){if(e instanceof si)return e;const t=typeof e;let n;t==="object"?n=ga(e):t==="string"&&(n=mf(e)||Cf(e)||Mf(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=bc(this._rgb);return e&&(e.a=mt(e.a)),e}set rgb(e){this._rgb=ga(e)}rgbString(){return this._valid?Df(this._rgb):void 0}hexString(){return this._valid?bf(this._rgb):void 0}hslString(){return this._valid?Af(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,s=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,l=n.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,n.r=255&c*n.r+r*s.r+.5,n.g=255&c*n.g+r*s.g+.5,n.b=255&c*n.b+r*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=Lf(this._rgb,e._rgb,t)),this}clone(){return new si(this.rgb)}alpha(e){return this._rgb.a=kt(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=pi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Oi(this._rgb,2,e),this}darken(e){return Oi(this._rgb,2,-e),this}saturate(e){return Oi(this._rgb,1,e),this}desaturate(e){return Oi(this._rgb,1,-e),this}rotate(e){return Ef(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function dt(){}const Pf=(()=>{let i=0;return()=>i++})();function de(i){return i==null}function ge(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function G(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Ee(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function st(i,e){return Ee(i)?i:e}function q(i,e){return typeof i>"u"?e:i}const Ff=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function re(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function Z(i,e,t,n){let s,r,o;if(ge(i))for(r=i.length,s=0;s<r;s++)e.call(t,i[s],s);else if(G(i))for(o=Object.keys(i),r=o.length,s=0;s<r;s++)e.call(t,i[o[s]],o[s])}function os(i,e){let t,n,s,r;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(s=i[t],r=e[t],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function as(i){if(ge(i))return i.map(as);if(G(i)){const e=Object.create(null),t=Object.keys(i),n=t.length;let s=0;for(;s<n;++s)e[t[s]]=as(i[t[s]]);return e}return i}function xc(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Rf(i,e,t,n){if(!xc(i))return;const s=e[i],r=t[i];G(s)&&G(r)?ri(s,r,n):e[i]=as(r)}function ri(i,e,t){const n=ge(e)?e:[e],s=n.length;if(!G(i))return i;t=t||{};const r=t.merger||Rf;let o;for(let a=0;a<s;++a){if(o=n[a],!G(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],i,o,t)}return i}function Jn(i,e){return ri(i,e,{merger:Bf})}function Bf(i,e,t){if(!xc(i))return;const n=e[i],s=t[i];G(n)&&G(s)?Jn(n,s):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=as(s))}const ma={"":i=>i,x:i=>i.x,y:i=>i.y};function $f(i){const e=i.split("."),t=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function zf(i){const e=$f(i);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function ls(i,e){return(ma[e]||(ma[e]=zf(e)))(i)}function ao(i){return i.charAt(0).toUpperCase()+i.slice(1)}const cs=i=>typeof i<"u",St=i=>typeof i=="function",ya=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function jf(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const be=Math.PI,Ze=2*be,Uf=Ze+be,us=Number.POSITIVE_INFINITY,Hf=be/180,Qe=be/2,It=be/4,ba=be*2/3,Cr=Math.log10,pn=Math.sign;function Qn(i,e,t){return Math.abs(i-e)<t}function xa(i){const e=Math.round(i);i=Qn(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(Cr(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function Kf(i){const e=[],t=Math.sqrt(i);let n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((s,r)=>s-r).pop(),e}function oi(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Wf(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function Vf(i,e,t){let n,s,r;for(n=0,s=i.length;n<s;n++)r=i[n][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Pt(i){return i*(be/180)}function qf(i){return i*(180/be)}function wa(i){if(!Ee(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function Yf(i,e){const t=e.x-i.x,n=e.y-i.y,s=Math.sqrt(t*t+n*n);let r=Math.atan2(n,t);return r<-.5*be&&(r+=Ze),{angle:r,distance:s}}function Or(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function Gf(i,e){return(i-e+Uf)%Ze-be}function lt(i){return(i%Ze+Ze)%Ze}function wc(i,e,t,n){const s=lt(i),r=lt(e),o=lt(t),a=lt(r-s),l=lt(o-s),c=lt(s-r),u=lt(s-o);return s===r||s===o||n&&r===o||a>l&&c<u}function Ke(i,e,t){return Math.max(e,Math.min(t,i))}function Xf(i){return Ke(i,-32768,32767)}function rn(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function lo(i,e,t){t=t||(o=>i[o]<e);let n=i.length-1,s=0,r;for(;n-s>1;)r=s+n>>1,t(r)?s=r:n=r;return{lo:s,hi:n}}const Ft=(i,e,t,n)=>lo(i,t,n?s=>{const r=i[s][e];return r<t||r===t&&i[s+1][e]===t}:s=>i[s][e]<t),Jf=(i,e,t)=>lo(i,t,n=>i[n][e]>=t);function Qf(i,e,t){let n=0,s=i.length;for(;n<s&&i[n]<e;)n++;for(;s>n&&i[s-1]>t;)s--;return n>0||s<i.length?i.slice(n,s):i}const _c=["push","pop","shift","splice","unshift"];function Zf(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_c.forEach(t=>{const n="_onData"+ao(t),s=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),o}})})}function _a(i,e){const t=i._chartjs;if(!t)return;const n=t.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(_c.forEach(r=>{delete i[r]}),delete i._chartjs)}function ed(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const vc=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function kc(i,e){let t=[],n=!1;return function(...s){t=s,n||(n=!0,vc.call(window,()=>{n=!1,i.apply(e,t)}))}}function td(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}const co=i=>i==="start"?"left":i==="end"?"right":"center",ke=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,nd=(i,e,t,n)=>i===(n?"left":"right")?t:i==="center"?(e+t)/2:e;function id(i,e,t){const n=e.length;let s=0,r=n;if(i._sorted){const{iScale:o,_parsed:a}=i,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(s=Ke(Math.min(Ft(a,l,c).lo,t?n:Ft(e,l,o.getPixelForValue(c)).lo),0,n-1)),f?r=Ke(Math.max(Ft(a,o.axis,u,!0).hi+1,t?0:Ft(e,l,o.getPixelForValue(u),!0).hi+1),s,n)-s:r=n-s}return{start:s,count:r}}function sd(i){const{xScale:e,yScale:t,_scaleRanges:n}=i,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return i._scaleRanges=s,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,s),r}const Ni=i=>i===0||i===1,va=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*Ze/t)),ka=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*Ze/t)+1,Zn={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Qe)+1,easeOutSine:i=>Math.sin(i*Qe),easeInOutSine:i=>-.5*(Math.cos(be*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Ni(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Ni(i)?i:va(i,.075,.3),easeOutElastic:i=>Ni(i)?i:ka(i,.075,.3),easeInOutElastic(i){return Ni(i)?i:i<.5?.5*va(i*2,.1125,.45):.5+.5*ka(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Zn.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Zn.easeInBounce(i*2)*.5:Zn.easeOutBounce(i*2-1)*.5+.5};function uo(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ta(i){return uo(i)?i:new si(i)}function Qs(i){return uo(i)?i:new si(i).saturate(.5).darken(.1).hexString()}const rd=["x","y","borderWidth","radius","tension"],od=["color","borderColor","backgroundColor"];function ad(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:od},numbers:{type:"number",properties:rd}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function ld(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Sa=new Map;function cd(i,e){e=e||{};const t=i+JSON.stringify(e);let n=Sa.get(t);return n||(n=new Intl.NumberFormat(i,e),Sa.set(t,n)),n}function Tc(i,e,t){return cd(e,t).format(i)}const Sc={values(i){return ge(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const n=this.chart.options.locale;let s,r=i;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=ud(i,t)}const o=Cr(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Tc(i,n,l)},logarithmic(i,e,t){if(i===0)return"0";const n=t[e].significand||i/Math.pow(10,Math.floor(Cr(i)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?Sc.numeric.call(this,i,e,t):""}};function ud(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var Ec={formatters:Sc};function hd(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ec.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ht=Object.create(null),Nr=Object.create(null);function ei(i,e){if(!e)return i;const t=e.split(".");for(let n=0,s=t.length;n<s;++n){const r=t[n];i=i[r]||(i[r]=Object.create(null))}return i}function Zs(i,e,t){return typeof e=="string"?ri(ei(i,e),t):ri(ei(i,""),e)}class fd{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Qs(s.backgroundColor),this.hoverBorderColor=(n,s)=>Qs(s.borderColor),this.hoverColor=(n,s)=>Qs(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Zs(this,e,t)}get(e){return ei(this,e)}describe(e,t){return Zs(Nr,e,t)}override(e,t){return Zs(Ht,e,t)}route(e,t,n,s){const r=ei(this,e),o=ei(this,n),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[s];return G(l)?Object.assign({},c,l):q(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var pe=new fd({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ad,ld,hd]);function dd(i){return!i||de(i.size)||de(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Ea(i,e,t,n,s){let r=e[s];return r||(r=e[s]=i.measureText(s).width,t.push(s)),r>n&&(n=r),n}function Ct(i,e,t){const n=i.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*n)/n+s}function Aa(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function Dr(i,e,t,n){Ac(i,e,t,n,null)}function Ac(i,e,t,n,s){let r,o,a,l,c,u,h,f;const d=e.pointStyle,_=e.rotation,y=e.radius;let w=(_||0)*Hf;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(w),i.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),i.restore();return}if(!(isNaN(y)||y<=0)){switch(i.beginPath(),d){default:s?i.ellipse(t,n,s/2,y,0,0,Ze):i.arc(t,n,y,0,Ze),i.closePath();break;case"triangle":u=s?s/2:y,i.moveTo(t+Math.sin(w)*u,n-Math.cos(w)*y),w+=ba,i.lineTo(t+Math.sin(w)*u,n-Math.cos(w)*y),w+=ba,i.lineTo(t+Math.sin(w)*u,n-Math.cos(w)*y),i.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(w+It)*l,h=Math.cos(w+It)*(s?s/2-c:l),a=Math.sin(w+It)*l,f=Math.sin(w+It)*(s?s/2-c:l),i.arc(t-h,n-a,c,w-be,w-Qe),i.arc(t+f,n-o,c,w-Qe,w),i.arc(t+h,n+a,c,w,w+Qe),i.arc(t-f,n+o,c,w+Qe,w+be),i.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*y,u=s?s/2:l,i.rect(t-u,n-l,2*u,2*l);break}w+=It;case"rectRot":h=Math.cos(w)*(s?s/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(s?s/2:y),i.moveTo(t-h,n-a),i.lineTo(t+f,n-o),i.lineTo(t+h,n+a),i.lineTo(t-f,n+o),i.closePath();break;case"crossRot":w+=It;case"cross":h=Math.cos(w)*(s?s/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(s?s/2:y),i.moveTo(t-h,n-a),i.lineTo(t+h,n+a),i.moveTo(t+f,n-o),i.lineTo(t-f,n+o);break;case"star":h=Math.cos(w)*(s?s/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(s?s/2:y),i.moveTo(t-h,n-a),i.lineTo(t+h,n+a),i.moveTo(t+f,n-o),i.lineTo(t-f,n+o),w+=It,h=Math.cos(w)*(s?s/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(s?s/2:y),i.moveTo(t-h,n-a),i.lineTo(t+h,n+a),i.moveTo(t+f,n-o),i.lineTo(t-f,n+o);break;case"line":o=s?s/2:Math.cos(w)*y,a=Math.sin(w)*y,i.moveTo(t-o,n-a),i.lineTo(t+o,n+a);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(w)*(s?s/2:y),n+Math.sin(w)*y);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function ai(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function _s(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function vs(i){i.restore()}function pd(i,e,t,n,s){if(!e)return i.lineTo(t.x,t.y);if(s==="middle"){const r=(e.x+t.x)/2;i.lineTo(r,e.y),i.lineTo(r,t.y)}else s==="after"!=!!n?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function gd(i,e,t,n){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function md(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),de(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function yd(i,e,t,n,s){if(s.strikethrough||s.underline){const r=i.measureText(n),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=t-r.actualBoundingBoxAscent,c=t+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(o,u),i.lineTo(a,u),i.stroke()}}function bd(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function li(i,e,t,n,s,r={}){const o=ge(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(i.save(),i.font=s.string,md(i,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&bd(i,r.backdrop),a&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),de(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(c,t,n,r.maxWidth)),i.fillText(c,t,n,r.maxWidth),yd(i,t,n,c,r),n+=Number(s.lineHeight);i.restore()}function Lr(i,e){const{x:t,y:n,w:s,h:r,radius:o}=e;i.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*be,be,!0),i.lineTo(t,n+r-o.bottomLeft),i.arc(t+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,be,Qe,!0),i.lineTo(t+s-o.bottomRight,n+r),i.arc(t+s-o.bottomRight,n+r-o.bottomRight,o.bottomRight,Qe,0,!0),i.lineTo(t+s,n+o.topRight),i.arc(t+s-o.topRight,n+o.topRight,o.topRight,0,-Qe,!0),i.lineTo(t+o.topLeft,n)}const xd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wd=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _d(i,e){const t=(""+i).match(xd);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const vd=i=>+i||0;function Ic(i,e){const t={},n=G(e),s=n?Object.keys(e):e,r=G(i)?n?o=>q(i[o],i[e[o]]):o=>i[o]:()=>i;for(const o of s)t[o]=vd(r(o));return t}function kd(i){return Ic(i,{top:"y",right:"x",bottom:"y",left:"x"})}function ti(i){return Ic(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Ye(i){const e=kd(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Te(i,e){i=i||{},e=e||pe.font;let t=q(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=q(i.style,e.style);n&&!(""+n).match(wd)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:q(i.family,e.family),lineHeight:_d(q(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:q(i.weight,e.weight),string:""};return s.string=dd(s),s}function Di(i,e,t,n){let s,r,o;for(s=0,r=i.length;s<r;++s)if(o=i[s],o!==void 0&&o!==void 0)return o}function Td(i,e,t){const{min:n,max:s}=i,r=Ff(e,(s-n)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(n,-Math.abs(r)),max:o(s,r)}}function Vt(i,e){return Object.assign(Object.create(i),e)}function ho(i,e=[""],t,n,s=()=>i[0]){const r=t||i;typeof n>"u"&&(n=Dc("_fallback",i));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:n,_getTarget:s,override:a=>ho([a,...i],e,r,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return Oc(a,l,()=>Dd(l,e,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return Ca(a).includes(l)},ownKeys(a){return Ca(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function gn(i,e,t,n){const s={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:Cc(i,n),setContext:r=>gn(i,r,t,n),override:r=>gn(i.override(r),e,t,n)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete i[o],!0},get(r,o,a){return Oc(r,o,()=>Ed(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(r,o,a){return i[o]=a,delete r[o],!0}})}function Cc(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=i;return{allKeys:s,scriptable:t,indexable:n,isScriptable:St(t)?t:()=>t,isIndexable:St(n)?n:()=>n}}const Sd=(i,e)=>i?i+ao(e):e,fo=(i,e)=>G(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Oc(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const n=t();return i[e]=n,n}function Ed(i,e,t){const{_proxy:n,_context:s,_subProxy:r,_descriptors:o}=i;let a=n[e];return St(a)&&o.isScriptable(e)&&(a=Ad(e,a,i,t)),ge(a)&&a.length&&(a=Id(e,a,i,o.isIndexable)),fo(e,a)&&(a=gn(a,s,r&&r[e],o)),a}function Ad(i,e,t,n){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=t;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=e(r,o||n);return a.delete(i),fo(i,l)&&(l=po(s._scopes,s,i,l)),l}function Id(i,e,t,n){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=t;if(typeof r.index<"u"&&n(i))return e[r.index%e.length];if(G(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=po(c,s,i,u);e.push(gn(h,r,o&&o[i],a))}}return e}function Nc(i,e,t){return St(i)?i(e,t):i}const Cd=(i,e)=>i===!0?e:typeof i=="string"?ls(e,i):void 0;function Od(i,e,t,n,s){for(const r of e){const o=Cd(t,r);if(o){i.add(o);const a=Nc(o._fallback,t,s);if(typeof a<"u"&&a!==t&&a!==n)return a}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function po(i,e,t,n){const s=e._rootScopes,r=Nc(e._fallback,t,n),o=[...i,...s],a=new Set;a.add(n);let l=Ia(a,o,t,r||t,n);return l===null||typeof r<"u"&&r!==t&&(l=Ia(a,o,r,l,n),l===null)?!1:ho(Array.from(a),[""],s,r,()=>Nd(e,t,n))}function Ia(i,e,t,n,s){for(;t;)t=Od(i,e,t,n,s);return t}function Nd(i,e,t){const n=i._getTarget();e in n||(n[e]={});const s=n[e];return ge(s)&&G(t)?t:s||{}}function Dd(i,e,t,n){let s;for(const r of e)if(s=Dc(Sd(r,i),t),typeof s<"u")return fo(i,s)?po(t,n,i,s):s}function Dc(i,e){for(const t of e){if(!t)continue;const n=t[i];if(typeof n<"u")return n}}function Ca(i){let e=i._keys;return e||(e=i._keys=Ld(i._scopes)),e}function Ld(i){const e=new Set;for(const t of i)for(const n of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const Md=Number.EPSILON||1e-14,mn=(i,e)=>e<i.length&&!i[e].skip&&i[e],Lc=i=>i==="x"?"y":"x";function Pd(i,e,t,n){const s=i.skip?e:i,r=e,o=t.skip?e:t,a=Or(r,s),l=Or(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,f=n*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function Fd(i,e,t){const n=i.length;let s,r,o,a,l,c=mn(i,0);for(let u=0;u<n-1;++u)if(l=c,c=mn(i,u+1),!(!l||!c)){if(Qn(e[u],0,Md)){t[u]=t[u+1]=0;continue}s=t[u]/e[u],r=t[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=s*o*e[u],t[u+1]=r*o*e[u])}}function Rd(i,e,t="x"){const n=Lc(t),s=i.length;let r,o,a,l=mn(i,0);for(let c=0;c<s;++c){if(o=a,a=l,l=mn(i,c+1),!a)continue;const u=a[t],h=a[n];o&&(r=(u-o[t])/3,a[`cp1${t}`]=u-r,a[`cp1${n}`]=h-r*e[c]),l&&(r=(l[t]-u)/3,a[`cp2${t}`]=u+r,a[`cp2${n}`]=h+r*e[c])}}function Bd(i,e="x"){const t=Lc(e),n=i.length,s=Array(n).fill(0),r=Array(n);let o,a,l,c=mn(i,0);for(o=0;o<n;++o)if(a=l,l=c,c=mn(i,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[t]-l[t])/u:0}r[o]=a?c?pn(s[o-1])!==pn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Fd(i,s,r),Rd(i,r,e)}function Li(i,e,t){return Math.max(Math.min(i,t),e)}function $d(i,e){let t,n,s,r,o,a=ai(i[0],e);for(t=0,n=i.length;t<n;++t)o=r,r=a,a=t<n-1&&ai(i[t+1],e),r&&(s=i[t],o&&(s.cp1x=Li(s.cp1x,e.left,e.right),s.cp1y=Li(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Li(s.cp2x,e.left,e.right),s.cp2y=Li(s.cp2y,e.top,e.bottom)))}function zd(i,e,t,n,s){let r,o,a,l;if(e.spanGaps&&(i=i.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Bd(i,s);else{let c=n?i[i.length-1]:i[0];for(r=0,o=i.length;r<o;++r)a=i[r],l=Pd(c,a,i[Math.min(r+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&$d(i,t)}function go(){return typeof window<"u"&&typeof document<"u"}function mo(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function hs(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}const ks=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function jd(i,e){return ks(i).getPropertyValue(e)}const Ud=["top","right","bottom","left"];function zt(i,e,t){const n={};t=t?"-"+t:"";for(let s=0;s<4;s++){const r=Ud[s];n[r]=parseFloat(i[e+"-"+r+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Hd=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function Kd(i,e){const t=i.touches,n=t&&t.length?t[0]:i,{offsetX:s,offsetY:r}=n;let o=!1,a,l;if(Hd(s,r,i.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Dt(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:n}=e,s=ks(t),r=s.boxSizing==="border-box",o=zt(s,"padding"),a=zt(s,"border","width"),{x:l,y:c,box:u}=Kd(i,t),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:_}=e;return r&&(d-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-h)/d*t.width/n),y:Math.round((c-f)/_*t.height/n)}}function Wd(i,e,t){let n,s;if(e===void 0||t===void 0){const r=i&&mo(i);if(!r)e=i.clientWidth,t=i.clientHeight;else{const o=r.getBoundingClientRect(),a=ks(r),l=zt(a,"border","width"),c=zt(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,n=hs(a.maxWidth,r,"clientWidth"),s=hs(a.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:n||us,maxHeight:s||us}}const Mi=i=>Math.round(i*10)/10;function Vd(i,e,t,n){const s=ks(i),r=zt(s,"margin"),o=hs(s.maxWidth,i,"clientWidth")||us,a=hs(s.maxHeight,i,"clientHeight")||us,l=Wd(i,e,t);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=zt(s,"border","width"),d=zt(s,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,n?c/n:u-r.height),c=Mi(Math.min(c,o,l.maxWidth)),u=Mi(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Mi(c/2)),(e!==void 0||t!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Mi(Math.floor(u*n))),{width:c,height:u}}function Oa(i,e,t){const n=e||1,s=Math.floor(i.height*n),r=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const o=i.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==s||o.width!==r?(i.currentDevicePixelRatio=n,o.height=s,o.width=r,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const qd=function(){let i=!1;try{const e={get passive(){return i=!0,!1}};go()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i}();function Na(i,e){const t=jd(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Lt(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function Yd(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:n==="middle"?t<.5?i.y:e.y:n==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function Gd(i,e,t,n){const s={x:i.cp2x,y:i.cp2y},r={x:e.cp1x,y:e.cp1y},o=Lt(i,s,t),a=Lt(s,r,t),l=Lt(r,e,t),c=Lt(o,a,t),u=Lt(a,l,t);return Lt(c,u,t)}const Xd=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Jd=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function un(i,e,t){return i?Xd(e,t):Jd()}function Mc(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function Pc(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function Fc(i){return i==="angle"?{between:wc,compare:Gf,normalize:lt}:{between:rn,compare:(e,t)=>e-t,normalize:e=>e}}function Da({start:i,end:e,count:t,loop:n,style:s}){return{start:i%t,end:e%t,loop:n&&(e-i+1)%t===0,style:s}}function Qd(i,e,t){const{property:n,start:s,end:r}=t,{between:o,normalize:a}=Fc(n),l=e.length;let{start:c,end:u,loop:h}=i,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(e[c%l][n]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:i.style}}function Rc(i,e,t){if(!t)return[i];const{property:n,start:s,end:r}=t,o=e.length,{compare:a,between:l,normalize:c}=Fc(n),{start:u,end:h,loop:f,style:d}=Qd(i,e,t),_=[];let y=!1,w=null,p,T,x;const g=()=>l(s,x,p)&&a(s,x)!==0,S=()=>a(r,p)===0||l(r,x,p),D=()=>y||g(),L=()=>!y||S();for(let O=u,k=u;O<=h;++O)T=e[O%o],!T.skip&&(p=c(T[n]),p!==x&&(y=l(p,s,r),w===null&&D()&&(w=a(p,s)===0?O:k),w!==null&&L()&&(_.push(Da({start:w,end:O,loop:f,count:o,style:d})),w=null),k=O,x=p));return w!==null&&_.push(Da({start:w,end:h,loop:f,count:o,style:d})),_}function Bc(i,e){const t=[],n=i.segments;for(let s=0;s<n.length;s++){const r=Rc(n[s],i.points,e);r.length&&t.push(...r)}return t}function Zd(i,e,t,n){let s=0,r=e-1;if(t&&!n)for(;s<e&&!i[s].skip;)s++;for(;s<e&&i[s].skip;)s++;for(s%=e,t&&(r+=s);r>s&&i[r%e].skip;)r--;return r%=e,{start:s,end:r}}function ep(i,e,t,n){const s=i.length,r=[];let o=e,a=i[e],l;for(l=e+1;l<=t;++l){const c=i[l%s];c.skip||c.stop?a.skip||(n=!1,r.push({start:e%s,end:(l-1)%s,loop:n}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:n}),r}function tp(i,e){const t=i.points,n=i.options.spanGaps,s=t.length;if(!s)return[];const r=!!i._loop,{start:o,end:a}=Zd(t,s,r,n);if(n===!0)return La(i,[{start:o,end:a,loop:r}],t,e);const l=a<o?a+s:a,c=!!i._fullLoop&&o===0&&a===s-1;return La(i,ep(t,o,l,c),t,e)}function La(i,e,t,n){return!n||!n.setContext||!t?e:np(i,e,t,n)}function np(i,e,t,n){const s=i._chart.getContext(),r=Ma(i.options),{_datasetIndex:o,options:{spanGaps:a}}=i,l=t.length,c=[];let u=r,h=e[0].start,f=h;function d(_,y,w,p){const T=a?-1:1;if(_!==y){for(_+=l;t[_%l].skip;)_-=T;for(;t[y%l].skip;)y+=T;_%l!==y%l&&(c.push({start:_%l,end:y%l,loop:w,style:p}),u=p,h=y%l)}}for(const _ of e){h=a?h:_.start;let y=t[h%l],w;for(f=h+1;f<=_.end;f++){const p=t[f%l];w=Ma(n.setContext(Vt(s,{type:"segment",p0:y,p1:p,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),ip(w,u)&&d(h,f-1,_.loop,u),y=p,u=w}h<f-1&&d(h,f-1,_.loop,u)}return c}function Ma(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function ip(i,e){if(!e)return!1;const t=[],n=function(s,r){return uo(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(i,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class sp{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,s){const r=t.listeners[s],o=t.duration;r.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=vc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,n,e,"progress")),r.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var pt=new sp;const Pa="transparent",rp={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const n=Ta(i||Pa),s=n.valid&&Ta(e||Pa);return s&&s.valid?s.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class op{constructor(e,t,n,s){const r=t[n];s=Di([e.to,s,r,e.from]);const o=Di([e.from,r,s]);this._active=!0,this._fn=e.fn||rp[e.type||typeof o],this._easing=Zn[e.easing]||Zn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const s=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Di([e.to,t,s,e.from]),this._from=Di([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||t<n),!this._active){this._target[s]=a,this._notify(!0);return}if(t<0){this._target[s]=r;return}l=t/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][t]()}}class $c{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!G(e))return;const t=Object.keys(pe.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!G(r))return;const o={};for(const a of t)o[a]=r[a];(ge(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,t){const n=t.options,s=lp(e,n);if(!s)return[];const r=this._createAnimations(s,n);return n.$shared&&ap(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,t));continue}const u=t[c];let h=r[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=h=new op(f,e,c,u),s.push(h)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return pt.add(this._chart,n),!0}}function ap(i,e){const t=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const r=i[n[s]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function lp(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Fa(i,e){const t=i&&i.options||{},n=t.reverse,s=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:n?r:s,end:n?s:r}}function cp(i,e,t){if(t===!1)return!1;const n=Fa(i,t),s=Fa(e,t);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function up(i){let e,t,n,s;return G(i)?(e=i.top,t=i.right,n=i.bottom,s=i.left):e=t=n=s=i,{top:e,right:t,bottom:n,left:s,disabled:i===!1}}function zc(i,e){const t=[],n=i._getSortedDatasetMetas(e);let s,r;for(s=0,r=n.length;s<r;++s)t.push(n[s].index);return t}function Ra(i,e,t,n={}){const s=i.keys,r=n.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===t){if(u=!0,n.all)continue;break}c=i.values[l],Ee(c)&&(r||e===0||pn(e)===pn(c))&&(e+=c)}return!u&&!n.all?0:e}function hp(i,e){const{iScale:t,vScale:n}=e,s=t.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(i),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:i[u]};return a}function er(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function fp(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function dp(i){const{min:e,max:t,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function pp(i,e,t){const n=i[e]||(i[e]={});return n[t]||(n[t]={})}function Ba(i,e,t,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const r=i[s.index];if(t&&r>0||!t&&r<0)return s.index}return null}function $a(i,e){const{chart:t,_cachedMeta:n}=i,s=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,u=fp(r,o,n),h=e.length;let f;for(let d=0;d<h;++d){const _=e[d],{[l]:y,[c]:w}=_,p=_._stacks||(_._stacks={});f=p[c]=pp(s,u,y),f[a]=w,f._top=Ba(f,o,!0,n.type),f._bottom=Ba(f,o,!1,n.type);const T=f._visualValues||(f._visualValues={});T[a]=w}}function tr(i,e){const t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function gp(i,e){return Vt(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function mp(i,e,t){return Vt(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Rn(i,e){const t=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){e=e||i._parsed;for(const s of e){const r=s._stacks;if(!r||r[n]===void 0||r[n][t]===void 0)return;delete r[n][t],r[n]._visualValues!==void 0&&r[n]._visualValues[t]!==void 0&&delete r[n]._visualValues[t]}}}const nr=i=>i==="reset"||i==="none",za=(i,e)=>e?i:Object.assign({},i),yp=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:zc(t,!0),values:null};class ni{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=er(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Rn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),s=(h,f,d,_)=>h==="x"?f:h==="r"?_:d,r=t.xAxisID=q(n.xAxisID,tr(e,"x")),o=t.yAxisID=q(n.yAxisID,tr(e,"y")),a=t.rAxisID=q(n.rAxisID,tr(e,"r")),l=t.indexAxis,c=t.iAxisID=s(l,r,o,a),u=t.vAxisID=s(l,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_a(this._data,this),e._stacked&&Rn(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(G(t)){const s=this._cachedMeta;this._data=hp(t,s)}else if(n!==t){if(n){_a(n,this);const s=this._cachedMeta;Rn(s),s._parsed=[]}t&&Object.isExtensible(t)&&Zf(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=er(t.vScale,t),t.stack!==n.stack&&(s=!0,Rn(t),t.stack=n.stack),this._resyncElements(e),(s||r!==t._stacked)&&($a(this,t._parsed),t._stacked=er(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:s}=this,{iScale:r,_stacked:o}=n,a=r.axis;let l=e===0&&t===s.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{ge(s[e])?f=this.parseArrayData(n,s,e,t):G(s[e])?f=this.parseObjectData(n,s,e,t):f=this.parsePrimitiveData(n,s,e,t);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)n._parsed[u+e]=h=f[u],l&&(d()&&(l=!1),c=h);n._sorted=l}o&&$a(this,f)}parsePrimitiveData(e,t,n,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,d,_;for(f=0,d=s;f<d;++f)_=f+n,h[f]={[a]:u||r.parse(c[_],_),[l]:o.parse(t[_],_)};return h}parseArrayData(e,t,n,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+n,h=t[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,n,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,d;for(u=0,h=s;u<h;++u)f=u+n,d=t[f],c[u]={x:r.parse(ls(d,a),f),y:o.parse(ls(d,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const s=this.chart,r=this._cachedMeta,o=t[e.axis],a={keys:zc(s,!0),values:t._stacks[e.axis]._visualValues};return Ra(a,o,r.index,{mode:n})}updateRangeFromParsed(e,t,n,s){const r=n[t.axis];let o=r===null?NaN:r;const a=s&&n._stacks[t.axis];s&&a&&(s.values=a,o=Ra(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,s=n._parsed,r=n._sorted&&e===n.iScale,o=s.length,a=this._getOtherScale(e),l=yp(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=dp(a);let f,d;function _(){d=s[f];const y=d[a.axis];return!Ee(d[e.axis])||u>y||h<y}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(c,e,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(c,e,d,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let s,r,o;for(s=0,r=t.length;s<r;++s)o=t[s][e.axis],Ee(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=up(q(this.options.clip,cp(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,s=n.data||[],r=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=mp(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=gp(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const s=t==="active",r=this._cachedDataOpts,o=e+"-"+t,a=r[o],l=this.enableOptionSharing&&cs(n);if(a)return za(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(pe.elements[e]),_=()=>this.getContext(n,s,t),y=c.resolveNamedOptions(f,d,_,h);return y.$shared&&(y.$shared=l,r[o]=Object.freeze(za(y,l))),y}_resolveAnimations(e,t,n){const s=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,n,t))}const c=new $c(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||nr(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:o}}updateElement(e,t,n,s){nr(s)?Object.assign(e,n):this._resolveAnimations(t,s).update(e,n)}updateSharedOptions(e,t,n){e&&!nr(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,n,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=n.length,r=t.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t,n=!0){const s=this._cachedMeta,r=s.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,s){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,t);n._stacked&&Rn(n,s)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,s]=e;this[t](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(ni,"defaults",{}),F(ni,"datasetElementType",null),F(ni,"dataElementType",null);class Gi extends ni{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:s=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=id(t,s,o);this._drawStart=a,this._drawCount=l,sd(t)&&(a=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,t,n,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,s),f=o.axis,d=a.axis,{spanGaps:_,segment:y}=this.options,w=oi(_)?_:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||r||s==="none",T=t+n,x=e.length;let g=t>0&&this.getParsed(t-1);for(let S=0;S<x;++S){const D=e[S],L=p?D:{};if(S<t||S>=T){L.skip=!0;continue}const O=this.getParsed(S),k=de(O[d]),$=L[f]=o.getPixelForValue(O[f],S),j=L[d]=r||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[d],S);L.skip=isNaN($)||isNaN(j)||k,L.stop=S>0&&Math.abs(O[f]-g[f])>w,y&&(L.parsed=O,L.raw=c.data[S]),h&&(L.options=u||this.resolveDataElementOptions(S,D.active?"active":s)),p||this.updateElement(D,S,L,s),g=O}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}F(Gi,"id","line"),F(Gi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(Gi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ot(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yo{constructor(e){F(this,"options");this.options=e||{}}static override(e){Object.assign(yo.prototype,e)}init(){}formats(){return Ot()}parse(){return Ot()}format(){return Ot()}add(){return Ot()}diff(){return Ot()}startOf(){return Ot()}endOf(){return Ot()}}var bp={_date:yo};function xp(i,e,t,n){const{controller:s,data:r,_sorted:o}=i,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?Jf:Ft;if(n){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(r,e,t-u),f=l(r,e,t+u);return{lo:h.lo,hi:f.hi}}}}else return l(r,e,t)}return{lo:0,hi:r.length-1}}function gi(i,e,t,n,s){const r=i.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=xp(r[a],e,o,s);for(let d=h;d<=f;++d){const _=u[d];_.skip||n(_,c,d)}}}function wp(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,s){const r=e?Math.abs(n.x-s.x):0,o=t?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function ir(i,e,t,n,s){const r=[];return!s&&!i.isPointInArea(e)||gi(i,t,e,function(a,l,c){!s&&!ai(a,i.chartArea,0)||a.inRange(e.x,e.y,n)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function _p(i,e,t,n){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=Yf(o,{x:e.x,y:e.y});wc(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return gi(i,t,e,r),s}function vp(i,e,t,n,s,r){let o=[];const a=wp(t);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(e.x,e.y,s);if(n&&!d)return;const _=u.getCenterPoint(s);if(!(!!r||i.isPointInArea(_))&&!d)return;const w=a(e,_);w<l?(o=[{element:u,datasetIndex:h,index:f}],l=w):w===l&&o.push({element:u,datasetIndex:h,index:f})}return gi(i,t,e,c),o}function sr(i,e,t,n,s,r){return!r&&!i.isPointInArea(e)?[]:t==="r"&&!n?_p(i,e,t,s):vp(i,e,t,n,s,r)}function ja(i,e,t,n,s){const r=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return gi(i,t,e,(l,c,u)=>{l[o]&&l[o](e[t],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),n&&!a?[]:r}var kp={evaluateInteractionItems:gi,modes:{index(i,e,t,n){const s=Dt(e,i),r=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?ir(i,s,r,n,o):sr(i,s,r,!1,n,o),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(i,e,t,n){const s=Dt(e,i),r=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?ir(i,s,r,n,o):sr(i,s,r,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=i.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(i,e,t,n){const s=Dt(e,i),r=t.axis||"xy",o=t.includeInvisible||!1;return ir(i,s,r,n,o)},nearest(i,e,t,n){const s=Dt(e,i),r=t.axis||"xy",o=t.includeInvisible||!1;return sr(i,s,r,t.intersect,n,o)},x(i,e,t,n){const s=Dt(e,i);return ja(i,s,"x",t.intersect,n)},y(i,e,t,n){const s=Dt(e,i);return ja(i,s,"y",t.intersect,n)}}};const jc=["left","top","right","bottom"];function Bn(i,e){return i.filter(t=>t.pos===e)}function Ua(i,e){return i.filter(t=>jc.indexOf(t.pos)===-1&&t.box.axis===e)}function $n(i,e){return i.sort((t,n)=>{const s=e?n:t,r=e?t:n;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function Tp(i){const e=[];let t,n,s,r,o,a;for(t=0,n=(i||[]).length;t<n;++t)s=i[t],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:t,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function Sp(i){const e={};for(const t of i){const{stack:n,pos:s,stackWeight:r}=t;if(!n||!jc.includes(s))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function Ep(i,e){const t=Sp(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=i.length;r<o;++r){a=i[r];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&e.availableWidth,a.height=s):(a.width=n,a.height=u?u*s:l&&e.availableHeight)}return t}function Ap(i){const e=Tp(i),t=$n(e.filter(c=>c.box.fullSize),!0),n=$n(Bn(e,"left"),!0),s=$n(Bn(e,"right")),r=$n(Bn(e,"top"),!0),o=$n(Bn(e,"bottom")),a=Ua(e,"x"),l=Ua(e,"y");return{fullSize:t,leftAndTop:n.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Bn(e,"chartArea"),vertical:n.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Ha(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function Uc(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function Ip(i,e,t,n){const{pos:s,box:r}=t,o=i.maxPadding;if(!G(s)){t.size&&(i[s]-=t.size);const h=n[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?r.height:r.width),t.size=h.size/h.count,i[s]+=t.size}r.getPadding&&Uc(o,r.getPadding());const a=Math.max(0,e.outerWidth-Ha(o,i,"left","right")),l=Math.max(0,e.outerHeight-Ha(o,i,"top","bottom")),c=a!==i.w,u=l!==i.h;return i.w=a,i.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function Cp(i){const e=i.maxPadding;function t(n){const s=Math.max(e[n]-i[n],0);return i[n]+=s,s}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function Op(i,e){const t=e.maxPadding;function n(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return n(i?["left","right"]:["top","bottom"])}function Wn(i,e,t,n){const s=[];let r,o,a,l,c,u;for(r=0,o=i.length,c=0;r<o;++r){a=i[r],l=a.box,l.update(a.width||e.w,a.height||e.h,Op(a.horizontal,e));const{same:h,other:f}=Ip(e,t,a,n);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&Wn(s,e,t,n)||u}function Pi(i,e,t,n,s){i.top=t,i.left=e,i.right=e+n,i.bottom=t+s,i.width=n,i.height=s}function Ka(i,e,t,n){const s=t.padding;let{x:r,y:o}=e;for(const a of i){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;cs(c.start)&&(o=c.start),l.fullSize?Pi(l,s.left,o,t.outerWidth-s.right-s.left,f):Pi(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;cs(c.start)&&(r=c.start),l.fullSize?Pi(l,r,s.top,f,t.outerHeight-s.bottom-s.top):Pi(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var We={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;const s=Ye(i.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(t-s.height,0),a=Ap(i.boxes),l=a.vertical,c=a.horizontal;Z(i.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);Uc(f,Ye(n));const d=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),_=Ep(l.concat(c),h);Wn(a.fullSize,d,h,_),Wn(l,d,h,_),Wn(c,d,h,_)&&Wn(l,d,h,_),Cp(d),Ka(a.leftAndTop,d,h,_),d.x+=d.w,d.y+=d.h,Ka(a.rightAndBottom,d,h,_),i.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Z(a.chartArea,y=>{const w=y.box;Object.assign(w,i.chartArea),w.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class Hc{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,s){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):n)}}isAttached(e){return!0}updateConfig(e){}}class Np extends Hc{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Xi="$chartjs",Dp={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wa=i=>i===null||i==="";function Lp(i,e){const t=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[Xi]={initial:{height:n,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Wa(s)){const r=Na(i,"width");r!==void 0&&(i.width=r)}if(Wa(n))if(i.style.height==="")i.height=i.width/(e||2);else{const r=Na(i,"height");r!==void 0&&(i.height=r)}return i}const Kc=qd?{passive:!0}:!1;function Mp(i,e,t){i&&i.addEventListener(e,t,Kc)}function Pp(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,Kc)}function Fp(i,e){const t=Dp[i.type]||i.type,{x:n,y:s}=Dt(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function fs(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function Rp(i,e,t){const n=i.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||fs(a.addedNodes,n),o=o&&!fs(a.removedNodes,n);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function Bp(i,e,t){const n=i.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||fs(a.removedNodes,n),o=o&&!fs(a.addedNodes,n);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const ci=new Map;let Va=0;function Wc(){const i=window.devicePixelRatio;i!==Va&&(Va=i,ci.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function $p(i,e){ci.size||window.addEventListener("resize",Wc),ci.set(i,e)}function zp(i){ci.delete(i),ci.size||window.removeEventListener("resize",Wc)}function jp(i,e,t){const n=i.canvas,s=n&&mo(n);if(!s)return;const r=kc((a,l)=>{const c=s.clientWidth;t(a,l),c<s.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),$p(i,r),o}function rr(i,e,t){t&&t.disconnect(),e==="resize"&&zp(i)}function Up(i,e,t){const n=i.canvas,s=kc(r=>{i.ctx!==null&&t(Fp(r,i))},i);return Mp(n,e,s),s}class Hp extends Hc{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Lp(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Xi])return!1;const n=t[Xi].initial;["height","width"].forEach(r=>{const o=n[r];de(o)?t.removeAttribute(r):t.setAttribute(r,o)});const s=n.style||{};return Object.keys(s).forEach(r=>{t.style[r]=s[r]}),t.width=t.width,delete t[Xi],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:Rp,detach:Bp,resize:jp}[t]||Up;s[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),s=n[t];if(!s)return;({attach:rr,detach:rr,resize:rr}[t]||Pp)(e,t,s),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,s){return Vd(e,t,n,s)}isAttached(e){const t=e&&mo(e);return!!(t&&t.isConnected)}}function Kp(i){return!go()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Np:Hp}class wt{constructor(){F(this,"x");F(this,"y");F(this,"active",!1);F(this,"options");F(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return oi(this.x)&&oi(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const s={};return e.forEach(r=>{s[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),s}}F(wt,"defaults",{}),F(wt,"defaultRoutes");function Wp(i,e){const t=i.options.ticks,n=Vp(i),s=Math.min(t.maxTicksLimit||n,n),r=t.major.enabled?Yp(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return Gp(e,c,r,o/s),c;const u=qp(r,e,s);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(Fi(e,c,u,de(d)?0:a-d,a),h=0,f=o-1;h<f;h++)Fi(e,c,u,r[h],r[h+1]);return Fi(e,c,u,l,de(d)?e.length:l+d),c}return Fi(e,c,u),c}function Vp(i){const e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),s=i._maxLength/t;return Math.floor(Math.min(n,s))}function qp(i,e,t){const n=Xp(i),s=e.length/t;if(!n)return Math.max(s,1);const r=Kf(n);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function Yp(i){const e=[];let t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function Gp(i,e,t,n){let s=0,r=t[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===r&&(e.push(i[o]),s++,r=t[s*n])}function Fi(i,e,t,n,s){const r=q(n,0),o=Math.min(q(s,i.length),i.length);let a=0,l,c,u;for(t=Math.ceil(t),s&&(l=s-n,t=l/Math.floor(l/t)),u=r;u<0;)a++,u=Math.round(r+a*t);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(i[c]),a++,u=Math.round(r+a*t))}function Xp(i){const e=i.length;let t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}const Jp=i=>i==="left"?"right":i==="right"?"left":i,qa=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,Ya=(i,e)=>Math.min(e||i,i);function Ga(i,e){const t=[],n=i.length/e,s=i.length;let r=0;for(;r<s;r+=n)t.push(i[Math.floor(r)]);return t}function Qp(i,e,t){const n=i.ticks.length,s=Math.min(e,n-1),r=i._startPixel,o=i._endPixel,a=1e-6;let l=i.getPixelForTick(s),c;if(!(t&&(n===1?c=Math.max(l-r,o-l):e===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function Zp(i,e){Z(i,t=>{const n=t.gc,s=n.length/2;let r;if(s>e){for(r=0;r<s;++r)delete t.data[n[r]];n.splice(0,s)}})}function zn(i){return i.drawTicks?i.tickLength:0}function Xa(i,e){if(!i.display)return 0;const t=Te(i.font,e),n=Ye(i.padding);return(ge(i.text)?i.text.length:1)*t.lineHeight+n.height}function eg(i,e){return Vt(i,{scale:e,type:"scale"})}function tg(i,e,t){return Vt(i,{tick:t,index:e,type:"tick"})}function ng(i,e,t){let n=co(i);return(t&&e!=="right"||!t&&e==="right")&&(n=Jp(n)),n}function ig(i,e,t,n){const{top:s,left:r,bottom:o,right:a,chart:l}=i,{chartArea:c,scales:u}=l;let h=0,f,d,_;const y=o-s,w=a-r;if(i.isHorizontal()){if(d=ke(n,r,a),G(t)){const p=Object.keys(t)[0],T=t[p];_=u[p].getPixelForValue(T)+y-e}else t==="center"?_=(c.bottom+c.top)/2+y-e:_=qa(i,t,e);f=a-r}else{if(G(t)){const p=Object.keys(t)[0],T=t[p];d=u[p].getPixelForValue(T)-w+e}else t==="center"?d=(c.left+c.right)/2-w+e:d=qa(i,t,e);_=ke(n,o,s),h=t==="left"?-Qe:Qe}return{titleX:d,titleY:_,maxWidth:f,rotation:h}}class xn extends wt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:s}=this;return e=st(e,Number.POSITIVE_INFINITY),t=st(t,Number.NEGATIVE_INFINITY),n=st(n,Number.POSITIVE_INFINITY),s=st(s,Number.NEGATIVE_INFINITY),{min:st(e,n),max:st(t,s),minDefined:Ee(e),maxDefined:Ee(t)}}getMinMax(e){let{min:t,max:n,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:t,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(t=Math.min(t,o.min)),r||(n=Math.max(n,o.max));return t=r&&t>n?n:t,n=s&&t>n?t:n,{min:st(t,st(n,t)),max:st(n,st(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){re(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Td(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ga(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Wp(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){re(this.options.afterUpdate,[this])}beforeSetDimensions(){re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){re(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),re(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,s,r;for(n=0,s=e.length;n<s;n++)r=e[n],r.label=re(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Ya(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!t.display||s>=r||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=Ke(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/n:d/(n-1),h+6>a&&(a=d/(n-(e.offset?.5:1)),l=this.maxHeight-zn(e.grid)-t.padding-Xa(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=qf(Math.min(Math.asin(Ke((u.highest.height+6)/a,-1,1)),Math.asin(Ke(l/c,-1,1))-Math.asin(Ke(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){re(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Xa(s,t.options.font);if(a?(e.width=this.maxWidth,e.height=zn(r)+l):(e.height=this.maxHeight,e.width=zn(r)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=n.padding*2,_=Pt(this.labelRotation),y=Math.cos(_),w=Math.sin(_);if(a){const p=n.mirror?0:w*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+p+d)}else{const p=n.mirror?0:y*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+p+d)}this._calculatePadding(c,u,w,y)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=s*e.width,d=n*t.height):(f=n*e.height,d=s*t.width):r==="start"?d=t.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,d=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){re(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)de(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Ga(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(t/Ya(t,n));let c=0,u=0,h,f,d,_,y,w,p,T,x,g,S;for(h=0;h<t;h+=l){if(_=e[h].label,y=this._resolveTickFontOptions(h),s.font=w=y.string,p=r[w]=r[w]||{data:{},gc:[]},T=y.lineHeight,x=g=0,!de(_)&&!ge(_))x=Ea(s,p.data,p.gc,x,_),g=T;else if(ge(_))for(f=0,d=_.length;f<d;++f)S=_[f],!de(S)&&!ge(S)&&(x=Ea(s,p.data,p.gc,x,S),g+=T);o.push(x),a.push(g),c=Math.max(x,c),u=Math.max(g,u)}Zp(r,t);const D=o.indexOf(c),L=a.indexOf(u),O=k=>({width:o[k]||0,height:a[k]||0});return{first:O(0),last:O(t-1),widest:O(D),highest:O(L),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Xf(this._alignToPixels?Ct(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=tg(this.getContext(),e,n))}return this.$context||(this.$context=eg(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Pt(this.labelRotation),n=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=zn(r),d=[],_=a.setContext(this.getContext()),y=_.display?_.width:0,w=y/2,p=function(z){return Ct(n,z,y)};let T,x,g,S,D,L,O,k,$,j,b,A;if(o==="top")T=p(this.bottom),L=this.bottom-f,k=T-w,j=p(e.top)+w,A=e.bottom;else if(o==="bottom")T=p(this.top),j=e.top,A=p(e.bottom)-w,L=T+w,k=this.top+f;else if(o==="left")T=p(this.right),D=this.right-f,O=T-w,$=p(e.left)+w,b=e.right;else if(o==="right")T=p(this.left),$=e.left,b=p(e.right)-w,D=T+w,O=this.left+f;else if(t==="x"){if(o==="center")T=p((e.top+e.bottom)/2+.5);else if(G(o)){const z=Object.keys(o)[0],M=o[z];T=p(this.chart.scales[z].getPixelForValue(M))}j=e.top,A=e.bottom,L=T+w,k=L+f}else if(t==="y"){if(o==="center")T=p((e.left+e.right)/2);else if(G(o)){const z=Object.keys(o)[0],M=o[z];T=p(this.chart.scales[z].getPixelForValue(M))}D=T-w,O=D-f,$=e.left,b=e.right}const I=q(s.ticks.maxTicksLimit,h),E=Math.max(1,Math.ceil(h/I));for(x=0;x<h;x+=E){const z=this.getContext(x),M=r.setContext(z),R=a.setContext(z),H=M.lineWidth,ee=M.color,Y=R.dash||[],_e=R.dashOffset,se=M.tickWidth,Be=M.tickColor,J=M.tickBorderDash||[],Ae=M.tickBorderDashOffset;g=Qp(this,x,l),g!==void 0&&(S=Ct(n,g,H),c?D=O=$=b=S:L=k=j=A=S,d.push({tx1:D,ty1:L,tx2:O,ty2:k,x1:$,y1:j,x2:b,y2:A,width:H,color:ee,borderDash:Y,borderDashOffset:_e,tickWidth:se,tickColor:Be,tickBorderDash:J,tickBorderDashOffset:Ae}))}return this._ticksLength=h,this._borderValue=T,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:s,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=zn(n.grid),d=f+u,_=h?-u:d,y=-Pt(this.labelRotation),w=[];let p,T,x,g,S,D,L,O,k,$,j,b,A="middle";if(s==="top")D=this.bottom-_,L=this._getXAxisLabelAlignment();else if(s==="bottom")D=this.top+_,L=this._getXAxisLabelAlignment();else if(s==="left"){const E=this._getYAxisLabelAlignment(f);L=E.textAlign,S=E.x}else if(s==="right"){const E=this._getYAxisLabelAlignment(f);L=E.textAlign,S=E.x}else if(t==="x"){if(s==="center")D=(e.top+e.bottom)/2+d;else if(G(s)){const E=Object.keys(s)[0],z=s[E];D=this.chart.scales[E].getPixelForValue(z)+d}L=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")S=(e.left+e.right)/2-d;else if(G(s)){const E=Object.keys(s)[0],z=s[E];S=this.chart.scales[E].getPixelForValue(z)}L=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(l==="start"?A="top":l==="end"&&(A="bottom"));const I=this._getLabelSizes();for(p=0,T=a.length;p<T;++p){x=a[p],g=x.label;const E=r.setContext(this.getContext(p));O=this.getPixelForTick(p)+r.labelOffset,k=this._resolveTickFontOptions(p),$=k.lineHeight,j=ge(g)?g.length:1;const z=j/2,M=E.color,R=E.textStrokeColor,H=E.textStrokeWidth;let ee=L;o?(S=O,L==="inner"&&(p===T-1?ee=this.options.reverse?"left":"right":p===0?ee=this.options.reverse?"right":"left":ee="center"),s==="top"?c==="near"||y!==0?b=-j*$+$/2:c==="center"?b=-I.highest.height/2-z*$+$:b=-I.highest.height+$/2:c==="near"||y!==0?b=$/2:c==="center"?b=I.highest.height/2-z*$:b=I.highest.height-j*$,h&&(b*=-1),y!==0&&!E.showLabelBackdrop&&(S+=$/2*Math.sin(y))):(D=O,b=(1-j)*$/2);let Y;if(E.showLabelBackdrop){const _e=Ye(E.backdropPadding),se=I.heights[p],Be=I.widths[p];let J=b-_e.top,Ae=0-_e.left;switch(A){case"middle":J-=se/2;break;case"bottom":J-=se;break}switch(L){case"center":Ae-=Be/2;break;case"right":Ae-=Be;break;case"inner":p===T-1?Ae-=Be:p>0&&(Ae-=Be/2);break}Y={left:Ae,top:J,width:Be+_e.width,height:se+_e.height,color:E.backdropColor}}w.push({label:g,font:k,textOffset:b,options:{rotation:y,color:M,strokeColor:R,strokeWidth:H,textAlign:ee,textBaseline:A,translation:[S,D],backdrop:Y}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Pt(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return t==="left"?s?(u=this.right+r,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?s?(u=this.left+r,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:s,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,s,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(t.display)for(r=0,o=s.length;r<o;++r){const l=s[r];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:s}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Ct(e,this.left,o)-o/2,u=Ct(e,this.right,a)+a/2,h=f=l):(h=Ct(e,this.top,o)-o/2,f=Ct(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&_s(n,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;li(n,c,0,u,l,a)}s&&vs(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:s}}=this;if(!n.display)return;const r=Te(n.font),o=Ye(n.padding),a=n.align;let l=r.lineHeight/2;t==="bottom"||t==="center"||G(t)?(l+=o.bottom,ge(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=ig(this,l,t,a);li(e,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:f,textAlign:ng(a,t,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=q(e.grid&&e.grid.z,-1),s=q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xn.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let r,o;for(r=0,o=t.length;r<o;++r){const a=t[r];a[n]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Te(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ri{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;og(t)&&(n=this.register(t));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,sg(e,o,n),this.override&&pe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,s=this.scope;n in t&&delete t[n],s&&n in pe[s]&&(delete pe[s][n],this.override&&delete Ht[n])}}function sg(i,e,t){const n=ri(Object.create(null),[t?pe.get(t):{},pe.get(e),i.defaults]);pe.set(e,n),i.defaultRoutes&&rg(e,i.defaultRoutes),i.descriptors&&pe.describe(e,i.descriptors)}function rg(i,e){Object.keys(e).forEach(t=>{const n=t.split("."),s=n.pop(),r=[i].concat(n).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");pe.route(r,s,l,a)})}function og(i){return"id"in i&&"defaults"in i}class ag{constructor(){this.controllers=new Ri(ni,"datasets",!0),this.elements=new Ri(wt,"elements"),this.plugins=new Ri(Object,"plugins"),this.scales=new Ri(xn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(s=>{const r=n||this._getRegistryForType(s);n||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Z(s,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,n){const s=ao(e);re(n["before"+s],[],n),t[e](n),re(n["after"+s],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var at=new ag;class lg{constructor(){this._init=[]}notify(e,t,n,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,t,n);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,s){s=s||{};for(const r of e){const o=r.plugin,a=o[n],l=[t,s,r.options];if(re(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,s=q(n.options&&n.options.plugins,{}),r=cg(n);return s===!1&&!t?[]:hg(e,r,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(t,n),e,"stop"),this._notify(s(n,t),e,"start")}}function cg(i){const e={},t=[],n=Object.keys(at.plugins.items);for(let r=0;r<n.length;r++)t.push(at.getPlugin(n[r]));const s=i.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function ug(i,e){return!e&&i===!1?null:i===!0?{}:i}function hg(i,{plugins:e,localIds:t},n,s){const r=[],o=i.getContext();for(const a of e){const l=a.id,c=ug(n[l],s);c!==null&&r.push({plugin:a,options:fg(i.config,{plugin:a,local:t[l]},c,o)})}return r}function fg(i,{plugin:e,local:t},n,s){const r=i.pluginScopeKeys(e),o=i.getOptionScopes(n,r);return t&&e.defaults&&o.push(e.defaults),i.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mr(i,e){const t=pe.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function dg(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function pg(i,e){return i===e?"_index_":"_value_"}function Ja(i){if(i==="x"||i==="y"||i==="r")return i}function gg(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Pr(i,...e){if(Ja(i))return i;for(const t of e){const n=t.axis||gg(t.position)||i.length>1&&Ja(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Qa(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function mg(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(t.length)return Qa(i,"x",t[0])||Qa(i,"y",t[0])}return{}}function yg(i,e){const t=Ht[i.type]||{scales:{}},n=e.scales||{},s=Mr(i.type,e),r=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!G(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Pr(o,a,mg(o,i),pe.scales[a.type]),c=pg(l,s),u=t.scales||{};r[o]=Jn(Object.create(null),[{axis:l},a,u[l],u[c]])}),i.data.datasets.forEach(o=>{const a=o.type||i.type,l=o.indexAxis||Mr(a,e),u=(Ht[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=dg(h,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),Jn(r[d],[{axis:f},n[d],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Jn(a,[pe.scales[a.type],pe.scale])}),r}function Vc(i){const e=i.options||(i.options={});e.plugins=q(e.plugins,{}),e.scales=yg(i,e)}function qc(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function bg(i){return i=i||{},i.data=qc(i.data),Vc(i),i}const Za=new Map,Yc=new Set;function Bi(i,e){let t=Za.get(i);return t||(t=e(),Za.set(i,t),Yc.add(t)),t}const jn=(i,e,t)=>{const n=ls(e,t);n!==void 0&&i.add(n)};class xg{constructor(e){this._config=bg(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qc(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Vc(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Bi(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Bi(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Bi(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let s=n.get(e);return(!s||t)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,t,n){const{options:s,type:r}=this,o=this._cachedScopes(e,n),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>jn(l,e,h))),u.forEach(h=>jn(l,s,h)),u.forEach(h=>jn(l,Ht[r]||{},h)),u.forEach(h=>jn(l,pe,h)),u.forEach(h=>jn(l,Nr,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Yc.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ht[t]||{},pe.datasets[t]||{},{type:t},pe,Nr]}resolveNamedOptions(e,t,n,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=el(this._resolverCache,e,s);let l=o;if(_g(o,t)){r.$shared=!1,n=St(n)?n():n;const c=this.createResolver(e,n,a);l=gn(o,n,c)}for(const c of t)r[c]=l[c];return r}createResolver(e,t,n=[""],s){const{resolver:r}=el(this._resolverCache,e,n);return G(t)?gn(r,t,void 0,s):r}}function el(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));const s=t.join();let r=n.get(s);return r||(r={resolver:ho(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},n.set(s,r)),r}const wg=i=>G(i)&&Object.getOwnPropertyNames(i).some(e=>St(i[e]));function _g(i,e){const{isScriptable:t,isIndexable:n}=Cc(i);for(const s of e){const r=t(s),o=n(s),a=(o||r)&&i[s];if(r&&(St(a)||wg(a))||o&&ge(a))return!0}return!1}var vg="4.4.7";const kg=["top","bottom","left","right","chartArea"];function tl(i,e){return i==="top"||i==="bottom"||kg.indexOf(i)===-1&&e==="x"}function nl(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function il(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),re(t&&t.onComplete,[i],e)}function Tg(i){const e=i.chart,t=e.options.animation;re(t&&t.onProgress,[i],e)}function Gc(i){return go()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Ji={},sl=i=>{const e=Gc(i);return Object.values(Ji).filter(t=>t.canvas===e).pop()};function Sg(i,e,t){const n=Object.keys(i);for(const s of n){const r=+s;if(r>=e){const o=i[s];delete i[s],(t>0||r>e)&&(i[r+t]=o)}}}function Eg(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}function $i(i,e,t){return i.options.clip?i[t]:e[t]}function Ag(i,e){const{xScale:t,yScale:n}=i;return t&&n?{left:$i(t,e,"left"),right:$i(t,e,"right"),top:$i(n,e,"top"),bottom:$i(n,e,"bottom")}:e}class yt{static register(...e){at.add(...e),rl()}static unregister(...e){at.remove(...e),rl()}constructor(e,t){const n=this.config=new xg(t),s=Gc(e),r=sl(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Kp(s)),this.platform.updateConfig(n);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Pf(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=td(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ji[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}pt.listen(this,"complete",il),pt.listen(this,"progress",Tg),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:s,_aspectRatio:r}=this;return de(e)?t&&r?r:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return at}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Oa(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Aa(this.canvas,this.ctx),this}stop(){return pt.stop(this),this}resize(e,t){pt.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,s=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,t,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Oa(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),re(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Z(t,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,s=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const a=t[o],l=Pr(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Z(r,o=>{const a=o.options,l=a.id,c=Pr(l,a),u=q(a.type,o.dtype);(a.position===void 0||tl(a.position,c)!==tl(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const f=at.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,e)}),Z(s,(o,a)=>{o||delete n[a]}),Z(n,o=>{We.configure(this,o,o.options),We.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((s,r)=>s.index-r.index),n>t){for(let s=t;s<n;++s)this._destroyDatasetMeta(s);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(nl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,s)=>{t.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=t.length;n<s;n++){const r=t[n];let o=this.getDatasetMeta(n);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=r.indexAxis||Mr(a,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=at.getController(a),{datasetElementType:c,dataElementType:u}=pe.datasets[a];Object.assign(l,{dataElementType:at.getElement(u),datasetElementType:c&&at.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Z(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),s||Z(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(nl("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Z(this.scales,e=>{We.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!ya(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:r}of t){const o=n==="_removeElements"?-r:r;Sg(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=n(0);for(let r=1;r<t;r++)if(!ya(s,n(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;We.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Z(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,St(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pt.has(this)?this.attached&&!pt.running(this)&&pt.start(this):(this.draw(),il({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let s,r;for(s=0,r=t.length;s<r;++s){const o=t[s];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,s=!n.disabled,r=Ag(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&_s(t,{left:n.left===!1?0:r.left-n.left,right:n.right===!1?this.width:r.right+n.right,top:n.top===!1?0:r.top-n.top,bottom:n.bottom===!1?this.height:r.bottom+n.bottom}),e.controller.draw(),s&&vs(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ai(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,s){const r=kp.modes[t];return typeof r=="function"?r(this,e,n,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let s=n.filter(r=>r&&r._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Vt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const s=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);cs(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),pt.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Aa(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ji[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Z(this.options.events,r=>n(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Z(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Z(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const s=n?"set":"remove";let r,o,a,l;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!os(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(t,e),a=n?e:r(e,t);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:s=[],options:r}=this,o=t,a=this._getActiveElements(e,s,n,o),l=jf(e),c=Eg(e,this._lastEvent,n,l);n&&(this._lastEvent=null,re(r.onHover,[e,a,this],this),l&&re(r.onClick,[e,a,this],this));const u=!os(a,s);return(u||t)&&(this._active=a,this._updateHoverStyles(a,s,t)),this._lastEvent=c,u}_getActiveElements(e,t,n,s){if(e.type==="mouseout")return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}F(yt,"defaults",pe),F(yt,"instances",Ji),F(yt,"overrides",Ht),F(yt,"registry",at),F(yt,"version",vg),F(yt,"getChart",sl);function rl(){return Z(yt.instances,i=>i._plugins.invalidate())}function Xc(i,e,t=e){i.lineCap=q(t.borderCapStyle,e.borderCapStyle),i.setLineDash(q(t.borderDash,e.borderDash)),i.lineDashOffset=q(t.borderDashOffset,e.borderDashOffset),i.lineJoin=q(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=q(t.borderWidth,e.borderWidth),i.strokeStyle=q(t.borderColor,e.borderColor)}function Ig(i,e,t){i.lineTo(t.x,t.y)}function Cg(i){return i.stepped?pd:i.tension||i.cubicInterpolationMode==="monotone"?gd:Ig}function Jc(i,e,t={}){const n=i.length,{start:s=0,end:r=n-1}=t,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function Og(i,e,t,n){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=Jc(s,t,n),u=Cg(r);let{move:h=!0,reverse:f}=n||{},d,_,y;for(d=0;d<=c;++d)_=s[(a+(f?c-d:d))%o],!_.skip&&(h?(i.moveTo(_.x,_.y),h=!1):u(i,y,_,f,r.stepped),y=_);return l&&(_=s[(a+(f?c:0))%o],u(i,y,_,f,r.stepped)),!!l}function Ng(i,e,t,n){const s=e.points,{count:r,start:o,ilen:a}=Jc(s,t,n),{move:l=!0,reverse:c}=n||{};let u=0,h=0,f,d,_,y,w,p;const T=g=>(o+(c?a-g:g))%r,x=()=>{y!==w&&(i.lineTo(u,w),i.lineTo(u,y),i.lineTo(u,p))};for(l&&(d=s[T(0)],i.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=s[T(f)],d.skip)continue;const g=d.x,S=d.y,D=g|0;D===_?(S<y?y=S:S>w&&(w=S),u=(h*u+g)/++h):(x(),i.lineTo(g,S),_=D,h=0,y=w=S),p=S}x()}function Fr(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Ng:Og}function Dg(i){return i.stepped?Yd:i.tension||i.cubicInterpolationMode==="monotone"?Gd:Lt}function Lg(i,e,t,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,n)&&s.closePath()),Xc(i,e.options),i.stroke(s)}function Mg(i,e,t,n){const{segments:s,options:r}=e,o=Fr(e);for(const a of s)Xc(i,r,a.style),i.beginPath(),o(i,e,a,{start:t,end:t+n-1})&&i.closePath(),i.stroke()}const Pg=typeof Path2D=="function";function Fg(i,e,t,n){Pg&&!e.options.segment?Lg(i,e,t,n):Mg(i,e,t,n)}class vt extends wt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;zd(this._points,n,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tp(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,s=e[t],r=this.points,o=Bc(this,{property:t,start:s,end:s});if(!o.length)return;const a=[],l=Dg(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=r[h],_=r[f];if(d===_){a.push(d);continue}const y=Math.abs((s-d[t])/(_[t]-d[t])),w=l(d,_,y,n.stepped);w[t]=e[t],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,t,n){return Fr(this)(e,this,t,n)}path(e,t,n){const s=this.segments,r=Fr(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const a of s)o&=r(e,this,a,{start:t,end:t+n-1});return!!o}draw(e,t,n,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Fg(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(vt,"id","line"),F(vt,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(vt,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(vt,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ol(i,e,t,n){const s=i.options,{[t]:r}=i.getProps([t],n);return Math.abs(e-r)<s.radius+s.hitRadius}class Qi extends wt{constructor(t){super();F(this,"parsed");F(this,"skip");F(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return ol(this,t,"x",n)}inYRange(t,n){return ol(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){const s=this.options;this.skip||s.radius<.1||!ai(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Dr(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}F(Qi,"id","point"),F(Qi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Qi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Rg(i,e,t){const n=i.segments,s=i.points,r=e.points,o=[];for(const a of n){let{start:l,end:c}=a;c=bo(l,c,s);const u=Rr(t,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=Bc(e,u);for(const f of h){const d=Rr(t,r[f.start],r[f.end],f.loop),_=Rc(a,s,d);for(const y of _)o.push({source:y,target:f,start:{[t]:al(u,d,"start",Math.max)},end:{[t]:al(u,d,"end",Math.min)}})}}return o}function Rr(i,e,t,n){if(n)return;let s=e[i],r=t[i];return i==="angle"&&(s=lt(s),r=lt(r)),{property:i,start:s,end:r}}function Bg(i,e){const{x:t=null,y:n=null}=i||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=bo(o,a,s);const l=s[o],c=s[a];n!==null?(r.push({x:l.x,y:n}),r.push({x:c.x,y:n})):t!==null&&(r.push({x:t,y:l.y}),r.push({x:t,y:c.y}))}),r}function bo(i,e,t){for(;e>i;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function al(i,e,t,n){return i&&e?n(i[t],e[t]):i?i[t]:e?e[t]:0}function Qc(i,e){let t=[],n=!1;return ge(i)?(n=!0,t=i):t=Bg(i,e),t.length?new vt({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function ll(i){return i&&i.fill!==!1}function $g(i,e,t){let s=i[e].fill;const r=[e];let o;if(!t)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ee(s))return s;if(o=i[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function zg(i,e,t){const n=Kg(i);if(G(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return Ee(s)&&Math.floor(s)===s?jg(n[0],e,s,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function jg(i,e,t,n){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function Ug(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:G(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Hg(i,e,t){let n;return i==="start"?n=t:i==="end"?n=e.options.reverse?e.min:e.max:G(i)?n=i.value:n=e.getBaseValue(),n}function Kg(i){const e=i.options,t=e.fill;let n=q(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Wg(i){const{scale:e,index:t,line:n}=i,s=[],r=n.segments,o=n.points,a=Vg(e,t);a.push(Qc({x:null,y:e.bottom},n));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)qg(s,o[u],a)}return new vt({points:s,options:{}})}function Vg(i,e){const t=[],n=i.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const r=n[s];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function qg(i,e,t){const n=[];for(let s=0;s<t.length;s++){const r=t[s],{first:o,last:a,point:l}=Yg(r,e,"x");if(!(!l||o&&a)){if(o)n.unshift(l);else if(i.push(l),!a)break}}i.push(...n)}function Yg(i,e,t){const n=i.interpolate(e,t);if(!n)return{};const s=n[t],r=i.segments,o=i.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][t],f=o[u.end][t];if(rn(s,h,f)){a=s===h,l=s===f;break}}return{first:a,last:l,point:n}}class Zc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:s,y:r,radius:o}=this;return t=t||{start:0,end:Ze},e.arc(s,r,o,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:s}=this,r=e.angle;return{x:t+Math.cos(r)*s,y:n+Math.sin(r)*s,angle:r}}}function Gg(i){const{chart:e,fill:t,line:n}=i;if(Ee(t))return Xg(e,t);if(t==="stack")return Wg(i);if(t==="shape")return!0;const s=Jg(i);return s instanceof Zc?s:Qc(s,n)}function Xg(i,e){const t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function Jg(i){return(i.scale||{}).getPointPositionForValue?Zg(i):Qg(i)}function Qg(i){const{scale:e={},fill:t}=i,n=Ug(t,e);if(Ee(n)){const s=e.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function Zg(i){const{scale:e,fill:t}=i,n=e.options,s=e.getLabels().length,r=n.reverse?e.max:e.min,o=Hg(t,e,r),a=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,r);return new Zc({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function or(i,e,t){const n=Gg(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};n&&s.points.length&&(_s(i,t),em(i,{line:s,target:n,above:u,below:h,area:t,scale:r,axis:o}),vs(i))}function em(i,e){const{line:t,target:n,above:s,below:r,area:o,scale:a}=e,l=t._loop?"angle":e.axis;i.save(),l==="x"&&r!==s&&(cl(i,n,o.top),ul(i,{line:t,target:n,color:s,scale:a,property:l}),i.restore(),i.save(),cl(i,n,o.bottom)),ul(i,{line:t,target:n,color:r,scale:a,property:l}),i.restore()}function cl(i,e,t){const{segments:n,points:s}=e;let r=!0,o=!1;i.beginPath();for(const a of n){const{start:l,end:c}=a,u=s[l],h=s[bo(l,c,s)];r?(i.moveTo(u.x,u.y),r=!1):(i.lineTo(u.x,t),i.lineTo(u.x,u.y)),o=!!e.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(h.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function ul(i,e){const{line:t,target:n,property:s,color:r,scale:o}=e,a=Rg(t,n,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=r}={}}=l,d=n!==!0;i.save(),i.fillStyle=f,tm(i,o,d&&Rr(s,u,h)),i.beginPath();const _=!!t.pathSegment(i,l);let y;if(d){_?i.closePath():hl(i,n,h,s);const w=!!n.pathSegment(i,c,{move:_,reverse:!0});y=_&&w,y||hl(i,n,u,s)}i.closePath(),i.fill(y?"evenodd":"nonzero"),i.restore()}}function tm(i,e,t){const{top:n,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=t||{};r==="x"&&(i.beginPath(),i.rect(o,n,a-o,s-n),i.clip())}function hl(i,e,t,n){const s=e.interpolate(t,n);s&&i.lineTo(s.x,s.y)}var nm={id:"filler",afterDatasetsUpdate(i,e,t){const n=(i.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<n;++o)r=i.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof vt&&(l={visible:i.isDatasetVisible(o),index:o,fill:zg(a,o,n),chart:i,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<n;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=$g(s,o,t.propagate))},beforeDraw(i,e,t){const n=t.drawTime==="beforeDraw",s=i.getSortedVisibleDatasetMetas(),r=i.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),n&&a.fill&&or(i.ctx,a,r))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const r=n[s].$filler;ll(r)&&or(i.ctx,r,i.chartArea)}},beforeDatasetDraw(i,e,t){const n=e.meta.$filler;!ll(n)||t.drawTime!=="beforeDatasetDraw"||or(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const fl=(i,e)=>{let{boxHeight:t=e,boxWidth:n=e}=i;return i.usePointStyle&&(t=Math.min(t,e),n=i.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},im=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class dl extends wt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=re(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=Te(n.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=fl(n,r);let c,u;t.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((_,y)=>{const w=n+t/2+r.measureText(_.text).width;(y===0||c[c.length-1]+w+2*a>o)&&(h+=u,c[c.length-(y>0?0:1)]=0,d+=u,f++),l[y]={left:0,top:d,row:f,width:w,height:s},c[c.length-1]+=w+a}),h}_fitCols(e,t,n,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,d=0,_=0,y=0;return this.legendItems.forEach((w,p)=>{const{itemWidth:T,itemHeight:x}=sm(n,t,r,w,s);p>0&&d+x+2*a>u&&(h+=f+a,c.push({width:f,height:d}),_+=f+a,y++,f=d=0),l[p]={left:_,top:d,col:y,width:T,height:x},f=Math.max(f,T),d+=x+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:s},rtl:r}}=this,o=un(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ke(n,this.left+s,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=ke(n,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=ke(n,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=ke(n,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_s(e,this),this._draw(),vs(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:s}=this,{align:r,labels:o}=e,a=pe.color,l=un(e.rtl,this.left,this.width),c=Te(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:_,boxHeight:y,itemHeight:w}=fl(o,h),p=function(D,L,O){if(isNaN(_)||_<=0||isNaN(y)||y<0)return;s.save();const k=q(O.lineWidth,1);if(s.fillStyle=q(O.fillStyle,a),s.lineCap=q(O.lineCap,"butt"),s.lineDashOffset=q(O.lineDashOffset,0),s.lineJoin=q(O.lineJoin,"miter"),s.lineWidth=k,s.strokeStyle=q(O.strokeStyle,a),s.setLineDash(q(O.lineDash,[])),o.usePointStyle){const $={radius:y*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:k},j=l.xPlus(D,_/2),b=L+f;Ac(s,$,j,b,o.pointStyleWidth&&_)}else{const $=L+Math.max((h-y)/2,0),j=l.leftForLtr(D,_),b=ti(O.borderRadius);s.beginPath(),Object.values(b).some(A=>A!==0)?Lr(s,{x:j,y:$,w:_,h:y,radius:b}):s.rect(j,$,_,y),s.fill(),k!==0&&s.stroke()}s.restore()},T=function(D,L,O){li(s,O.text,D,L+w/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},x=this.isHorizontal(),g=this._computeTitleHeight();x?d={x:ke(r,this.left+u,this.right-n[0]),y:this.top+u+g,line:0}:d={x:this.left+u,y:ke(r,this.top+g+u,this.bottom-t[0].height),line:0},Mc(this.ctx,e.textDirection);const S=w+u;this.legendItems.forEach((D,L)=>{s.strokeStyle=D.fontColor,s.fillStyle=D.fontColor;const O=s.measureText(D.text).width,k=l.textAlign(D.textAlign||(D.textAlign=o.textAlign)),$=_+f+O;let j=d.x,b=d.y;l.setWidth(this.width),x?L>0&&j+$+u>this.right&&(b=d.y+=S,d.line++,j=d.x=ke(r,this.left+u,this.right-n[d.line])):L>0&&b+S>this.bottom&&(j=d.x=j+t[d.line].width+u,d.line++,b=d.y=ke(r,this.top+g+u,this.bottom-t[d.line].height));const A=l.x(j);if(p(A,b,D),j=nd(k,j+_+f,x?j+$:this.right,e.rtl),T(l.x(j),b,D),x)d.x+=$+u;else if(typeof D.text!="string"){const I=c.lineHeight;d.y+=eu(D,I)+u}else d.y+=S}),Pc(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Te(t.font),s=Ye(t.padding);if(!t.display)return;const r=un(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=n.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=ke(e.align,h,this.right-f);else{const _=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);u=c+ke(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const d=ke(a,h,h+f);o.textAlign=r.textAlign(co(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,li(o,t.text,d,u,n)}_computeTitleHeight(){const e=this.options.title,t=Te(e.font),n=Ye(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,s,r;if(rn(e,this.left,this.right)&&rn(t,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(s=r[n],rn(e,s.left,s.left+s.width)&&rn(t,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!am(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=im(s,n);s&&!r&&re(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!r&&re(t.onHover,[e,n,this],this)}else n&&re(t.onClick,[e,n,this],this)}}function sm(i,e,t,n,s){const r=rm(n,i,e,t),o=om(s,n,e.lineHeight);return{itemWidth:r,itemHeight:o}}function rm(i,e,t,n){let s=i.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+n.measureText(s).width}function om(i,e,t){let n=i;return typeof e.text!="string"&&(n=eu(e,t)),n}function eu(i,e){const t=i.text?i.text.length:0;return e*t}function am(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var lm={id:"legend",_element:dl,start(i,e,t){const n=i.legend=new dl({ctx:i.ctx,options:t,chart:i});We.configure(i,n,t),We.addBox(i,n)},stop(i){We.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const n=i.legend;We.configure(i,n,t),n.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const n=e.datasetIndex,s=t.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Ye(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class tu extends wt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=ge(n.text)?n.text.length:1;this._padding=Ye(n.padding);const r=s*Te(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ke(a,n,r),h=t+e,c=r-n):(o.position==="left"?(u=n+e,h=ke(a,s,t),l=be*-.5):(u=r-e,h=ke(a,t,s),l=be*.5),c=s-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Te(t.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);li(e,t.text,0,0,n,{color:t.color,maxWidth:l,rotation:c,textAlign:co(t.align),textBaseline:"middle",translation:[o,a]})}}function cm(i,e){const t=new tu({ctx:i.ctx,options:e,chart:i});We.configure(i,t,e),We.addBox(i,t),i.titleBlock=t}var um={id:"title",_element:tu,start(i,e,t){cm(i,t)},stop(i){const e=i.titleBlock;We.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const n=i.titleBlock;We.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vn={average(i){if(!i.length)return!1;let e,t,n=new Set,s=0,r=0;for(e=0,t=i.length;e<t;++e){const a=i[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),s+=l.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:s/r}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=i.length;r<o;++r){const l=i[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Or(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,n=l.y}return{x:t,y:n}}};function ot(i,e){return e&&(ge(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function gt(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function hm(i,e){const{element:t,datasetIndex:n,index:s}=e,r=i.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:i,label:o,parsed:r.getParsed(s),raw:i.data.datasets[n].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:n,element:t}}function pl(i,e){const t=i.chart.ctx,{body:n,footer:s,title:r}=i,{boxWidth:o,boxHeight:a}=e,l=Te(e.bodyFont),c=Te(e.titleFont),u=Te(e.footerFont),h=r.length,f=s.length,d=n.length,_=Ye(e.padding);let y=_.height,w=0,p=n.reduce((g,S)=>g+S.before.length+S.lines.length+S.after.length,0);if(p+=i.beforeBody.length+i.afterBody.length,h&&(y+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const g=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=d*g+(p-d)*l.lineHeight+(p-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let T=0;const x=function(g){w=Math.max(w,t.measureText(g).width+T)};return t.save(),t.font=c.string,Z(i.title,x),t.font=l.string,Z(i.beforeBody.concat(i.afterBody),x),T=e.displayColors?o+2+e.boxPadding:0,Z(n,g=>{Z(g.before,x),Z(g.lines,x),Z(g.after,x)}),T=0,t.font=u.string,Z(i.footer,x),t.restore(),w+=_.width,{width:w,height:y}}function fm(i,e){const{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function dm(i,e,t,n){const{x:s,width:r}=n,o=t.caretSize+t.caretPadding;if(i==="left"&&s+r+o>e.width||i==="right"&&s-r-o<0)return!0}function pm(i,e,t,n){const{x:s,width:r}=t,{width:o,chartArea:{left:a,right:l}}=i;let c="center";return n==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),dm(c,i,e,t)&&(c="center"),c}function gl(i,e,t){const n=t.yAlign||e.yAlign||fm(i,t);return{xAlign:t.xAlign||e.xAlign||pm(i,e,t,n),yAlign:n}}function gm(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function mm(i,e,t){let{y:n,height:s}=i;return e==="top"?n+=t:e==="bottom"?n-=s+t:n-=s/2,n}function ml(i,e,t,n){const{caretSize:s,caretPadding:r,cornerRadius:o}=i,{xAlign:a,yAlign:l}=t,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=ti(o);let _=gm(e,a);const y=mm(e,l,c);return l==="center"?a==="left"?_+=c:a==="right"&&(_-=c):a==="left"?_-=Math.max(u,f)+s:a==="right"&&(_+=Math.max(h,d)+s),{x:Ke(_,0,n.width-e.width),y:Ke(y,0,n.height-e.height)}}function zi(i,e,t){const n=Ye(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function yl(i){return ot([],gt(i))}function ym(i,e,t){return Vt(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function bl(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const nu={beforeTitle:dt,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:dt,beforeBody:dt,beforeLabel:dt,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return de(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:dt,afterBody:dt,beforeFooter:dt,footer:dt,afterFooter:dt};function Pe(i,e,t,n){const s=i[e].call(t,n);return typeof s>"u"?nu[e].call(t,n):s}class Br extends wt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&t.options.animation&&n.animations,r=new $c(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=ym(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,s=Pe(n,"beforeTitle",this,e),r=Pe(n,"title",this,e),o=Pe(n,"afterTitle",this,e);let a=[];return a=ot(a,gt(s)),a=ot(a,gt(r)),a=ot(a,gt(o)),a}getBeforeBody(e,t){return yl(Pe(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,s=[];return Z(e,r=>{const o={before:[],lines:[],after:[]},a=bl(n,r);ot(o.before,gt(Pe(a,"beforeLabel",this,r))),ot(o.lines,Pe(a,"label",this,r)),ot(o.after,gt(Pe(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,t){return yl(Pe(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,s=Pe(n,"beforeFooter",this,e),r=Pe(n,"footer",this,e),o=Pe(n,"afterFooter",this,e);let a=[];return a=ot(a,gt(s)),a=ot(a,gt(r)),a=ot(a,gt(o)),a}_createItems(e){const t=this._active,n=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(hm(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,n))),Z(a,u=>{const h=bl(e.callbacks,u);s.push(Pe(h,"labelColor",this,u)),r.push(Pe(h,"labelPointStyle",this,u)),o.push(Pe(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const n=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Vn[n.position].call(this,s,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=pl(this,n),c=Object.assign({},a,l),u=gl(this.chart,n,c),h=ml(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,s){const r=this.getCaretPosition(e,n,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=ti(a),{x:f,y:d}=e,{width:_,height:y}=t;let w,p,T,x,g,S;return r==="center"?(g=d+y/2,s==="left"?(w=f,p=w-o,x=g+o,S=g-o):(w=f+_,p=w+o,x=g-o,S=g+o),T=w):(s==="left"?p=f+Math.max(l,u)+o:s==="right"?p=f+_-Math.max(c,h)-o:p=this.caretX,r==="top"?(x=d,g=x-o,w=p-o,T=p+o):(x=d+y,g=x+o,w=p+o,T=p-o),S=x),{x1:w,x2:p,x3:T,y1:x,y2:g,y3:S}}drawTitle(e,t,n){const s=this.title,r=s.length;let o,a,l;if(r){const c=un(n.rtl,this.x,this.width);for(e.x=zi(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",o=Te(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,l=0;l<r;++l)t.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,s,r){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,u=Te(r.bodyFont),h=zi(this,"left",r),f=s.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,_=t.y+d;if(r.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=s.leftForLtr(f,c)+c/2,p=_+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Dr(e,y,w,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Dr(e,y,w,p)}else{e.lineWidth=G(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=s.leftForLtr(f,c),w=s.leftForLtr(s.xPlus(f,1),c-2),p=ti(o.borderRadius);Object.values(p).some(T=>T!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Lr(e,{x:y,y:_,w:c,h:l,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Lr(e,{x:w,y:_+1,w:c-2,h:l-2,radius:p}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(y,_,c,l),e.strokeRect(y,_,c,l),e.fillStyle=o.backgroundColor,e.fillRect(w,_+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,h=Te(n.bodyFont);let f=h.lineHeight,d=0;const _=un(n.rtl,this.x,this.width),y=function(O){t.fillText(O,_.x(e.x+d),e.y+f/2),e.y+=f+r},w=_.textAlign(o);let p,T,x,g,S,D,L;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=zi(this,w,n),t.fillStyle=n.bodyColor,Z(this.beforeBody,y),d=a&&w!=="right"?o==="center"?c/2+u:c+2+u:0,g=0,D=s.length;g<D;++g){for(p=s[g],T=this.labelTextColors[g],t.fillStyle=T,Z(p.before,y),x=p.lines,a&&x.length&&(this._drawColorBox(t,e,g,_,n),f=Math.max(h.lineHeight,l)),S=0,L=x.length;S<L;++S)y(x[S]),f=h.lineHeight;Z(p.after,y)}d=0,f=h.lineHeight,Z(this.afterBody,y),e.y-=r}drawFooter(e,t,n){const s=this.footer,r=s.length;let o,a;if(r){const l=un(n.rtl,this.x,this.width);for(e.x=zi(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",o=Te(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=n,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:_}=ti(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,n,s),t.lineTo(a+c-f,l),t.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,t,n,s),t.lineTo(a+c,l+u-_),t.quadraticCurveTo(a+c,l+u,a+c-_,l+u),o==="bottom"&&this.drawCaret(e,t,n,s),t.lineTo(a+d,l+u),t.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&r==="left"&&this.drawCaret(e,t,n,s),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,s=n&&n.x,r=n&&n.y;if(s||r){const o=Vn[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=pl(this,e),l=Object.assign({},o,this._size),c=gl(t,e,l),u=ml(e,l,c,t);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ye(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,s,t),Mc(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Pc(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!os(n,s),o=this._positionChanged(s,t);(r||o)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,n),a=this._positionChanged(o,e),l=t||!os(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,n,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:s,options:r}=this,o=Vn[r.position].call(this,e,t);return o!==!1&&(n!==o.x||s!==o.y)}}F(Br,"positioners",Vn);var bm={id:"tooltip",_element:Br,positioners:Vn,afterInit(i,e,t){t&&(i.tooltip=new Br({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const xm=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function wm(i,e,t,n){const s=i.indexOf(e);if(s===-1)return xm(i,e,t,n);const r=i.lastIndexOf(e);return s!==r?t:s}const _m=(i,e)=>i===null?null:Ke(Math.round(i),0,e);function xl(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class $r extends xn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:s,label:r}of t)n[s]===r&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(de(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:wm(n,e,q(t,e),this._addedLabels),_m(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,s=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)s.push({value:o});return s}getLabelForValue(e){return xl.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}F($r,"id","category"),F($r,"defaults",{ticks:{callback:xl}});function vm(i,e){const t=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=i,d=r||1,_=u-1,{min:y,max:w}=e,p=!de(o),T=!de(a),x=!de(c),g=(w-y)/(h+1);let S=xa((w-y)/_/d)*d,D,L,O,k;if(S<1e-14&&!p&&!T)return[{value:y},{value:w}];k=Math.ceil(w/S)-Math.floor(y/S),k>_&&(S=xa(k*S/_/d)*d),de(l)||(D=Math.pow(10,l),S=Math.ceil(S*D)/D),s==="ticks"?(L=Math.floor(y/S)*S,O=Math.ceil(w/S)*S):(L=y,O=w),p&&T&&r&&Wf((a-o)/r,S/1e3)?(k=Math.round(Math.min((a-o)/S,u)),S=(a-o)/k,L=o,O=a):x?(L=p?o:L,O=T?a:O,k=c-1,S=(O-L)/k):(k=(O-L)/S,Qn(k,Math.round(k),S/1e3)?k=Math.round(k):k=Math.ceil(k));const $=Math.max(wa(S),wa(L));D=Math.pow(10,de(l)?$:l),L=Math.round(L*D)/D,O=Math.round(O*D)/D;let j=0;for(p&&(f&&L!==o?(t.push({value:o}),L<o&&j++,Qn(Math.round((L+j*S)*D)/D,o,wl(o,g,i))&&j++):L<o&&j++);j<k;++j){const b=Math.round((L+j*S)*D)/D;if(T&&b>a)break;t.push({value:b})}return T&&f&&O!==a?t.length&&Qn(t[t.length-1].value,a,wl(a,g,i))?t[t.length-1].value=a:t.push({value:a}):(!T||O===a)&&t.push({value:O}),t}function wl(i,e,{horizontal:t,minRotation:n}){const s=Pt(n),r=(t?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+i).length;return Math.min(e/r,o)}class km extends xn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=t?s:l,a=l=>r=n?r:l;if(e){const l=pn(s),c=pn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=vm(s,r);return e.bounds==="ticks"&&Vf(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-t)/Math.max(e.length-1,1)/2;t-=s,n+=s}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Tc(e,this.chart.options.locale,this.options.ticks.format)}}class zr extends km{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ee(e)?e:0,this.max=Ee(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Pt(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}F(zr,"id","linear"),F(zr,"defaults",{ticks:{callback:Ec.formatters.numeric}});const Ts={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Re=Object.keys(Ts);function _l(i,e){return i-e}function vl(i,e){if(de(e))return null;const t=i._adapter,{parser:n,round:s,isoWeekday:r}=i._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Ee(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(s&&(o=s==="week"&&(oi(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,s)),+o)}function kl(i,e,t,n){const s=Re.length;for(let r=Re.indexOf(i);r<s-1;++r){const o=Ts[Re[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=n)return Re[r]}return Re[s-1]}function Tm(i,e,t,n,s){for(let r=Re.length-1;r>=Re.indexOf(t);r--){const o=Re[r];if(Ts[o].common&&i._adapter.diff(s,n,o)>=e-1)return o}return Re[t?Re.indexOf(t):0]}function Sm(i){for(let e=Re.indexOf(i)+1,t=Re.length;e<t;++e)if(Ts[Re[e]].common)return Re[e]}function Tl(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:n,hi:s}=lo(t,e),r=t[n]>=e?t[n]:t[s];i[r]=!0}}function Em(i,e,t,n){const s=i._adapter,r=+s.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,n))l=t[a],l>=0&&(e[l].major=!0);return e}function Sl(i,e,t){const n=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,n.push({value:a,major:!1});return r===0||!t?n:Em(i,n,s,t)}class ds extends xn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),s=this._adapter=new bp._date(e.adapters.date);s.init(t),Jn(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:vl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ee(s)&&!isNaN(s)?s:+t.startOf(Date.now(),n),r=Ee(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=Qf(s,r,o);return this._unit=t.unit||(n.autoSkip?kl(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):Tm(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Sm(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),Sl(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ke(t,0,o),n=Ke(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,s=this.options,r=s.time,o=r.unit||kl(r.minUnit,t,n,this._getLabelCapacity(t)),a=q(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=oi(l)||l===!0,u={};let h=t,f,d;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(n,t,o)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+o);const _=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<n;f=+e.add(f,a,o),d++)Tl(u,f,_);return(f===n||s.bounds==="ticks"||d===1)&&Tl(u,f,_),Object.keys(u).sort(_l).map(y=>+y)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,r=this._unit,o=t||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,s){const r=this.options,o=r.ticks.callback;if(o)return re(o,[e,t,n],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=n[t],d=c&&h&&f&&f.major;return this._adapter.format(e,s||(d?h:u))}generateTickLabels(e){let t,n,s;for(t=0,n=e.length;t<n;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,s=Pt(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,s=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Sl(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,n=s.length;t<n;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const s=this.getLabels();for(t=0,n=s.length;t<n;++t)e.push(vl(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ed(e.sort(_l))}}F(ds,"id","time"),F(ds,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ji(i,e,t){let n=0,s=i.length-1,r,o,a,l;t?(e>=i[n].pos&&e<=i[s].pos&&({lo:n,hi:s}=Ft(i,"pos",e)),{pos:r,time:a}=i[n],{pos:o,time:l}=i[s]):(e>=i[n].time&&e<=i[s].time&&({lo:n,hi:s}=Ft(i,"time",e)),{time:r,pos:a}=i[n],{time:o,pos:l}=i[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class El extends ds{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ji(t,this.min),this._tableRange=ji(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=n&&s.push(c);if(s.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ji(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return ji(this._table,n*this._tableRange+this._minPos,!0)}}F(El,"id","timeseries"),F(El,"defaults",ds.defaults);yt.register(Gi,vt,Qi,zr,$r,lm,um,bm,nm);class Am{constructor(){F(this,"id","compound-calculator");F(this,"name","Compound Interest Calculator");F(this,"description","Calculate compound interest with periodic investments and visualize growth over time");F(this,"chart",null)}render(){const e=document.getElementById("toolContent");e&&(e.innerHTML=`
      <div class="tool-header">
        <h1 class="tool-title">${this.name}</h1>
        <p class="tool-description">${this.description}</p>
      </div>
      <div class="calculator-container">
        <div class="calculator-form">
          <div class="form-group">
            <label for="initialAmount">Initial Amount ($)</label>
            <input type="number" id="initialAmount" value="1000" min="0" step="100">
          </div>
          <div class="form-group">
            <label for="periodicInvestment">Periodic Investment ($)</label>
            <input type="number" id="periodicInvestment" value="100" min="0" step="50">
          </div>
          <div class="form-group">
            <label for="interestRate">Interest Rate per <span id="interestRatePeriod">Year</span> (%)</label>
            <input type="number" id="interestRate" value="7" min="0" max="100" step="0.1">
          </div>
          <div class="form-group">
            <label for="periodType">Compound Period</label>
            <select id="periodType">
              <option value="yearly" selected>Yearly</option>
              <option value="monthly">Monthly</option>
            </select>
          </div>
          <div class="form-group">
            <label for="timeSpan">Time Span (<span id="timeSpanPeriod">Years</span>)</label>
            <input type="number" id="timeSpan" value="10" min="1" max="50" step="1">
          </div>
          <button id="calculateBtn" class="button">Calculate</button>
        </div>
        <div class="results-section">
          <div class="total-amount">
            <h3>Final Amount</h3>
            <p id="finalAmount">$0.00</p>
            <div class="breakdown">
              <p>Initial Investment: <span id="initialInvestmentText">$0.00</span></p>
              <p>Total Contributions: <span id="totalContributionsText">$0.00</span></p>
              <p>Total Interest Earned: <span id="totalInterestText">$0.00</span></p>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="growthChart"></canvas>
          </div>
        </div>
      </div>
    `,this.addStyles(),this.setupCalculator())}setupCalculator(){const e=document.getElementById("calculateBtn"),t=document.getElementById("periodType"),n=document.getElementById("interestRatePeriod"),s=document.getElementById("timeSpanPeriod");!e||!t||!n||!s||(t.addEventListener("change",()=>{const r=t.value==="yearly";n.textContent=r?"Year":"Month",s.textContent=r?"Years":"Months";const o=document.getElementById("interestRate");if(o){const a=parseFloat(o.value);isNaN(a)||(r?o.value=(a*12).toFixed(1):o.value=(a/12).toFixed(1))}e.click()}),e.addEventListener("click",()=>{const r=parseFloat(document.getElementById("initialAmount").value),o=parseFloat(document.getElementById("periodicInvestment").value),a=parseFloat(document.getElementById("interestRate").value),l=t.value,c=parseInt(document.getElementById("timeSpan").value);this.calculateAndDisplayResults(r,o,a,l,c)}),e.click())}calculateAndDisplayResults(e,t,n,s,r){const o=s==="yearly",a=r,l=n/100;let c=e;const u=[{period:0,amount:c,contributions:e,interest:0}];let h=e;for(let f=1;f<=a;f++){const d=c*l;c=c+d+t,h+=t,u.push({period:o?f:f/12,amount:c,contributions:h,interest:c-h})}this.updateDisplay(u[u.length-1],u,o)}updateDisplay(e,t,n){const s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});document.getElementById("finalAmount").textContent=s.format(e.amount),document.getElementById("initialInvestmentText").textContent=s.format(t[0].amount),document.getElementById("totalContributionsText").textContent=s.format(e.contributions),document.getElementById("totalInterestText").textContent=s.format(e.interest),this.updateChart(t,n)}updateChart(e,t){const n=document.getElementById("growthChart").getContext("2d");if(!n)return;this.chart&&this.chart.destroy();const s=t?"Year":"Month";this.chart=new yt(n,{type:"line",data:{labels:e.map(r=>`${s} ${Math.floor(r.period)}`),datasets:[{label:"Total Amount",data:e.map(r=>r.amount),borderColor:"#646cff",backgroundColor:"#646cff33",fill:!0},{label:"Total Contributions",data:e.map(r=>r.contributions),borderColor:"#64ff7c",backgroundColor:"#64ff7c33",fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Investment Growth Over Time"},tooltip:{callbacks:{label:function(r){const o=r.raw;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o)}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(r){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact"}).format(r)}}}}}})}addStyles(){const e=document.createElement("style");e.textContent=`
      .calculator-container {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
        padding: 1rem;
      }

      .calculator-form {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        background: var(--background);
        padding: 1.5rem;
        border-radius: 8px;
        border: 1px solid var(--border);
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .form-group label {
        font-weight: 500;
        color: var(--text);
      }

      .form-group input,
      .form-group select {
        padding: 0.5rem;
        border: 1px solid var(--border);
        border-radius: 4px;
        background: var(--sidebar-bg);
        color: var(--text);
        font-size: 1rem;
      }

      .results-section {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 2rem;
        background: var(--background);
        padding: 1.5rem;
        border-radius: 8px;
        border: 1px solid var(--border);
      }

      .total-amount {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .total-amount h3 {
        font-size: 1.2rem;
        color: var(--text);
        margin: 0;
      }

      #finalAmount {
        font-size: 2rem;
        font-weight: 600;
        color: var(--primary);
        margin: 0;
      }

      .breakdown {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        padding-top: 1rem;
        border-top: 1px solid var(--border);
      }

      .breakdown p {
        display: flex;
        justify-content: space-between;
        margin: 0;
      }

      .chart-container {
        height: 400px;
        position: relative;
      }

      @media (max-width: 768px) {
        .results-section {
          grid-template-columns: 1fr;
        }

        .chart-container {
          height: 300px;
        }
      }
    `,document.head.appendChild(e)}}class Im{constructor(){F(this,"id","base64-tool");F(this,"name","Base64 Encoder/Decoder");F(this,"description","Encode text to Base64 or decode Base64 strings, with support for files and text input");F(this,"lastInput","");F(this,"lastOutput","");F(this,"currentMode","encode")}render(){const e=document.getElementById("toolContent");e&&(e.innerHTML=`
      <div class="tool-header">
        <h1 class="tool-title">${this.name}</h1>
        <p class="tool-description">${this.description}</p>
      </div>
      <div class="base64-container">
        <div class="toolbar">
          <div class="toolbar-left">
            <div class="mode-toggle">
              <button id="encodeMode" class="button mode-button active">Encode</button>
              <button id="decodeMode" class="button mode-button">Decode</button>
            </div>
          </div>
          <div class="toolbar-right">
            <button id="copyInput" class="button">Copy Input</button>
            <button id="copyOutput" class="button">Copy Output</button>
            <button id="clearAll" class="button">Clear All</button>
          </div>
        </div>
        <div class="content-container">
          <div class="input-section">
            <div class="section-header">
              <h3 id="inputLabel">Text to Encode</h3>
              <div class="file-input-container">
                <label for="fileInput" class="file-label">
                  Or choose a file
                  <input type="file" id="fileInput" class="file-input">
                </label>
              </div>
            </div>
            <textarea 
              id="inputText" 
              class="text-area" 
              placeholder="Enter text to encode or paste Base64 to decode..."
              spellcheck="false"
            ></textarea>
          </div>
          <div class="output-section">
            <div class="section-header">
              <h3 id="outputLabel">Base64 Output</h3>
            </div>
            <textarea 
              id="outputText" 
              class="text-area" 
              readonly 
              spellcheck="false"
            ></textarea>
          </div>
        </div>
      </div>
    `,this.setupHandlers(),this.addStyles())}setupHandlers(){const e=document.getElementById("encodeMode"),t=document.getElementById("decodeMode"),n=document.getElementById("inputText"),s=document.getElementById("outputText"),r=document.getElementById("copyInput"),o=document.getElementById("copyOutput"),a=document.getElementById("clearAll"),l=document.getElementById("fileInput"),c=document.getElementById("inputLabel"),u=document.getElementById("outputLabel");!e||!t||!n||!s||!r||!o||!a||!l||!c||!u||(e.addEventListener("click",()=>{this.currentMode="encode",e.classList.add("active"),t.classList.remove("active"),c.textContent="Text to Encode",u.textContent="Base64 Output",this.processInput(n.value)}),t.addEventListener("click",()=>{this.currentMode="decode",t.classList.add("active"),e.classList.remove("active"),c.textContent="Base64 to Decode",u.textContent="Decoded Output",this.processInput(n.value)}),n.addEventListener("input",h=>{const f=h.target.value;this.processInput(f)}),r.addEventListener("click",()=>{navigator.clipboard.writeText(n.value).then(()=>this.showToast("Input copied to clipboard!")).catch(()=>this.showToast("Failed to copy input"))}),o.addEventListener("click",()=>{navigator.clipboard.writeText(s.value).then(()=>this.showToast("Output copied to clipboard!")).catch(()=>this.showToast("Failed to copy output"))}),a.addEventListener("click",()=>{n.value="",s.value="",this.lastInput="",this.lastOutput="",this.showToast("Content cleared")}),l.addEventListener("change",async h=>{var d;const f=(d=h.target.files)==null?void 0:d[0];if(f)try{const _=new FileReader;this.currentMode==="encode"?(f.type.startsWith("text/")||f.name.endsWith(".txt")?_.readAsText(f):_.readAsArrayBuffer(f),_.onload=()=>{let y="";if(typeof _.result=="string")y=_.result;else if(_.result instanceof ArrayBuffer){const w=new Uint8Array(_.result);y=String.fromCharCode(...w)}n.value=y,this.processInput(y)}):(_.readAsText(f),_.onload=()=>{typeof _.result=="string"&&(n.value=_.result,this.processInput(_.result))}),_.onerror=()=>{this.showToast("Error reading file")}}catch(_){this.showToast("Error processing file"),console.error("File processing error:",_)}}))}processInput(e){const t=document.getElementById("outputText");if(t&&e!==this.lastInput){this.lastInput=e;try{if(this.currentMode==="encode")this.lastOutput=btoa(e);else try{this.lastOutput=atob(e)}catch{const n=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");this.lastOutput=atob(n)}t.value=this.lastOutput,this.clearError()}catch{e?this.showError(this.currentMode==="decode"?"Invalid Base64 string":"Text contains invalid characters"):(this.clearError(),t.value="")}}}showError(e){const t=document.getElementById("outputText");t&&(t.classList.add("error"),t.value=`Error: ${e}`)}clearError(){const e=document.getElementById("outputText");e&&e.classList.remove("error")}showToast(e){const t=document.querySelector(".base64-container");if(!t)return;const n=document.createElement("div");n.className="toast",n.textContent=e,t.appendChild(n),n.offsetHeight,n.classList.add("show"),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},2e3)}addStyles(){const e=document.createElement("style");e.textContent=`
      .base64-container {
        display: flex;
        flex-direction: column;
        height: calc(90vh - 120px);
        gap: 1rem;
      }

      .toolbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem;
        width: 100%;
      }

      .toolbar-left,
      .toolbar-right {
        display: flex;
        gap: 0.5rem;
      }

      .mode-toggle {
        display: flex;
        gap: 0.5rem;
      }

      .mode-button {
        border-radius: 4px;
        border: 1px solid var(--border);
        position: relative;
        background: var(--background);
      }

      .mode-button:hover {
        border-color: var(--primary);
      }

      .mode-button.active {
        background-color: var(--primary);
        border-color: var(--primary);
        font-weight: 500;
        box-shadow: 0 0 0 1px var(--primary);
      }

      .content-container {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        flex: 1;
        min-height: 0;
      }

      .input-section,
      .output-section {
        display: flex;
        flex-direction: column;
        flex: 1;
        min-height: 0;
      }

      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
      }

      .section-header h3 {
        margin: 0;
        font-size: 1rem;
        font-weight: 500;
      }

      .text-area {
        flex: 1;
        min-height: 0;
        padding: 1rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        color: var(--text);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        resize: none;
      }

      .text-area:focus {
        outline: none;
        border-color: var(--primary);
      }

      .text-area.error {
        color: #f44336;
      }

      .file-input-container {
        display: flex;
        align-items: center;
      }

      .file-label {
        display: inline-block;
        padding: 0.5rem 1rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: border-color 0.2s;
      }

      .file-label:hover {
        border-color: var(--primary);
      }

      .file-input {
        display: none;
      }

      .toast {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%) translateY(100%);
        background: var(--primary);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        opacity: 0;
        transition: transform 0.3s, opacity 0.3s;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }
    `,document.head.appendChild(e)}}var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Om(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Nm(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var s=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return i[n]}})}),t}var ar={exports:{}};const Dm={},Lm=Object.freeze(Object.defineProperty({__proto__:null,default:Dm},Symbol.toStringTag,{value:"Module"})),ps=Nm(Lm);/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.8.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */var Al;function Mm(){return Al||(Al=1,function(i){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",s=n?window:{};s.JS_MD5_NO_WINDOW&&(n=!1);var r=!n&&typeof self=="object",o=!s.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?s=Cm:r&&(s=self);var a=!s.JS_MD5_NO_COMMON_JS&&!0&&i.exports,l=!s.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[128,32768,8388608,-2147483648],h=[0,8,16,24],f=["hex","array","digest","buffer","arrayBuffer","base64"],d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),_=[],y;if(l){var w=new ArrayBuffer(68);y=new Uint8Array(w),_=new Uint32Array(w)}var p=Array.isArray;(s.JS_MD5_NO_NODE_JS||!p)&&(p=function(b){return Object.prototype.toString.call(b)==="[object Array]"});var T=ArrayBuffer.isView;l&&(s.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!T)&&(T=function(b){return typeof b=="object"&&b.buffer&&b.buffer.constructor===ArrayBuffer});var x=function(b){var A=typeof b;if(A==="string")return[b,!0];if(A!=="object"||b===null)throw new Error(e);if(l&&b.constructor===ArrayBuffer)return[new Uint8Array(b),!1];if(!p(b)&&!T(b))throw new Error(e);return[b,!1]},g=function(b){return function(A){return new k(!0).update(A)[b]()}},S=function(){var b=g("hex");o&&(b=D(b)),b.create=function(){return new k},b.update=function(E){return b.create().update(E)};for(var A=0;A<f.length;++A){var I=f[A];b[I]=g(I)}return b},D=function(b){var A=ps,I=ps.Buffer,E;I.from&&!s.JS_MD5_NO_BUFFER_FROM?E=I.from:E=function(M){return new I(M)};var z=function(M){if(typeof M=="string")return A.createHash("md5").update(M,"utf8").digest("hex");if(M==null)throw new Error(e);return M.constructor===ArrayBuffer&&(M=new Uint8Array(M)),p(M)||T(M)||M.constructor===I?A.createHash("md5").update(E(M)).digest("hex"):b(M)};return z},L=function(b){return function(A,I){return new $(A,!0).update(I)[b]()}},O=function(){var b=L("hex");b.create=function(E){return new $(E)},b.update=function(E,z){return b.create(E).update(z)};for(var A=0;A<f.length;++A){var I=f[A];b[I]=L(I)}return b};function k(b){if(b)_[0]=_[16]=_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=0,this.blocks=_,this.buffer8=y;else if(l){var A=new ArrayBuffer(68);this.buffer8=new Uint8Array(A),this.blocks=new Uint32Array(A)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}k.prototype.update=function(b){if(this.finalized)throw new Error(t);var A=x(b);b=A[0];for(var I=A[1],E,z=0,M,R=b.length,H=this.blocks,ee=this.buffer8;z<R;){if(this.hashed&&(this.hashed=!1,H[0]=H[16],H[16]=H[1]=H[2]=H[3]=H[4]=H[5]=H[6]=H[7]=H[8]=H[9]=H[10]=H[11]=H[12]=H[13]=H[14]=H[15]=0),I)if(l)for(M=this.start;z<R&&M<64;++z)E=b.charCodeAt(z),E<128?ee[M++]=E:E<2048?(ee[M++]=192|E>>>6,ee[M++]=128|E&63):E<55296||E>=57344?(ee[M++]=224|E>>>12,ee[M++]=128|E>>>6&63,ee[M++]=128|E&63):(E=65536+((E&1023)<<10|b.charCodeAt(++z)&1023),ee[M++]=240|E>>>18,ee[M++]=128|E>>>12&63,ee[M++]=128|E>>>6&63,ee[M++]=128|E&63);else for(M=this.start;z<R&&M<64;++z)E=b.charCodeAt(z),E<128?H[M>>>2]|=E<<h[M++&3]:E<2048?(H[M>>>2]|=(192|E>>>6)<<h[M++&3],H[M>>>2]|=(128|E&63)<<h[M++&3]):E<55296||E>=57344?(H[M>>>2]|=(224|E>>>12)<<h[M++&3],H[M>>>2]|=(128|E>>>6&63)<<h[M++&3],H[M>>>2]|=(128|E&63)<<h[M++&3]):(E=65536+((E&1023)<<10|b.charCodeAt(++z)&1023),H[M>>>2]|=(240|E>>>18)<<h[M++&3],H[M>>>2]|=(128|E>>>12&63)<<h[M++&3],H[M>>>2]|=(128|E>>>6&63)<<h[M++&3],H[M>>>2]|=(128|E&63)<<h[M++&3]);else if(l)for(M=this.start;z<R&&M<64;++z)ee[M++]=b[z];else for(M=this.start;z<R&&M<64;++z)H[M>>>2]|=b[z]<<h[M++&3];this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var b=this.blocks,A=this.lastByteIndex;b[A>>>2]|=u[A&3],A>=56&&(this.hashed||this.hash(),b[0]=b[16],b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0),b[14]=this.bytes<<3,b[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},k.prototype.hash=function(){var b,A,I,E,z,M,R=this.blocks;this.first?(b=R[0]-680876937,b=(b<<7|b>>>25)-271733879<<0,E=(-1732584194^b&2004318071)+R[1]-117830708,E=(E<<12|E>>>20)+b<<0,I=(-271733879^E&(b^-271733879))+R[2]-1126478375,I=(I<<17|I>>>15)+E<<0,A=(b^I&(E^b))+R[3]-1316259209,A=(A<<22|A>>>10)+I<<0):(b=this.h0,A=this.h1,I=this.h2,E=this.h3,b+=(E^A&(I^E))+R[0]-680876936,b=(b<<7|b>>>25)+A<<0,E+=(I^b&(A^I))+R[1]-389564586,E=(E<<12|E>>>20)+b<<0,I+=(A^E&(b^A))+R[2]+606105819,I=(I<<17|I>>>15)+E<<0,A+=(b^I&(E^b))+R[3]-1044525330,A=(A<<22|A>>>10)+I<<0),b+=(E^A&(I^E))+R[4]-176418897,b=(b<<7|b>>>25)+A<<0,E+=(I^b&(A^I))+R[5]+1200080426,E=(E<<12|E>>>20)+b<<0,I+=(A^E&(b^A))+R[6]-1473231341,I=(I<<17|I>>>15)+E<<0,A+=(b^I&(E^b))+R[7]-45705983,A=(A<<22|A>>>10)+I<<0,b+=(E^A&(I^E))+R[8]+1770035416,b=(b<<7|b>>>25)+A<<0,E+=(I^b&(A^I))+R[9]-1958414417,E=(E<<12|E>>>20)+b<<0,I+=(A^E&(b^A))+R[10]-42063,I=(I<<17|I>>>15)+E<<0,A+=(b^I&(E^b))+R[11]-1990404162,A=(A<<22|A>>>10)+I<<0,b+=(E^A&(I^E))+R[12]+1804603682,b=(b<<7|b>>>25)+A<<0,E+=(I^b&(A^I))+R[13]-40341101,E=(E<<12|E>>>20)+b<<0,I+=(A^E&(b^A))+R[14]-1502002290,I=(I<<17|I>>>15)+E<<0,A+=(b^I&(E^b))+R[15]+1236535329,A=(A<<22|A>>>10)+I<<0,b+=(I^E&(A^I))+R[1]-165796510,b=(b<<5|b>>>27)+A<<0,E+=(A^I&(b^A))+R[6]-1069501632,E=(E<<9|E>>>23)+b<<0,I+=(b^A&(E^b))+R[11]+643717713,I=(I<<14|I>>>18)+E<<0,A+=(E^b&(I^E))+R[0]-373897302,A=(A<<20|A>>>12)+I<<0,b+=(I^E&(A^I))+R[5]-701558691,b=(b<<5|b>>>27)+A<<0,E+=(A^I&(b^A))+R[10]+38016083,E=(E<<9|E>>>23)+b<<0,I+=(b^A&(E^b))+R[15]-660478335,I=(I<<14|I>>>18)+E<<0,A+=(E^b&(I^E))+R[4]-405537848,A=(A<<20|A>>>12)+I<<0,b+=(I^E&(A^I))+R[9]+568446438,b=(b<<5|b>>>27)+A<<0,E+=(A^I&(b^A))+R[14]-1019803690,E=(E<<9|E>>>23)+b<<0,I+=(b^A&(E^b))+R[3]-187363961,I=(I<<14|I>>>18)+E<<0,A+=(E^b&(I^E))+R[8]+1163531501,A=(A<<20|A>>>12)+I<<0,b+=(I^E&(A^I))+R[13]-1444681467,b=(b<<5|b>>>27)+A<<0,E+=(A^I&(b^A))+R[2]-51403784,E=(E<<9|E>>>23)+b<<0,I+=(b^A&(E^b))+R[7]+1735328473,I=(I<<14|I>>>18)+E<<0,A+=(E^b&(I^E))+R[12]-1926607734,A=(A<<20|A>>>12)+I<<0,z=A^I,b+=(z^E)+R[5]-378558,b=(b<<4|b>>>28)+A<<0,E+=(z^b)+R[8]-2022574463,E=(E<<11|E>>>21)+b<<0,M=E^b,I+=(M^A)+R[11]+1839030562,I=(I<<16|I>>>16)+E<<0,A+=(M^I)+R[14]-35309556,A=(A<<23|A>>>9)+I<<0,z=A^I,b+=(z^E)+R[1]-1530992060,b=(b<<4|b>>>28)+A<<0,E+=(z^b)+R[4]+1272893353,E=(E<<11|E>>>21)+b<<0,M=E^b,I+=(M^A)+R[7]-155497632,I=(I<<16|I>>>16)+E<<0,A+=(M^I)+R[10]-1094730640,A=(A<<23|A>>>9)+I<<0,z=A^I,b+=(z^E)+R[13]+681279174,b=(b<<4|b>>>28)+A<<0,E+=(z^b)+R[0]-358537222,E=(E<<11|E>>>21)+b<<0,M=E^b,I+=(M^A)+R[3]-722521979,I=(I<<16|I>>>16)+E<<0,A+=(M^I)+R[6]+76029189,A=(A<<23|A>>>9)+I<<0,z=A^I,b+=(z^E)+R[9]-640364487,b=(b<<4|b>>>28)+A<<0,E+=(z^b)+R[12]-421815835,E=(E<<11|E>>>21)+b<<0,M=E^b,I+=(M^A)+R[15]+530742520,I=(I<<16|I>>>16)+E<<0,A+=(M^I)+R[2]-995338651,A=(A<<23|A>>>9)+I<<0,b+=(I^(A|~E))+R[0]-198630844,b=(b<<6|b>>>26)+A<<0,E+=(A^(b|~I))+R[7]+1126891415,E=(E<<10|E>>>22)+b<<0,I+=(b^(E|~A))+R[14]-1416354905,I=(I<<15|I>>>17)+E<<0,A+=(E^(I|~b))+R[5]-57434055,A=(A<<21|A>>>11)+I<<0,b+=(I^(A|~E))+R[12]+1700485571,b=(b<<6|b>>>26)+A<<0,E+=(A^(b|~I))+R[3]-1894986606,E=(E<<10|E>>>22)+b<<0,I+=(b^(E|~A))+R[10]-1051523,I=(I<<15|I>>>17)+E<<0,A+=(E^(I|~b))+R[1]-2054922799,A=(A<<21|A>>>11)+I<<0,b+=(I^(A|~E))+R[8]+1873313359,b=(b<<6|b>>>26)+A<<0,E+=(A^(b|~I))+R[15]-30611744,E=(E<<10|E>>>22)+b<<0,I+=(b^(E|~A))+R[6]-1560198380,I=(I<<15|I>>>17)+E<<0,A+=(E^(I|~b))+R[13]+1309151649,A=(A<<21|A>>>11)+I<<0,b+=(I^(A|~E))+R[4]-145523070,b=(b<<6|b>>>26)+A<<0,E+=(A^(b|~I))+R[11]-1120210379,E=(E<<10|E>>>22)+b<<0,I+=(b^(E|~A))+R[2]+718787259,I=(I<<15|I>>>17)+E<<0,A+=(E^(I|~b))+R[9]-343485551,A=(A<<21|A>>>11)+I<<0,this.first?(this.h0=b+1732584193<<0,this.h1=A-271733879<<0,this.h2=I-1732584194<<0,this.h3=E+271733878<<0,this.first=!1):(this.h0=this.h0+b<<0,this.h1=this.h1+A<<0,this.h2=this.h2+I<<0,this.h3=this.h3+E<<0)},k.prototype.hex=function(){this.finalize();var b=this.h0,A=this.h1,I=this.h2,E=this.h3;return c[b>>>4&15]+c[b&15]+c[b>>>12&15]+c[b>>>8&15]+c[b>>>20&15]+c[b>>>16&15]+c[b>>>28&15]+c[b>>>24&15]+c[A>>>4&15]+c[A&15]+c[A>>>12&15]+c[A>>>8&15]+c[A>>>20&15]+c[A>>>16&15]+c[A>>>28&15]+c[A>>>24&15]+c[I>>>4&15]+c[I&15]+c[I>>>12&15]+c[I>>>8&15]+c[I>>>20&15]+c[I>>>16&15]+c[I>>>28&15]+c[I>>>24&15]+c[E>>>4&15]+c[E&15]+c[E>>>12&15]+c[E>>>8&15]+c[E>>>20&15]+c[E>>>16&15]+c[E>>>28&15]+c[E>>>24&15]},k.prototype.toString=k.prototype.hex,k.prototype.digest=function(){this.finalize();var b=this.h0,A=this.h1,I=this.h2,E=this.h3;return[b&255,b>>>8&255,b>>>16&255,b>>>24&255,A&255,A>>>8&255,A>>>16&255,A>>>24&255,I&255,I>>>8&255,I>>>16&255,I>>>24&255,E&255,E>>>8&255,E>>>16&255,E>>>24&255]},k.prototype.array=k.prototype.digest,k.prototype.arrayBuffer=function(){this.finalize();var b=new ArrayBuffer(16),A=new Uint32Array(b);return A[0]=this.h0,A[1]=this.h1,A[2]=this.h2,A[3]=this.h3,b},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.base64=function(){for(var b,A,I,E="",z=this.array(),M=0;M<15;)b=z[M++],A=z[M++],I=z[M++],E+=d[b>>>2]+d[(b<<4|A>>>4)&63]+d[(A<<2|I>>>6)&63]+d[I&63];return b=z[M],E+=d[b>>>2]+d[b<<4&63]+"==",E};function $(b,A){var I,E=x(b);if(b=E[0],E[1]){var z=[],M=b.length,R=0,H;for(I=0;I<M;++I)H=b.charCodeAt(I),H<128?z[R++]=H:H<2048?(z[R++]=192|H>>>6,z[R++]=128|H&63):H<55296||H>=57344?(z[R++]=224|H>>>12,z[R++]=128|H>>>6&63,z[R++]=128|H&63):(H=65536+((H&1023)<<10|b.charCodeAt(++I)&1023),z[R++]=240|H>>>18,z[R++]=128|H>>>12&63,z[R++]=128|H>>>6&63,z[R++]=128|H&63);b=z}b.length>64&&(b=new k(!0).update(b).array());var ee=[],Y=[];for(I=0;I<64;++I){var _e=b[I]||0;ee[I]=92^_e,Y[I]=54^_e}k.call(this,A),this.update(Y),this.oKeyPad=ee,this.inner=!0,this.sharedMemory=A}$.prototype=new k,$.prototype.finalize=function(){if(k.prototype.finalize.call(this),this.inner){this.inner=!1;var b=this.array();k.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(b),k.prototype.finalize.call(this)}};var j=S();j.md5=j,j.md5.hmac=O(),a?i.exports=j:s.md5=j})()}(ar)),ar.exports}var Pm=Mm();const Fm=Om(Pm);class Rm{constructor(){F(this,"id","hash-generator");F(this,"name","Hash Generator");F(this,"description","Generate MD5 and SHA cryptographic hashes from text");F(this,"lastInput","");F(this,"supportedAlgorithms",[{name:"MD5",value:"md5"},{name:"SHA-1",value:"sha-1"},{name:"SHA-256",value:"sha-256"},{name:"SHA-384",value:"sha-384"},{name:"SHA-512",value:"sha-512"}])}render(){const e=document.getElementById("toolContent");e&&(e.innerHTML=`
      <div class="tool-header">
        <h1 class="tool-title">${this.name}</h1>
        <p class="tool-description">${this.description}</p>
      </div>
      <div class="hash-container">
        <div class="input-section">
          <div class="input-controls">
            <div class="algorithm-selector">
              <label for="hashAlgorithm">Hash Algorithm:</label>
              <select id="hashAlgorithm" class="algorithm-select">
                ${this.supportedAlgorithms.map(t=>`<option value="${t.value}">${t.name}</option>`).join("")}
              </select>
            </div>
            <button id="generateHash" class="button">Generate Hash</button>
          </div>
          <textarea 
            id="inputText" 
            class="input-area" 
            placeholder="Enter text to hash..."
            spellcheck="false"
          ></textarea>
        </div>
        <div class="output-section">
          <div class="output-header">
            <h3>Hash Output</h3>
            <button id="copyHash" class="button">Copy Hash</button>
          </div>
          <div id="hashOutput" class="hash-output"></div>
        </div>
      </div>
    `,this.setupHandlers(),this.addStyles())}async generateHash(e,t){try{if(t==="md5")return Fm(e);const n=new TextEncoder().encode(e),s=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}catch(n){return console.error("Error generating hash:",n),"Error generating hash"}}setupHandlers(){const e=document.getElementById("inputText"),t=document.getElementById("hashAlgorithm"),n=document.getElementById("generateHash"),s=document.getElementById("copyHash"),r=document.getElementById("hashOutput");!e||!t||!n||!s||!r||(n.addEventListener("click",async()=>{if(!e.value.trim()){r.textContent="";return}const o=await this.generateHash(e.value,t.value);r.textContent=o}),s.addEventListener("click",()=>{const o=r.textContent;o&&navigator.clipboard.writeText(o).then(()=>this.showToast("Hash copied to clipboard!")).catch(()=>this.showToast("Failed to copy hash"))}))}formatFileSize(e){const t=["B","KB","MB","GB"];let n=e,s=0;for(;n>=1024&&s<t.length-1;)n/=1024,s++;return`${n.toFixed(2)} ${t[s]}`}showToast(e){const t=document.querySelector(".hash-container");if(!t)return;const n=document.createElement("div");n.className="toast",n.textContent=e,t.appendChild(n),n.offsetHeight,n.classList.add("show"),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},2e3)}addStyles(){const e=document.createElement("style");e.textContent=`
      .hash-container {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        max-width: 800px;
        margin: 0 auto;
        padding: 1rem;
      }

      .input-section {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .input-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .algorithm-selector {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .algorithm-select {
        padding: 0.5rem;
        border: 1px solid var(--border);
        border-radius: 4px;
        background: var(--background);
        color: var(--text);
        font-size: 1rem;
        min-width: 120px;
      }

      .file-input-wrapper {
        display: flex;
        align-items: center;
      }

      .file-label {
        display: inline-block;
        padding: 0.5rem 1rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        cursor: pointer;
        transition: border-color 0.2s;
      }

      .file-label:hover {
        border-color: var(--primary);
      }

      .file-input {
        display: none;
      }

      .input-area {
        width: 100%;
        min-height: 150px;
        padding: 1rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        color: var(--text);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        resize: vertical;
      }

      .input-area:focus {
        outline: none;
        border-color: var(--primary);
      }

      .output-section {
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        padding: 1rem;
      }

      .output-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .output-header h3 {
        margin: 0;
        font-size: 1rem;
        font-weight: 500;
      }

      .hash-output {
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        word-break: break-all;
        color: var(--primary);
      }

      .toast {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%) translateY(100%);
        background: var(--primary);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        opacity: 0;
        transition: transform 0.3s, opacity 0.3s;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }
    `,document.head.appendChild(e)}}const Bm="00000000-0000-0000-0000-000000000000",we=[];for(let i=0;i<256;++i)we.push((i+256).toString(16).slice(1));function iu(i,e=0){return(we[i[e+0]]+we[i[e+1]]+we[i[e+2]]+we[i[e+3]]+"-"+we[i[e+4]]+we[i[e+5]]+"-"+we[i[e+6]]+we[i[e+7]]+"-"+we[i[e+8]]+we[i[e+9]]+"-"+we[i[e+10]]+we[i[e+11]]+we[i[e+12]]+we[i[e+13]]+we[i[e+14]]+we[i[e+15]]).toLowerCase()}let lr;const $m=new Uint8Array(16);function jr(){if(!lr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lr=crypto.getRandomValues.bind(crypto)}return lr($m)}const Un={};function Il(i,e,t){var r;let n;const s=(i==null?void 0:i._v6)??!1;if(i){const o=Object.keys(i);o.length===1&&o[0]==="_v6"&&(i=void 0)}if(i)n=Cl(i.random??((r=i.rng)==null?void 0:r.call(i))??jr(),i.msecs,i.nsecs,i.clockseq,i.node,e,t);else{const o=Date.now(),a=jr();zm(Un,o,a),n=Cl(a,Un.msecs,Un.nsecs,s?void 0:Un.clockseq,s?void 0:Un.node,e,t)}return e?n:iu(n)}function zm(i,e,t){return i.msecs??(i.msecs=-1/0),i.nsecs??(i.nsecs=0),e===i.msecs?(i.nsecs++,i.nsecs>=1e4&&(i.node=void 0,i.nsecs=0)):e>i.msecs?i.nsecs=0:e<i.msecs&&(i.node=void 0),i.node||(i.node=t.slice(10,16),i.node[0]|=1,i.clockseq=(t[8]<<8|t[9])&16383),i.msecs=e,i}function Cl(i,e,t,n,s,r,o=0){r||(r=new Uint8Array(16),o=0),e??(e=Date.now()),t??(t=0),n??(n=(i[8]<<8|i[9])&16383),s??(s=i.slice(10,16)),e+=122192928e5;const a=((e&268435455)*1e4+t)%4294967296;r[o++]=a>>>24&255,r[o++]=a>>>16&255,r[o++]=a>>>8&255,r[o++]=a&255;const l=e/4294967296*1e4&268435455;r[o++]=l>>>8&255,r[o++]=l&255,r[o++]=l>>>24&15|16,r[o++]=l>>>16&255,r[o++]=n>>>8|128,r[o++]=n&255;for(let c=0;c<6;++c)r[o++]=s[c];return r}const jm=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ol={randomUUID:jm};function Nl(i,e,t){if(Ol.randomUUID&&!e&&!i)return Ol.randomUUID();i=i||{};const n=i.random||(i.rng||jr)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,iu(n)}function jt(i){var e=new Error(i);return e.source="ulid",e}var Ss="0123456789ABCDEFGHJKMNPQRSTVWXYZ",hn=Ss.length,Ur=Math.pow(2,48)-1,Hr=10,su=16;function Um(i){var e=Math.floor(i()*hn);return e===hn&&(e=hn-1),Ss.charAt(e)}function Hm(i,e){if(isNaN(i))throw new Error(i+" must be a number");if(i>Ur)throw jt("cannot encode time greater than "+Ur);if(i<0)throw jt("time must be positive");if(Number.isInteger(i)===!1)throw jt("time must be an integer");for(var t=void 0,n="";e>0;e--)t=i%hn,n=Ss.charAt(t)+n,i=(i-t)/hn;return n}function Km(i,e){for(var t="";i>0;i--)t=Um(e)+t;return t}function Wm(i){if(i.length!==Hr+su)throw jt("malformed ulid");var e=i.substr(0,Hr).split("").reverse().reduce(function(t,n,s){var r=Ss.indexOf(n);if(r===-1)throw jt("invalid character found: "+n);return t+=r*Math.pow(hn,s)},0);if(e>Ur)throw jt("malformed ulid, timestamp too large");return e}function Vm(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var t=e&&(e.crypto||e.msCrypto);if(t)return function(){var s=new Uint8Array(1);return t.getRandomValues(s),s[0]/255};try{var n=require("crypto");return function(){return n.randomBytes(1).readUInt8()/255}}catch{}if(i){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw jt("secure crypto unusable, insecure Math.random not allowed")}function qm(i){return i||(i=Vm()),function(t){return isNaN(t)&&(t=Date.now()),Hm(t,Hr)+Km(su,i)}}var Dl=qm();class Ym{constructor(){F(this,"id","uuid-generator");F(this,"name","UUID/GUID Generator");F(this,"description","Generate UUIDs (v1, v4), GUIDs, and ULIDs with support for custom timestamps");F(this,"supportedTypes",[{value:"uuidv4",name:"UUID v4 (Random)"},{value:"uuidv1",name:"UUID v1 (Time-based)"},{value:"ulid",name:"ULID (Sortable, Time-based)"},{value:"nil",name:"Nil UUID (Zero UUID)"}]);F(this,"lastSettings",{type:"uuidv4",quantity:1,uppercase:!1,includeDashes:!0,useCustomDate:!1,customDate:new Date().toISOString().slice(0,16)})}render(){const e=document.getElementById("toolContent");e&&(e.innerHTML=`
      <div class="tool-header">
        <h1 class="tool-title">${this.name}</h1>
        <p class="tool-description">${this.description}</p>
      </div>
      <div class="uuid-container">
        <div class="controls-section">
          <div class="main-controls">
            <div class="control-group">
              <label for="idType">Type:</label>
              <select id="idType" class="select-input">
                ${this.supportedTypes.map(t=>`<option value="${t.value}">${t.name}</option>`).join("")}
              </select>
            </div>

            <div class="control-group time-control" style="display: none">
              <label>
                <input type="checkbox" id="useCustomDate">
                Use Custom Timestamp
              </label>
              <input 
                type="datetime-local" 
                id="customDate" 
                class="datetime-input" 
                disabled
                value="${this.lastSettings.customDate}"
              >
            </div>

            <div class="control-group quantity-control">
              <label for="quantity">Quantity:</label>
              <input 
                type="number" 
                id="quantity" 
                class="number-input" 
                value="1" 
                min="1" 
                max="100"
                title="Generate between 1 and 100 IDs"
              >
            </div>
          </div>

          <div class="format-options">
            <label class="checkbox-label">
              <input type="checkbox" id="uppercase">
              Uppercase
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="includeDashes" checked>
              Include Dashes
            </label>
          </div>

          <button id="generateBtn" class="button generate-btn">Generate</button>
        </div>

        <div class="output-section">
          <div class="output-header">
            <h3>Generated IDs</h3>
            <div class="output-controls">
              <button id="copyAllBtn" class="button">Copy All</button>
              <button id="clearBtn" class="button">Clear</button>
            </div>
          </div>
          <div id="outputList" class="output-list"></div>
        </div>

        <div class="info-section">
          <h3>ID Information</h3>
          <div id="idInfo" class="id-info"></div>
        </div>
      </div>
    `,this.setupEventListeners(),this.addStyles())}setupEventListeners(){const e=document.getElementById("idType"),t=document.getElementById("useCustomDate"),n=document.getElementById("customDate"),s=document.getElementById("quantity"),r=document.getElementById("uppercase"),o=document.getElementById("includeDashes"),a=document.getElementById("generateBtn"),l=document.getElementById("copyAllBtn"),c=document.getElementById("clearBtn"),u=document.getElementById("outputList"),h=document.querySelector(".time-control");!e||!t||!n||!s||!r||!o||!a||!l||!c||!u||!h||(e.addEventListener("change",()=>{const f=["uuidv1","ulid"].includes(e.value);h.style.display=f?"flex":"none",this.lastSettings.type=e.value,this.updateIdInfo(e.value)}),this.updateIdInfo(e.value),t.addEventListener("change",()=>{n.disabled=!t.checked,this.lastSettings.useCustomDate=t.checked}),n.addEventListener("change",()=>{this.lastSettings.customDate=n.value}),r.addEventListener("change",()=>{this.lastSettings.uppercase=r.checked}),o.addEventListener("change",()=>{this.lastSettings.includeDashes=o.checked}),s.addEventListener("change",()=>{const f=parseInt(s.value);f<1&&(s.value="1"),f>100&&(s.value="100"),this.lastSettings.quantity=parseInt(s.value)}),a.addEventListener("click",()=>{var d;u.innerHTML="";const f=Math.min(Math.max(parseInt(s.value)||1,1),100);for(let _=0;_<f;_++){const{id:y,timestamp:w}=this.generateId({type:e.value,useCustomDate:t.checked,customDate:t.checked?new Date(n.value):void 0,uppercase:r.checked,includeDashes:o.checked}),p=document.createElement("div");p.className="id-item",p.innerHTML=`
          <div class="id-content">
            <span class="id-text">${y}</span>
            ${w?`<span class="id-timestamp">Generated at: ${w.toLocaleString()}</span>`:""}
          </div>
          <button class="copy-button" title="Copy ID">Copy</button>
        `,(d=p.querySelector(".copy-button"))==null||d.addEventListener("click",()=>{navigator.clipboard.writeText(y).then(()=>this.showToast("ID copied to clipboard")).catch(()=>this.showToast("Failed to copy ID"))}),u.appendChild(p),_===0&&this.updateIdInfo(e.value,w)}}),l.addEventListener("click",()=>{const f=Array.from(u.querySelectorAll(".id-text")).map(d=>d.textContent).filter(Boolean).join(`
`);f&&navigator.clipboard.writeText(f).then(()=>this.showToast("All IDs copied to clipboard")).catch(()=>this.showToast("Failed to copy IDs"))}),c.addEventListener("click",()=>{u.innerHTML="",this.updateIdInfo(e.value)}))}updateQuantityState(e,t,n){["uuidv1","ulid"].includes(e)&&t?(n.value="1",n.disabled=!0,n.title="Quantity is fixed to 1 when using custom timestamp (all IDs would be identical)"):(n.disabled=!1,n.title="Generate between 1 and 100 IDs")}generateId(e){let t,n;switch(e.type){case"uuidv4":t=Nl();break;case"uuidv1":e.useCustomDate&&e.customDate?(t=Il({msecs:e.customDate.getTime()}),n=e.customDate):(t=Il(),n=new Date);break;case"ulid":e.useCustomDate&&e.customDate?(t=Dl(e.customDate.getTime()),n=e.customDate):(t=Dl(),n=new Date(Wm(t)));break;case"nil":t=Bm;break;default:t=Nl()}return e.includeDashes||(t=t.replace(/-/g,"")),e.uppercase&&(t=t.toUpperCase()),{id:t,timestamp:n}}updateIdInfo(e,t){const n=document.getElementById("idInfo");if(!n)return;const s=[];switch(e){case"uuidv4":s.push("UUID Version 4 (Random)"),s.push("• Generated using cryptographically strong random values"),s.push("• Suitable for most use cases"),s.push("• No timestamp or sortable component");break;case"uuidv1":s.push("UUID Version 1 (Time-based)"),s.push("• Contains timestamp and node identifier"),s.push("• Sortable by generation time"),t&&s.push(`• Timestamp: ${t.toLocaleString()}`);break;case"ulid":s.push("ULID (Universally Unique Lexicographically Sortable Identifier)"),s.push("• Timestamp + Random"),s.push("• Lexicographically sortable"),s.push("• Case insensitive"),s.push("• URL-safe (no special characters)"),t&&s.push(`• Timestamp: ${t.toLocaleString()}`);break;case"nil":s.push("Nil UUID (Zero UUID)"),s.push("• Special zero-value UUID"),s.push("• All bits set to zero"),s.push("• Used to represent null or undefined UUID");break}n.innerHTML=s.join(`
`)}showToast(e){const t=document.querySelector(".uuid-container");if(!t)return;const n=document.createElement("div");n.className="toast",n.textContent=e,t.appendChild(n),n.offsetHeight,n.classList.add("show"),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},2e3)}addStyles(){const e=document.createElement("style");e.textContent=`
      .uuid-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        max-width: 800px;
        margin: 0 auto;
        padding: 1rem;
      }

      .controls-section {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        background: var(--background);
        padding: 1.5rem;
        border-radius: 8px;
        border: 1px solid var(--border);
      }

      .main-controls {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
      }

      .control-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        min-width: 200px;
      }

      .time-control {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .select-input,
      .datetime-input,
      .number-input {
        padding: 0.5rem;
        border: 1px solid var(--border);
        border-radius: 4px;
        background: var(--sidebar-bg);
        color: var(--text);
        font-size: 0.9rem;
      }

      .format-options {
        display: flex;
        gap: 1rem;
        align-items: center;
      }

      .checkbox-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .generate-btn {
        margin-left: auto;
        align-self: flex-end;
      }

      .output-section {
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 1.5rem;
      }

      .output-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .output-header h3 {
        margin: 0;
        font-size: 1.1rem;
        font-weight: 500;
      }

      .output-controls {
        display: flex;
        gap: 0.5rem;
      }

      .output-list {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .id-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        padding: 0.75rem;
        background: var(--sidebar-bg);
        border-radius: 4px;
      }

      .id-content {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
        flex: 1;
        min-width: 0;
      }

      .id-text {
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 0.9rem;
        word-break: break-all;
      }

      .id-timestamp {
        font-size: 0.8rem;
        color: var(--text-secondary);
      }

      .copy-button {
        padding: 0.25rem 0.75rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        color: var(--text);
        cursor: pointer;
        font-size: 0.9rem;
      }

      .format-options {
        display: flex;
        gap: 1rem;
        align-items: center;
      }

      .checkbox-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .generate-btn {
        margin-left: auto;
        align-self: flex-end;
      }

      .output-section {
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 1.5rem;
      }

      .output-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .output-header h3 {
        margin: 0;
        font-size: 1.1rem;
        font-weight: 500;
      }

      .output-controls {
        display: flex;
        gap: 0.5rem;
      }

      .output-list {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .id-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        padding: 0.75rem;
        background: var(--sidebar-bg);
        border-radius: 4px;
      }

      .id-content {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
        flex: 1;
        min-width: 0;
      }

      .id-text {
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 0.9rem;
        word-break: break-all;
      }

      .id-timestamp {
        font-size: 0.8rem;
        color: var(--text-secondary);
      }

      .copy-button {
        padding: 0.25rem 0.75rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        color: var(--text);
        cursor: pointer;
font-size: 0.9rem;
        white-space: nowrap;
        transition: border-color 0.2s;
      }

      .copy-button:hover {
        border-color: var(--primary);
      }

      .info-section {
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 1.5rem;
      }

      .info-section h3 {
        margin: 0 0 1rem 0;
        font-size: 1.1rem;
        font-weight: 500;
      }

      .id-info {
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 0.9rem;
        line-height: 1.6;
        white-space: pre-line;
        color: var(--text-secondary);
      }

      .toast {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%) translateY(100%);
        background: var(--primary);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        opacity: 0;
        transition: transform 0.3s, opacity 0.3s;
        z-index: 1000;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }

      @media (max-width: 600px) {
        .controls-section {
          flex-direction: column;
        }

        .generate-btn {
          margin-left: 0;
          align-self: stretch;
        }

        .control-group {
          min-width: 100%;
        }

        .id-item {
          flex-direction: column;
          align-items: stretch;
        }

        .copy-button {
          align-self: flex-end;
        }
      }
    `,document.head.appendChild(e)}}var cr={},ur={},Ui={exports:{}},Ll;function Gm(){return Ll||(Ll=1,function(i,e){var t=ps,n=t.Buffer;function s(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?i.exports=t:(s(t,e),e.Buffer=r);function r(o,a,l){return n(o,a,l)}s(n,r),r.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},r.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},r.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},r.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}}(Ui,Ui.exports)),Ui.exports}var Ml;function Xm(){if(Ml)return ur;Ml=1;var i=Gm().Buffer,e=i.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(p){if(!p)return"utf8";for(var T;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(T)return;p=(""+p).toLowerCase(),T=!0}}function n(p){var T=t(p);if(typeof T!="string"&&(i.isEncoding===e||!e(p)))throw new Error("Unknown encoding: "+p);return T||p}ur.StringDecoder=s;function s(p){this.encoding=n(p);var T;switch(this.encoding){case"utf16le":this.text=h,this.end=f,T=4;break;case"utf8":this.fillLast=l,T=4;break;case"base64":this.text=d,this.end=_,T=3;break;default:this.write=y,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(T)}s.prototype.write=function(p){if(p.length===0)return"";var T,x;if(this.lastNeed){if(T=this.fillLast(p),T===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<p.length?T?T+this.text(p,x):this.text(p,x):T||""},s.prototype.end=u,s.prototype.text=c,s.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function r(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function o(p,T,x){var g=T.length-1;if(g<x)return 0;var S=r(T[g]);return S>=0?(S>0&&(p.lastNeed=S-1),S):--g<x||S===-2?0:(S=r(T[g]),S>=0?(S>0&&(p.lastNeed=S-2),S):--g<x||S===-2?0:(S=r(T[g]),S>=0?(S>0&&(S===2?S=0:p.lastNeed=S-3),S):0))}function a(p,T,x){if((T[0]&192)!==128)return p.lastNeed=0,"�";if(p.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return p.lastNeed=1,"�";if(p.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return p.lastNeed=2,"�"}}function l(p){var T=this.lastTotal-this.lastNeed,x=a(this,p);if(x!==void 0)return x;if(this.lastNeed<=p.length)return p.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,T,0,p.length),this.lastNeed-=p.length}function c(p,T){var x=o(this,p,T);if(!this.lastNeed)return p.toString("utf8",T);this.lastTotal=x;var g=p.length-(x-this.lastNeed);return p.copy(this.lastChar,0,g),p.toString("utf8",T,g)}function u(p){var T=p&&p.length?this.write(p):"";return this.lastNeed?T+"�":T}function h(p,T){if((p.length-T)%2===0){var x=p.toString("utf16le",T);if(x){var g=x.charCodeAt(x.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",T,p.length-1)}function f(p){var T=p&&p.length?this.write(p):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,x)}return T}function d(p,T){var x=(p.length-T)%3;return x===0?p.toString("base64",T):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",T,p.length-x))}function _(p){var T=p&&p.length?this.write(p):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function y(p){return p.toString(this.encoding)}function w(p){return p&&p.length?this.write(p):""}return ur}var Pl;function Jm(){return Pl||(Pl=1,function(i){(function(e){e.parser=function(v,m){return new n(v,m)},e.SAXParser=n,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(v,m){if(!(this instanceof n))return new n(v,m);var P=this;r(P),P.q=P.c="",P.bufferCheckPosition=e.MAX_BUFFER_LENGTH,P.opt=m||{},P.opt.lowercase=P.opt.lowercase||P.opt.lowercasetags,P.looseCase=P.opt.lowercase?"toLowerCase":"toUpperCase",P.tags=[],P.closed=P.closedRoot=P.sawRoot=!1,P.tag=P.error=null,P.strict=!!v,P.noscript=!!(v||P.opt.noscript),P.state=k.BEGIN,P.strictEntities=P.opt.strictEntities,P.ENTITIES=P.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),P.attribList=[],P.opt.xmlns&&(P.ns=Object.create(y)),P.opt.unquotedAttributeValues===void 0&&(P.opt.unquotedAttributeValues=!v),P.trackPosition=P.opt.position!==!1,P.trackPosition&&(P.position=P.line=P.column=0),j(P,"onready")}Object.create||(Object.create=function(v){function m(){}m.prototype=v;var P=new m;return P}),Object.keys||(Object.keys=function(v){var m=[];for(var P in v)v.hasOwnProperty(P)&&m.push(P);return m});function s(v){for(var m=Math.max(e.MAX_BUFFER_LENGTH,10),P=0,N=0,X=t.length;N<X;N++){var ie=v[t[N]].length;if(ie>m)switch(t[N]){case"textNode":A(v);break;case"cdata":b(v,"oncdata",v.cdata),v.cdata="";break;case"script":b(v,"onscript",v.script),v.script="";break;default:E(v,"Max buffer length exceeded: "+t[N])}P=Math.max(P,ie)}var ce=e.MAX_BUFFER_LENGTH-P;v.bufferCheckPosition=ce+v.position}function r(v){for(var m=0,P=t.length;m<P;m++)v[t[m]]=""}function o(v){A(v),v.cdata!==""&&(b(v,"oncdata",v.cdata),v.cdata=""),v.script!==""&&(b(v,"onscript",v.script),v.script="")}n.prototype={end:function(){z(this)},write:Ae,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=ps.Stream}catch{a=function(){}}a||(a=function(){});var l=e.EVENTS.filter(function(v){return v!=="error"&&v!=="end"});function c(v,m){return new u(v,m)}function u(v,m){if(!(this instanceof u))return new u(v,m);a.apply(this),this._parser=new n(v,m),this.writable=!0,this.readable=!0;var P=this;this._parser.onend=function(){P.emit("end")},this._parser.onerror=function(N){P.emit("error",N),P._parser.error=null},this._decoder=null,l.forEach(function(N){Object.defineProperty(P,"on"+N,{get:function(){return P._parser["on"+N]},set:function(X){if(!X)return P.removeAllListeners(N),P._parser["on"+N]=X,X;P.on(N,X)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function(v){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(v)){if(!this._decoder){var m=Xm().StringDecoder;this._decoder=new m("utf8")}v=this._decoder.write(v)}return this._parser.write(v.toString()),this.emit("data",v),!0},u.prototype.end=function(v){return v&&v.length&&this.write(v),this._parser.end(),!0},u.prototype.on=function(v,m){var P=this;return!P._parser["on"+v]&&l.indexOf(v)!==-1&&(P._parser["on"+v]=function(){var N=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);N.splice(0,0,v),P.emit.apply(P,N)}),a.prototype.on.call(P,v,m)};var h="[CDATA[",f="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",y={xml:d,xmlns:_},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(v){return v===" "||v===`
`||v==="\r"||v==="	"}function S(v){return v==='"'||v==="'"}function D(v){return v===">"||g(v)}function L(v,m){return v.test(m)}function O(v,m){return!L(v,m)}var k=0;e.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(v){var m=e.ENTITIES[v],P=typeof m=="number"?String.fromCharCode(m):m;e.ENTITIES[v]=P});for(var $ in e.STATE)e.STATE[e.STATE[$]]=$;k=e.STATE;function j(v,m,P){v[m]&&v[m](P)}function b(v,m,P){v.textNode&&A(v),j(v,m,P)}function A(v){v.textNode=I(v.opt,v.textNode),v.textNode&&j(v,"ontext",v.textNode),v.textNode=""}function I(v,m){return v.trim&&(m=m.trim()),v.normalize&&(m=m.replace(/\s+/g," ")),m}function E(v,m){return A(v),v.trackPosition&&(m+=`
Line: `+v.line+`
Column: `+v.column+`
Char: `+v.c),m=new Error(m),v.error=m,j(v,"onerror",m),v}function z(v){return v.sawRoot&&!v.closedRoot&&M(v,"Unclosed root tag"),v.state!==k.BEGIN&&v.state!==k.BEGIN_WHITESPACE&&v.state!==k.TEXT&&E(v,"Unexpected end"),A(v),v.c="",v.closed=!0,j(v,"onend"),n.call(v,v.strict,v.opt),v}function M(v,m){if(typeof v!="object"||!(v instanceof n))throw new Error("bad call to strictFail");v.strict&&E(v,m)}function R(v){v.strict||(v.tagName=v.tagName[v.looseCase]());var m=v.tags[v.tags.length-1]||v,P=v.tag={name:v.tagName,attributes:{}};v.opt.xmlns&&(P.ns=m.ns),v.attribList.length=0,b(v,"onopentagstart",P)}function H(v,m){var P=v.indexOf(":"),N=P<0?["",v]:v.split(":"),X=N[0],ie=N[1];return m&&v==="xmlns"&&(X="xmlns",ie=""),{prefix:X,local:ie}}function ee(v){if(v.strict||(v.attribName=v.attribName[v.looseCase]()),v.attribList.indexOf(v.attribName)!==-1||v.tag.attributes.hasOwnProperty(v.attribName)){v.attribName=v.attribValue="";return}if(v.opt.xmlns){var m=H(v.attribName,!0),P=m.prefix,N=m.local;if(P==="xmlns")if(N==="xml"&&v.attribValue!==d)M(v,"xml: prefix must be bound to "+d+`
Actual: `+v.attribValue);else if(N==="xmlns"&&v.attribValue!==_)M(v,"xmlns: prefix must be bound to "+_+`
Actual: `+v.attribValue);else{var X=v.tag,ie=v.tags[v.tags.length-1]||v;X.ns===ie.ns&&(X.ns=Object.create(ie.ns)),X.ns[N]=v.attribValue}v.attribList.push([v.attribName,v.attribValue])}else v.tag.attributes[v.attribName]=v.attribValue,b(v,"onattribute",{name:v.attribName,value:v.attribValue});v.attribName=v.attribValue=""}function Y(v,m){if(v.opt.xmlns){var P=v.tag,N=H(v.tagName);P.prefix=N.prefix,P.local=N.local,P.uri=P.ns[N.prefix]||"",P.prefix&&!P.uri&&(M(v,"Unbound namespace prefix: "+JSON.stringify(v.tagName)),P.uri=N.prefix);var X=v.tags[v.tags.length-1]||v;P.ns&&X.ns!==P.ns&&Object.keys(P.ns).forEach(function(xi){b(v,"onopennamespace",{prefix:xi,uri:P.ns[xi]})});for(var ie=0,ce=v.attribList.length;ie<ce;ie++){var fe=v.attribList[ie],me=fe[0],tt=fe[1],oe=H(me,!0),Le=oe.prefix,Gt=oe.local,En=Le===""?"":P.ns[Le]||"",Xt={name:me,value:tt,prefix:Le,local:Gt,uri:En};Le&&Le!=="xmlns"&&!En&&(M(v,"Unbound namespace prefix: "+JSON.stringify(Le)),Xt.uri=Le),v.tag.attributes[me]=Xt,b(v,"onattribute",Xt)}v.attribList.length=0}v.tag.isSelfClosing=!!m,v.sawRoot=!0,v.tags.push(v.tag),b(v,"onopentag",v.tag),m||(!v.noscript&&v.tagName.toLowerCase()==="script"?v.state=k.SCRIPT:v.state=k.TEXT,v.tag=null,v.tagName=""),v.attribName=v.attribValue="",v.attribList.length=0}function _e(v){if(!v.tagName){M(v,"Weird empty close tag."),v.textNode+="</>",v.state=k.TEXT;return}if(v.script){if(v.tagName!=="script"){v.script+="</"+v.tagName+">",v.tagName="",v.state=k.SCRIPT;return}b(v,"onscript",v.script),v.script=""}var m=v.tags.length,P=v.tagName;v.strict||(P=P[v.looseCase]());for(var N=P;m--;){var X=v.tags[m];if(X.name!==N)M(v,"Unexpected close tag");else break}if(m<0){M(v,"Unmatched closing tag: "+v.tagName),v.textNode+="</"+v.tagName+">",v.state=k.TEXT;return}v.tagName=P;for(var ie=v.tags.length;ie-- >m;){var ce=v.tag=v.tags.pop();v.tagName=v.tag.name,b(v,"onclosetag",v.tagName);var fe={};for(var me in ce.ns)fe[me]=ce.ns[me];var tt=v.tags[v.tags.length-1]||v;v.opt.xmlns&&ce.ns!==tt.ns&&Object.keys(ce.ns).forEach(function(oe){var Le=ce.ns[oe];b(v,"onclosenamespace",{prefix:oe,uri:Le})})}m===0&&(v.closedRoot=!0),v.tagName=v.attribValue=v.attribName="",v.attribList.length=0,v.state=k.TEXT}function se(v){var m=v.entity,P=m.toLowerCase(),N,X="";return v.ENTITIES[m]?v.ENTITIES[m]:v.ENTITIES[P]?v.ENTITIES[P]:(m=P,m.charAt(0)==="#"&&(m.charAt(1)==="x"?(m=m.slice(2),N=parseInt(m,16),X=N.toString(16)):(m=m.slice(1),N=parseInt(m,10),X=N.toString(10))),m=m.replace(/^0+/,""),isNaN(N)||X.toLowerCase()!==m?(M(v,"Invalid character entity"),"&"+v.entity+";"):String.fromCodePoint(N))}function Be(v,m){m==="<"?(v.state=k.OPEN_WAKA,v.startTagPosition=v.position):g(m)||(M(v,"Non-whitespace before first tag."),v.textNode=m,v.state=k.TEXT)}function J(v,m){var P="";return m<v.length&&(P=v.charAt(m)),P}function Ae(v){var m=this;if(this.error)throw this.error;if(m.closed)return E(m,"Cannot write after close. Assign an onready handler.");if(v===null)return z(m);typeof v=="object"&&(v=v.toString());for(var P=0,N="";N=J(v,P++),m.c=N,!!N;)switch(m.trackPosition&&(m.position++,N===`
`?(m.line++,m.column=0):m.column++),m.state){case k.BEGIN:if(m.state=k.BEGIN_WHITESPACE,N==="\uFEFF")continue;Be(m,N);continue;case k.BEGIN_WHITESPACE:Be(m,N);continue;case k.TEXT:if(m.sawRoot&&!m.closedRoot){for(var X=P-1;N&&N!=="<"&&N!=="&";)N=J(v,P++),N&&m.trackPosition&&(m.position++,N===`
`?(m.line++,m.column=0):m.column++);m.textNode+=v.substring(X,P-1)}N==="<"&&!(m.sawRoot&&m.closedRoot&&!m.strict)?(m.state=k.OPEN_WAKA,m.startTagPosition=m.position):(!g(N)&&(!m.sawRoot||m.closedRoot)&&M(m,"Text data outside of root node."),N==="&"?m.state=k.TEXT_ENTITY:m.textNode+=N);continue;case k.SCRIPT:N==="<"?m.state=k.SCRIPT_ENDING:m.script+=N;continue;case k.SCRIPT_ENDING:N==="/"?m.state=k.CLOSE_TAG:(m.script+="<"+N,m.state=k.SCRIPT);continue;case k.OPEN_WAKA:if(N==="!")m.state=k.SGML_DECL,m.sgmlDecl="";else if(!g(N))if(L(w,N))m.state=k.OPEN_TAG,m.tagName=N;else if(N==="/")m.state=k.CLOSE_TAG,m.tagName="";else if(N==="?")m.state=k.PROC_INST,m.procInstName=m.procInstBody="";else{if(M(m,"Unencoded <"),m.startTagPosition+1<m.position){var ie=m.position-m.startTagPosition;N=new Array(ie).join(" ")+N}m.textNode+="<"+N,m.state=k.TEXT}continue;case k.SGML_DECL:if(m.sgmlDecl+N==="--"){m.state=k.COMMENT,m.comment="",m.sgmlDecl="";continue}m.doctype&&m.doctype!==!0&&m.sgmlDecl?(m.state=k.DOCTYPE_DTD,m.doctype+="<!"+m.sgmlDecl+N,m.sgmlDecl=""):(m.sgmlDecl+N).toUpperCase()===h?(b(m,"onopencdata"),m.state=k.CDATA,m.sgmlDecl="",m.cdata=""):(m.sgmlDecl+N).toUpperCase()===f?(m.state=k.DOCTYPE,(m.doctype||m.sawRoot)&&M(m,"Inappropriately located doctype declaration"),m.doctype="",m.sgmlDecl=""):N===">"?(b(m,"onsgmldeclaration",m.sgmlDecl),m.sgmlDecl="",m.state=k.TEXT):(S(N)&&(m.state=k.SGML_DECL_QUOTED),m.sgmlDecl+=N);continue;case k.SGML_DECL_QUOTED:N===m.q&&(m.state=k.SGML_DECL,m.q=""),m.sgmlDecl+=N;continue;case k.DOCTYPE:N===">"?(m.state=k.TEXT,b(m,"ondoctype",m.doctype),m.doctype=!0):(m.doctype+=N,N==="["?m.state=k.DOCTYPE_DTD:S(N)&&(m.state=k.DOCTYPE_QUOTED,m.q=N));continue;case k.DOCTYPE_QUOTED:m.doctype+=N,N===m.q&&(m.q="",m.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:N==="]"?(m.doctype+=N,m.state=k.DOCTYPE):N==="<"?(m.state=k.OPEN_WAKA,m.startTagPosition=m.position):S(N)?(m.doctype+=N,m.state=k.DOCTYPE_DTD_QUOTED,m.q=N):m.doctype+=N;continue;case k.DOCTYPE_DTD_QUOTED:m.doctype+=N,N===m.q&&(m.state=k.DOCTYPE_DTD,m.q="");continue;case k.COMMENT:N==="-"?m.state=k.COMMENT_ENDING:m.comment+=N;continue;case k.COMMENT_ENDING:N==="-"?(m.state=k.COMMENT_ENDED,m.comment=I(m.opt,m.comment),m.comment&&b(m,"oncomment",m.comment),m.comment=""):(m.comment+="-"+N,m.state=k.COMMENT);continue;case k.COMMENT_ENDED:N!==">"?(M(m,"Malformed comment"),m.comment+="--"+N,m.state=k.COMMENT):m.doctype&&m.doctype!==!0?m.state=k.DOCTYPE_DTD:m.state=k.TEXT;continue;case k.CDATA:N==="]"?m.state=k.CDATA_ENDING:m.cdata+=N;continue;case k.CDATA_ENDING:N==="]"?m.state=k.CDATA_ENDING_2:(m.cdata+="]"+N,m.state=k.CDATA);continue;case k.CDATA_ENDING_2:N===">"?(m.cdata&&b(m,"oncdata",m.cdata),b(m,"onclosecdata"),m.cdata="",m.state=k.TEXT):N==="]"?m.cdata+="]":(m.cdata+="]]"+N,m.state=k.CDATA);continue;case k.PROC_INST:N==="?"?m.state=k.PROC_INST_ENDING:g(N)?m.state=k.PROC_INST_BODY:m.procInstName+=N;continue;case k.PROC_INST_BODY:if(!m.procInstBody&&g(N))continue;N==="?"?m.state=k.PROC_INST_ENDING:m.procInstBody+=N;continue;case k.PROC_INST_ENDING:N===">"?(b(m,"onprocessinginstruction",{name:m.procInstName,body:m.procInstBody}),m.procInstName=m.procInstBody="",m.state=k.TEXT):(m.procInstBody+="?"+N,m.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:L(p,N)?m.tagName+=N:(R(m),N===">"?Y(m):N==="/"?m.state=k.OPEN_TAG_SLASH:(g(N)||M(m,"Invalid character in tag name"),m.state=k.ATTRIB));continue;case k.OPEN_TAG_SLASH:N===">"?(Y(m,!0),_e(m)):(M(m,"Forward-slash in opening tag not followed by >"),m.state=k.ATTRIB);continue;case k.ATTRIB:if(g(N))continue;N===">"?Y(m):N==="/"?m.state=k.OPEN_TAG_SLASH:L(w,N)?(m.attribName=N,m.attribValue="",m.state=k.ATTRIB_NAME):M(m,"Invalid attribute name");continue;case k.ATTRIB_NAME:N==="="?m.state=k.ATTRIB_VALUE:N===">"?(M(m,"Attribute without value"),m.attribValue=m.attribName,ee(m),Y(m)):g(N)?m.state=k.ATTRIB_NAME_SAW_WHITE:L(p,N)?m.attribName+=N:M(m,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if(N==="=")m.state=k.ATTRIB_VALUE;else{if(g(N))continue;M(m,"Attribute without value"),m.tag.attributes[m.attribName]="",m.attribValue="",b(m,"onattribute",{name:m.attribName,value:""}),m.attribName="",N===">"?Y(m):L(w,N)?(m.attribName=N,m.state=k.ATTRIB_NAME):(M(m,"Invalid attribute name"),m.state=k.ATTRIB)}continue;case k.ATTRIB_VALUE:if(g(N))continue;S(N)?(m.q=N,m.state=k.ATTRIB_VALUE_QUOTED):(m.opt.unquotedAttributeValues||E(m,"Unquoted attribute value"),m.state=k.ATTRIB_VALUE_UNQUOTED,m.attribValue=N);continue;case k.ATTRIB_VALUE_QUOTED:if(N!==m.q){N==="&"?m.state=k.ATTRIB_VALUE_ENTITY_Q:m.attribValue+=N;continue}ee(m),m.q="",m.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:g(N)?m.state=k.ATTRIB:N===">"?Y(m):N==="/"?m.state=k.OPEN_TAG_SLASH:L(w,N)?(M(m,"No whitespace between attributes"),m.attribName=N,m.attribValue="",m.state=k.ATTRIB_NAME):M(m,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(!D(N)){N==="&"?m.state=k.ATTRIB_VALUE_ENTITY_U:m.attribValue+=N;continue}ee(m),N===">"?Y(m):m.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(m.tagName)N===">"?_e(m):L(p,N)?m.tagName+=N:m.script?(m.script+="</"+m.tagName,m.tagName="",m.state=k.SCRIPT):(g(N)||M(m,"Invalid tagname in closing tag"),m.state=k.CLOSE_TAG_SAW_WHITE);else{if(g(N))continue;O(w,N)?m.script?(m.script+="</"+N,m.state=k.SCRIPT):M(m,"Invalid tagname in closing tag."):m.tagName=N}continue;case k.CLOSE_TAG_SAW_WHITE:if(g(N))continue;N===">"?_e(m):M(m,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:var ce,fe;switch(m.state){case k.TEXT_ENTITY:ce=k.TEXT,fe="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:ce=k.ATTRIB_VALUE_QUOTED,fe="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:ce=k.ATTRIB_VALUE_UNQUOTED,fe="attribValue";break}if(N===";"){var me=se(m);m.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(me)?(m.entity="",m.state=ce,m.write(me)):(m[fe]+=me,m.entity="",m.state=ce)}else L(m.entity.length?x:T,N)?m.entity+=N:(M(m,"Invalid character in entity name"),m[fe]+="&"+m.entity+N,m.entity="",m.state=ce);continue;default:throw new Error(m,"Unknown state: "+m.state)}return m.position>=m.bufferCheckPosition&&s(m),m}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var v=String.fromCharCode,m=Math.floor,P=function(){var N=16384,X=[],ie,ce,fe=-1,me=arguments.length;if(!me)return"";for(var tt="";++fe<me;){var oe=Number(arguments[fe]);if(!isFinite(oe)||oe<0||oe>1114111||m(oe)!==oe)throw RangeError("Invalid code point: "+oe);oe<=65535?X.push(oe):(oe-=65536,ie=(oe>>10)+55296,ce=oe%1024+56320,X.push(ie,ce)),(fe+1===me||X.length>N)&&(tt+=v.apply(null,X),X.length=0)}return tt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:P,configurable:!0,writable:!0}):String.fromCodePoint=P}()})(i)}(cr)),cr}var hr,Fl;function xo(){return Fl||(Fl=1,hr={isArray:function(i){return Array.isArray?Array.isArray(i):Object.prototype.toString.call(i)==="[object Array]"}}),hr}var fr,Rl;function wo(){if(Rl)return fr;Rl=1;var i=xo().isArray;return fr={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!i(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},fr}var dr,Bl;function ru(){if(Bl)return dr;Bl=1;var i=Jm(),e=wo(),t=xo().isArray,n,s;function r(p){return n=e.copyOptions(p),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(p){var T=Number(p);if(!isNaN(T))return T;var x=p.toLowerCase();return x==="true"?!0:x==="false"?!1:p}function a(p,T){var x;if(n.compact){if(!s[n[p+"Key"]]&&(t(n.alwaysArray)?n.alwaysArray.indexOf(n[p+"Key"])!==-1:n.alwaysArray)&&(s[n[p+"Key"]]=[]),s[n[p+"Key"]]&&!t(s[n[p+"Key"]])&&(s[n[p+"Key"]]=[s[n[p+"Key"]]]),p+"Fn"in n&&typeof T=="string"&&(T=n[p+"Fn"](T,s)),p==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(x in T)if(T.hasOwnProperty(x))if("instructionFn"in n)T[x]=n.instructionFn(T[x],x,s);else{var g=T[x];delete T[x],T[n.instructionNameFn(x,g,s)]=g}}t(s[n[p+"Key"]])?s[n[p+"Key"]].push(T):s[n[p+"Key"]]=T}else{s[n.elementsKey]||(s[n.elementsKey]=[]);var S={};if(S[n.typeKey]=p,p==="instruction"){for(x in T)if(T.hasOwnProperty(x))break;S[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(x,T,s):x,n.instructionHasAttributes?(S[n.attributesKey]=T[x][n.attributesKey],"instructionFn"in n&&(S[n.attributesKey]=n.instructionFn(S[n.attributesKey],x,s))):("instructionFn"in n&&(T[x]=n.instructionFn(T[x],x,s)),S[n.instructionKey]=T[x])}else p+"Fn"in n&&(T=n[p+"Fn"](T,s)),S[n[p+"Key"]]=T;n.addParent&&(S[n.parentKey]=s),s[n.elementsKey].push(S)}}function l(p){if("attributesFn"in n&&p&&(p=n.attributesFn(p,s)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&p){var T;for(T in p)if(p.hasOwnProperty(T)&&(n.trim&&(p[T]=p[T].trim()),n.nativeTypeAttributes&&(p[T]=o(p[T])),"attributeValueFn"in n&&(p[T]=n.attributeValueFn(p[T],T,s)),"attributeNameFn"in n)){var x=p[T];delete p[T],p[n.attributeNameFn(T,p[T],s)]=x}}return p}function c(p){var T={};if(p.body&&(p.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var x=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,g;(g=x.exec(p.body))!==null;)T[g[1]]=g[2]||g[3]||g[4];T=l(T)}if(p.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;s[n.declarationKey]={},Object.keys(T).length&&(s[n.declarationKey][n.attributesKey]=T),n.addParent&&(s[n.declarationKey][n.parentKey]=s)}else{if(n.ignoreInstruction)return;n.trim&&(p.body=p.body.trim());var S={};n.instructionHasAttributes&&Object.keys(T).length?(S[p.name]={},S[p.name][n.attributesKey]=T):S[p.name]=p.body,a("instruction",S)}}function u(p,T){var x;if(typeof p=="object"&&(T=p.attributes,p=p.name),T=l(T),"elementNameFn"in n&&(p=n.elementNameFn(p,s)),n.compact){if(x={},!n.ignoreAttributes&&T&&Object.keys(T).length){x[n.attributesKey]={};var g;for(g in T)T.hasOwnProperty(g)&&(x[n.attributesKey][g]=T[g])}!(p in s)&&(t(n.alwaysArray)?n.alwaysArray.indexOf(p)!==-1:n.alwaysArray)&&(s[p]=[]),s[p]&&!t(s[p])&&(s[p]=[s[p]]),t(s[p])?s[p].push(x):s[p]=x}else s[n.elementsKey]||(s[n.elementsKey]=[]),x={},x[n.typeKey]="element",x[n.nameKey]=p,!n.ignoreAttributes&&T&&Object.keys(T).length&&(x[n.attributesKey]=T),n.alwaysChildren&&(x[n.elementsKey]=[]),s[n.elementsKey].push(x);x[n.parentKey]=s,s=x}function h(p){n.ignoreText||!p.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(p=p.trim()),n.nativeType&&(p=o(p)),n.sanitize&&(p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",p))}function f(p){n.ignoreComment||(n.trim&&(p=p.trim()),a("comment",p))}function d(p){var T=s[n.parentKey];n.addParent||delete s[n.parentKey],s=T}function _(p){n.ignoreCdata||(n.trim&&(p=p.trim()),a("cdata",p))}function y(p){n.ignoreDoctype||(p=p.replace(/^ /,""),n.trim&&(p=p.trim()),a("doctype",p))}function w(p){p.note=p}return dr=function(p,T){var x=i.parser(!0,{}),g={};if(s=g,n=r(T),x.opt={strictEntities:!0},x.onopentag=u,x.ontext=h,x.oncomment=f,x.onclosetag=d,x.onerror=w,x.oncdata=_,x.ondoctype=y,x.onprocessinginstruction=c,x.write(p).close(),g[n.elementsKey]){var S=g[n.elementsKey];delete g[n.elementsKey],g[n.elementsKey]=S,delete g.text}return g},dr}var pr,$l;function Qm(){if($l)return pr;$l=1;var i=wo(),e=ru();function t(n){var s=i.copyOptions(n);return i.ensureSpacesExists(s),s}return pr=function(n,s){var r,o,a,l;return r=t(s),o=e(n,r),l="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?a=JSON.stringify(o,function(c,u){return c===l?"_":u},r.spaces):a=JSON.stringify(o,null,r.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},pr}var gr,zl;function ou(){if(zl)return gr;zl=1;var i=wo(),e=xo().isArray,t,n;function s(x){var g=i.copyOptions(x);return i.ensureFlagExists("ignoreDeclaration",g),i.ensureFlagExists("ignoreInstruction",g),i.ensureFlagExists("ignoreAttributes",g),i.ensureFlagExists("ignoreText",g),i.ensureFlagExists("ignoreComment",g),i.ensureFlagExists("ignoreCdata",g),i.ensureFlagExists("ignoreDoctype",g),i.ensureFlagExists("compact",g),i.ensureFlagExists("indentText",g),i.ensureFlagExists("indentCdata",g),i.ensureFlagExists("indentAttributes",g),i.ensureFlagExists("indentInstruction",g),i.ensureFlagExists("fullTagEmptyElement",g),i.ensureFlagExists("noQuotesForNativeAttributes",g),i.ensureSpacesExists(g),typeof g.spaces=="number"&&(g.spaces=Array(g.spaces+1).join(" ")),i.ensureKeyExists("declaration",g),i.ensureKeyExists("instruction",g),i.ensureKeyExists("attributes",g),i.ensureKeyExists("text",g),i.ensureKeyExists("comment",g),i.ensureKeyExists("cdata",g),i.ensureKeyExists("doctype",g),i.ensureKeyExists("type",g),i.ensureKeyExists("name",g),i.ensureKeyExists("elements",g),i.checkFnExists("doctype",g),i.checkFnExists("instruction",g),i.checkFnExists("cdata",g),i.checkFnExists("comment",g),i.checkFnExists("text",g),i.checkFnExists("instructionName",g),i.checkFnExists("elementName",g),i.checkFnExists("attributeName",g),i.checkFnExists("attributeValue",g),i.checkFnExists("attributes",g),i.checkFnExists("fullTagEmptyElement",g),g}function r(x,g,S){return(!S&&x.spaces?`
`:"")+Array(g+1).join(x.spaces)}function o(x,g,S){if(g.ignoreAttributes)return"";"attributesFn"in g&&(x=g.attributesFn(x,n,t));var D,L,O,k,$=[];for(D in x)x.hasOwnProperty(D)&&x[D]!==null&&x[D]!==void 0&&(k=g.noQuotesForNativeAttributes&&typeof x[D]!="string"?"":'"',L=""+x[D],L=L.replace(/"/g,"&quot;"),O="attributeNameFn"in g?g.attributeNameFn(D,L,n,t):D,$.push(g.spaces&&g.indentAttributes?r(g,S+1,!1):" "),$.push(O+"="+k+("attributeValueFn"in g?g.attributeValueFn(L,D,n,t):L)+k));return x&&Object.keys(x).length&&g.spaces&&g.indentAttributes&&$.push(r(g,S,!1)),$.join("")}function a(x,g,S){return t=x,n="xml",g.ignoreDeclaration?"":"<?xml"+o(x[g.attributesKey],g,S)+"?>"}function l(x,g,S){if(g.ignoreInstruction)return"";var D;for(D in x)if(x.hasOwnProperty(D))break;var L="instructionNameFn"in g?g.instructionNameFn(D,x[D],n,t):D;if(typeof x[D]=="object")return t=x,n=L,"<?"+L+o(x[D][g.attributesKey],g,S)+"?>";var O=x[D]?x[D]:"";return"instructionFn"in g&&(O=g.instructionFn(O,D,n,t)),"<?"+L+(O?" "+O:"")+"?>"}function c(x,g){return g.ignoreComment?"":"<!--"+("commentFn"in g?g.commentFn(x,n,t):x)+"-->"}function u(x,g){return g.ignoreCdata?"":"<![CDATA["+("cdataFn"in g?g.cdataFn(x,n,t):x.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(x,g){return g.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in g?g.doctypeFn(x,n,t):x)+">"}function f(x,g){return g.ignoreText?"":(x=""+x,x=x.replace(/&amp;/g,"&"),x=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in g?g.textFn(x,n,t):x)}function d(x,g){var S;if(x.elements&&x.elements.length)for(S=0;S<x.elements.length;++S)switch(x.elements[S][g.typeKey]){case"text":if(g.indentText)return!0;break;case"cdata":if(g.indentCdata)return!0;break;case"instruction":if(g.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function _(x,g,S){t=x,n=x.name;var D=[],L="elementNameFn"in g?g.elementNameFn(x.name,x):x.name;D.push("<"+L),x[g.attributesKey]&&D.push(o(x[g.attributesKey],g,S));var O=x[g.elementsKey]&&x[g.elementsKey].length||x[g.attributesKey]&&x[g.attributesKey]["xml:space"]==="preserve";return O||("fullTagEmptyElementFn"in g?O=g.fullTagEmptyElementFn(x.name,x):O=g.fullTagEmptyElement),O?(D.push(">"),x[g.elementsKey]&&x[g.elementsKey].length&&(D.push(y(x[g.elementsKey],g,S+1)),t=x,n=x.name),D.push(g.spaces&&d(x,g)?`
`+Array(S+1).join(g.spaces):""),D.push("</"+L+">")):D.push("/>"),D.join("")}function y(x,g,S,D){return x.reduce(function(L,O){var k=r(g,S,D&&!L);switch(O.type){case"element":return L+k+_(O,g,S);case"comment":return L+k+c(O[g.commentKey],g);case"doctype":return L+k+h(O[g.doctypeKey],g);case"cdata":return L+(g.indentCdata?k:"")+u(O[g.cdataKey],g);case"text":return L+(g.indentText?k:"")+f(O[g.textKey],g);case"instruction":var $={};return $[O[g.nameKey]]=O[g.attributesKey]?O:O[g.instructionKey],L+(g.indentInstruction?k:"")+l($,g,S)}},"")}function w(x,g,S){var D;for(D in x)if(x.hasOwnProperty(D))switch(D){case g.parentKey:case g.attributesKey:break;case g.textKey:if(g.indentText||S)return!0;break;case g.cdataKey:if(g.indentCdata||S)return!0;break;case g.instructionKey:if(g.indentInstruction||S)return!0;break;case g.doctypeKey:case g.commentKey:return!0;default:return!0}return!1}function p(x,g,S,D,L){t=x,n=g;var O="elementNameFn"in S?S.elementNameFn(g,x):g;if(typeof x>"u"||x===null||x==="")return"fullTagEmptyElementFn"in S&&S.fullTagEmptyElementFn(g,x)||S.fullTagEmptyElement?"<"+O+"></"+O+">":"<"+O+"/>";var k=[];if(g){if(k.push("<"+O),typeof x!="object")return k.push(">"+f(x,S)+"</"+O+">"),k.join("");x[S.attributesKey]&&k.push(o(x[S.attributesKey],S,D));var $=w(x,S,!0)||x[S.attributesKey]&&x[S.attributesKey]["xml:space"]==="preserve";if($||("fullTagEmptyElementFn"in S?$=S.fullTagEmptyElementFn(g,x):$=S.fullTagEmptyElement),$)k.push(">");else return k.push("/>"),k.join("")}return k.push(T(x,S,D+1,!1)),t=x,n=g,g&&k.push((L?r(S,D,!1):"")+"</"+O+">"),k.join("")}function T(x,g,S,D){var L,O,k,$=[];for(O in x)if(x.hasOwnProperty(O))for(k=e(x[O])?x[O]:[x[O]],L=0;L<k.length;++L){switch(O){case g.declarationKey:$.push(a(k[L],g,S));break;case g.instructionKey:$.push((g.indentInstruction?r(g,S,D):"")+l(k[L],g,S));break;case g.attributesKey:case g.parentKey:break;case g.textKey:$.push((g.indentText?r(g,S,D):"")+f(k[L],g));break;case g.cdataKey:$.push((g.indentCdata?r(g,S,D):"")+u(k[L],g));break;case g.doctypeKey:$.push(r(g,S,D)+h(k[L],g));break;case g.commentKey:$.push(r(g,S,D)+c(k[L],g));break;default:$.push(r(g,S,D)+p(k[L],O,g,S,w(k[L],g)))}D=D&&!$.length}return $.join("")}return gr=function(x,g){g=s(g);var S=[];return t=x,n="_root_",g.compact?S.push(T(x,g,0,!0)):(x[g.declarationKey]&&S.push(a(x[g.declarationKey],g,0)),x[g.elementsKey]&&x[g.elementsKey].length&&S.push(y(x[g.elementsKey],g,0,!S.length))),S.join("")},gr}var mr,jl;function Zm(){if(jl)return mr;jl=1;var i=ou();return mr=function(e,t){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return i(n,t)},mr}var yr,Ul;function ey(){if(Ul)return yr;Ul=1;var i=ru(),e=Qm(),t=ou(),n=Zm();return yr={xml2js:i,xml2json:e,js2xml:t,json2xml:n},yr}var Hl=ey();const _o=Symbol.for("yaml.alias"),Kr=Symbol.for("yaml.document"),Tt=Symbol.for("yaml.map"),au=Symbol.for("yaml.pair"),ut=Symbol.for("yaml.scalar"),wn=Symbol.for("yaml.seq"),Ge=Symbol.for("yaml.node.type"),qt=i=>!!i&&typeof i=="object"&&i[Ge]===_o,Yt=i=>!!i&&typeof i=="object"&&i[Ge]===Kr,_n=i=>!!i&&typeof i=="object"&&i[Ge]===Tt,le=i=>!!i&&typeof i=="object"&&i[Ge]===au,ne=i=>!!i&&typeof i=="object"&&i[Ge]===ut,vn=i=>!!i&&typeof i=="object"&&i[Ge]===wn;function ue(i){if(i&&typeof i=="object")switch(i[Ge]){case Tt:case wn:return!0}return!1}function he(i){if(i&&typeof i=="object")switch(i[Ge]){case _o:case Tt:case ut:case wn:return!0}return!1}const ty=i=>(ne(i)||ue(i))&&!!i.anchor,Fe=Symbol("break visit"),lu=Symbol("skip children"),ct=Symbol("remove node");function Et(i,e){const t=cu(e);Yt(i)?on(null,i.contents,t,Object.freeze([i]))===ct&&(i.contents=null):on(null,i,t,Object.freeze([]))}Et.BREAK=Fe;Et.SKIP=lu;Et.REMOVE=ct;function on(i,e,t,n){const s=uu(i,e,t,n);if(he(s)||le(s))return hu(i,n,s),on(i,s,t,n);if(typeof s!="symbol"){if(ue(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const o=on(r,e.items[r],t,n);if(typeof o=="number")r=o-1;else{if(o===Fe)return Fe;o===ct&&(e.items.splice(r,1),r-=1)}}}else if(le(e)){n=Object.freeze(n.concat(e));const r=on("key",e.key,t,n);if(r===Fe)return Fe;r===ct&&(e.key=null);const o=on("value",e.value,t,n);if(o===Fe)return Fe;o===ct&&(e.value=null)}}return s}async function Es(i,e){const t=cu(e);Yt(i)?await an(null,i.contents,t,Object.freeze([i]))===ct&&(i.contents=null):await an(null,i,t,Object.freeze([]))}Es.BREAK=Fe;Es.SKIP=lu;Es.REMOVE=ct;async function an(i,e,t,n){const s=await uu(i,e,t,n);if(he(s)||le(s))return hu(i,n,s),an(i,s,t,n);if(typeof s!="symbol"){if(ue(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const o=await an(r,e.items[r],t,n);if(typeof o=="number")r=o-1;else{if(o===Fe)return Fe;o===ct&&(e.items.splice(r,1),r-=1)}}}else if(le(e)){n=Object.freeze(n.concat(e));const r=await an("key",e.key,t,n);if(r===Fe)return Fe;r===ct&&(e.key=null);const o=await an("value",e.value,t,n);if(o===Fe)return Fe;o===ct&&(e.value=null)}}return s}function cu(i){return typeof i=="object"&&(i.Collection||i.Node||i.Value)?Object.assign({Alias:i.Node,Map:i.Node,Scalar:i.Node,Seq:i.Node},i.Value&&{Map:i.Value,Scalar:i.Value,Seq:i.Value},i.Collection&&{Map:i.Collection,Seq:i.Collection},i):i}function uu(i,e,t,n){var s,r,o,a,l;if(typeof t=="function")return t(i,e,n);if(_n(e))return(s=t.Map)==null?void 0:s.call(t,i,e,n);if(vn(e))return(r=t.Seq)==null?void 0:r.call(t,i,e,n);if(le(e))return(o=t.Pair)==null?void 0:o.call(t,i,e,n);if(ne(e))return(a=t.Scalar)==null?void 0:a.call(t,i,e,n);if(qt(e))return(l=t.Alias)==null?void 0:l.call(t,i,e,n)}function hu(i,e,t){const n=e[e.length-1];if(ue(n))n.items[i]=t;else if(le(n))i==="key"?n.key=t:n.value=t;else if(Yt(n))n.contents=t;else{const s=qt(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const ny={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},iy=i=>i.replace(/[!,[\]{}]/g,e=>ny[e]);class Oe{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Oe.defaultYaml,e),this.tags=Object.assign({},Oe.defaultTags,t)}clone(){const e=new Oe(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Oe(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Oe.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Oe.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Oe.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Oe.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[r,o]=n;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[r]=n;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,o),!1}}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}const[,n,s]=e.match(/^(.*!)([^!]*)$/s);s||t(`The ${e} tag has no suffix`);const r=this.tags[n];if(r)try{return r+decodeURIComponent(s)}catch(o){return t(String(o)),null}return n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+iy(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&he(e.contents)){const r={};Et(e.contents,(o,a)=>{he(a)&&a.tag&&(r[a.tag]=!0)}),s=Object.keys(r)}else s=[];for(const[r,o]of n)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||s.some(a=>a.startsWith(o)))&&t.push(`%TAG ${r} ${o}`);return t.join(`
`)}}Oe.defaultYaml={explicit:!1,version:"1.2"};Oe.defaultTags={"!!":"tag:yaml.org,2002:"};function fu(i){if(/[\x00-\x19\s,[\]{}]/.test(i)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(i)}`;throw new Error(t)}return!0}function du(i){const e=new Set;return Et(i,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function pu(i,e){for(let t=1;;++t){const n=`${i}${t}`;if(!e.has(n))return n}}function sy(i,e){const t=[],n=new Map;let s=null;return{onAnchor:r=>{t.push(r),s||(s=du(i));const o=pu(e,s);return s.add(o),o},setAnchors:()=>{for(const r of t){const o=n.get(r);if(typeof o=="object"&&o.anchor&&(ne(o.node)||ue(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:n}}function ln(i,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let s=0,r=n.length;s<r;++s){const o=n[s],a=ln(i,n,String(s),o);a===void 0?delete n[s]:a!==o&&(n[s]=a)}else if(n instanceof Map)for(const s of Array.from(n.keys())){const r=n.get(s),o=ln(i,n,s,r);o===void 0?n.delete(s):o!==r&&n.set(s,o)}else if(n instanceof Set)for(const s of Array.from(n)){const r=ln(i,n,s,s);r===void 0?n.delete(s):r!==s&&(n.delete(s),n.add(r))}else for(const[s,r]of Object.entries(n)){const o=ln(i,n,s,r);o===void 0?delete n[s]:o!==r&&(n[s]=o)}return i.call(e,t,n)}function Ve(i,e,t){if(Array.isArray(i))return i.map((n,s)=>Ve(n,String(s),t));if(i&&typeof i.toJSON=="function"){if(!t||!ty(i))return i.toJSON(e,t);const n={aliasCount:0,count:1,res:void 0};t.anchors.set(i,n),t.onCreate=r=>{n.res=r,delete t.onCreate};const s=i.toJSON(e,t);return t.onCreate&&t.onCreate(s),s}return typeof i=="bigint"&&!(t!=null&&t.keep)?Number(i):i}class vo{constructor(e){Object.defineProperty(this,Ge,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:s,reviver:r}={}){if(!Yt(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=Ve(this,"",o);if(typeof s=="function")for(const{count:l,res:c}of o.anchors.values())s(c,l);return typeof r=="function"?ln(r,{"":a},"",a):a}}class As extends vo{constructor(e){super(_o),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Et(e,{Node:(n,s)=>{if(s===this)return Et.BREAK;s.anchor===this.source&&(t=s)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:r}=t,o=this.resolve(s);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=n.get(o);if(a||(Ve(o,null,t),a=n.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Zi(s,o,n)),a.count*a.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,n){const s=`*${this.source}`;if(e){if(fu(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${s} `}return s}}function Zi(i,e,t){if(qt(e)){const n=e.resolve(i),s=t&&n&&t.get(n);return s?s.count*s.aliasCount:0}else if(ue(e)){let n=0;for(const s of e.items){const r=Zi(i,s,t);r>n&&(n=r)}return n}else if(le(e)){const n=Zi(i,e.key,t),s=Zi(i,e.value,t);return Math.max(n,s)}return 1}const gu=i=>!i||typeof i!="function"&&typeof i!="object";class W extends vo{constructor(e){super(ut),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:Ve(this.value,e,t)}toString(){return String(this.value)}}W.BLOCK_FOLDED="BLOCK_FOLDED";W.BLOCK_LITERAL="BLOCK_LITERAL";W.PLAIN="PLAIN";W.QUOTE_DOUBLE="QUOTE_DOUBLE";W.QUOTE_SINGLE="QUOTE_SINGLE";const ry="tag:yaml.org,2002:";function oy(i,e,t){if(e){const n=t.filter(r=>r.tag===e),s=n.find(r=>!r.format)??n[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return t.find(n=>{var s;return((s=n.identify)==null?void 0:s.call(n,i))&&!n.format})}function ui(i,e,t){var h,f,d;if(Yt(i)&&(i=i.contents),he(i))return i;if(le(i)){const _=(f=(h=t.schema[Tt]).createNode)==null?void 0:f.call(h,t.schema,null,t);return _.items.push(i),_}(i instanceof String||i instanceof Number||i instanceof Boolean||typeof BigInt<"u"&&i instanceof BigInt)&&(i=i.valueOf());const{aliasDuplicateObjects:n,onAnchor:s,onTagObj:r,schema:o,sourceObjects:a}=t;let l;if(n&&i&&typeof i=="object"){if(l=a.get(i),l)return l.anchor||(l.anchor=s(i)),new As(l.anchor);l={anchor:null,node:null},a.set(i,l)}e!=null&&e.startsWith("!!")&&(e=ry+e.slice(2));let c=oy(i,e,o.tags);if(!c){if(i&&typeof i.toJSON=="function"&&(i=i.toJSON()),!i||typeof i!="object"){const _=new W(i);return l&&(l.node=_),_}c=i instanceof Map?o[Tt]:Symbol.iterator in Object(i)?o[wn]:o[Tt]}r&&(r(c),delete t.onTagObj);const u=c!=null&&c.createNode?c.createNode(t.schema,i,t):typeof((d=c==null?void 0:c.nodeClass)==null?void 0:d.from)=="function"?c.nodeClass.from(t.schema,i,t):new W(i);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function gs(i,e,t){let n=t;for(let s=e.length-1;s>=0;--s){const r=e[s];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=n,n=o}else n=new Map([[r,n]])}return ui(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:i,sourceObjects:new Map})}const qn=i=>i==null||typeof i=="object"&&!!i[Symbol.iterator]().next().done;class mu extends vo{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>he(n)||le(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(qn(e))this.add(t);else{const[n,...s]=e,r=this.get(n,!0);if(ue(r))r.addIn(s,t);else if(r===void 0&&this.schema)this.set(n,gs(this.schema,s,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}deleteIn(e){const[t,...n]=e;if(n.length===0)return this.delete(t);const s=this.get(t,!0);if(ue(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,r=this.get(n,!0);return s.length===0?!t&&ne(r)?r.value:r:ue(r)?r.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!le(t))return!1;const n=t.value;return n==null||e&&ne(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(n.length===0)return this.has(t);const s=this.get(t,!0);return ue(s)?s.hasIn(n):!1}setIn(e,t){const[n,...s]=e;if(s.length===0)this.set(n,t);else{const r=this.get(n,!0);if(ue(r))r.setIn(s,t);else if(r===void 0&&this.schema)this.set(n,gs(this.schema,s,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}}const ay=i=>i.replace(/^(?!$)(?: $)?/gm,"#");function bt(i,e){return/^\n+$/.test(i)?i.substring(1):e?i.replace(/^(?! *$)/gm,e):i}const Rt=(i,e,t)=>i.endsWith(`
`)?bt(t,e):t.includes(`
`)?`
`+bt(t,e):(i.endsWith(" ")?"":" ")+t,yu="flow",Wr="block",es="quoted";function Is(i,e,t="flow",{indentAtStart:n,lineWidth:s=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return i;s<r&&(r=0);const l=Math.max(1+r,1+s-e.length);if(i.length<=l)return i;const c=[],u={};let h=s-e.length;typeof n=="number"&&(n>s-Math.max(2,r)?c.push(0):h=s-n);let f,d,_=!1,y=-1,w=-1,p=-1;t===Wr&&(y=Kl(i,y,e.length),y!==-1&&(h=y+l));for(let x;x=i[y+=1];){if(t===es&&x==="\\"){switch(w=y,i[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}p=y}if(x===`
`)t===Wr&&(y=Kl(i,y,e.length)),h=y+e.length+l,f=void 0;else{if(x===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){const g=i[y+1];g&&g!==" "&&g!==`
`&&g!=="	"&&(f=y)}if(y>=h)if(f)c.push(f),h=f+l,f=void 0;else if(t===es){for(;d===" "||d==="	";)d=x,x=i[y+=1],_=!0;const g=y>p+1?y-2:w-1;if(u[g])return i;c.push(g),u[g]=!0,h=g+l,f=void 0}else _=!0}d=x}if(_&&a&&a(),c.length===0)return i;o&&o();let T=i.slice(0,c[0]);for(let x=0;x<c.length;++x){const g=c[x],S=c[x+1]||i.length;g===0?T=`
${e}${i.slice(0,S)}`:(t===es&&u[g]&&(T+=`${i[g]}\\`),T+=`
${e}${i.slice(g+1,S)}`)}return T}function Kl(i,e,t){let n=e,s=e+1,r=i[s];for(;r===" "||r==="	";)if(e<s+t)r=i[++e];else{do r=i[++e];while(r&&r!==`
`);n=e,s=e+1,r=i[s]}return n}const Cs=(i,e)=>({indentAtStart:e?i.indent.length:i.indentAtStart,lineWidth:i.options.lineWidth,minContentWidth:i.options.minContentWidth}),Os=i=>/^(%|---|\.\.\.)/m.test(i);function ly(i,e,t){if(!e||e<0)return!1;const n=e-t,s=i.length;if(s<=n)return!1;for(let r=0,o=0;r<s;++r)if(i[r]===`
`){if(r-o>n)return!0;if(o=r+1,s-o<=n)return!1}return!0}function ii(i,e){const t=JSON.stringify(i);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:n}=e,s=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Os(i)?"  ":"");let o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);const u=t.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||t[l+2]==='"'||t.length<s)l+=1;else{for(o+=t.slice(a,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
`,l+=2;o+=r,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,n?o:Is(o,r,es,Cs(e,!1))}function Vr(i,e){if(e.options.singleQuote===!1||e.implicitKey&&i.includes(`
`)||/[ \t]\n|\n[ \t]/.test(i))return ii(i,e);const t=e.indent||(Os(i)?"  ":""),n="'"+i.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Is(n,t,yu,Cs(e,!1))}function cn(i,e){const{singleQuote:t}=e.options;let n;if(t===!1)n=ii;else{const s=i.includes('"'),r=i.includes("'");s&&!r?n=Vr:r&&!s?n=ii:n=t?Vr:ii}return n(i,e)}let qr;try{qr=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{qr=/\n+(?!\n|$)/g}function ts({comment:i,type:e,value:t},n,s,r){const{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return cn(t,n);const c=n.indent||(n.forceBlockIndent||Os(t)?"  ":""),u=o==="literal"?!0:o==="folded"||e===W.BLOCK_FOLDED?!1:e===W.BLOCK_LITERAL?!0:!ly(t,l,c.length);if(!t)return u?`|
`:`>
`;let h,f;for(f=t.length;f>0;--f){const S=t[f-1];if(S!==`
`&&S!=="	"&&S!==" ")break}let d=t.substring(f);const _=d.indexOf(`
`);_===-1?h="-":t===d||_!==d.length-1?(h="+",r&&r()):h="",d&&(t=t.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(qr,`$&${c}`));let y=!1,w,p=-1;for(w=0;w<t.length;++w){const S=t[w];if(S===" ")y=!0;else if(S===`
`)p=w;else break}let T=t.substring(0,p<w?p+1:w);T&&(t=t.substring(T.length),T=T.replace(/\n+/g,`$&${c}`));let g=(y?c?"2":"1":"")+h;if(i&&(g+=" "+a(i.replace(/ ?[\r\n]+/g," ")),s&&s()),!u){const S=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let D=!1;const L=Cs(n,!0);o!=="folded"&&e!==W.BLOCK_FOLDED&&(L.onOverflow=()=>{D=!0});const O=Is(`${T}${S}${d}`,c,Wr,L);if(!D)return`>${g}
${c}${O}`}return t=t.replace(/\n+/g,`$&${c}`),`|${g}
${c}${T}${t}${d}`}function cy(i,e,t,n){const{type:s,value:r}=i,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&r.includes(`
`)||u&&/[[\]{},]/.test(r))return cn(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||u||!r.includes(`
`)?cn(r,e):ts(i,e,t,n);if(!a&&!u&&s!==W.PLAIN&&r.includes(`
`))return ts(i,e,t,n);if(Os(r)){if(l==="")return e.forceBlockIndent=!0,ts(i,e,t,n);if(a&&l===c)return cn(r,e)}const h=r.replace(/\n+/g,`$&
${l}`);if(o){const f=y=>{var w;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((w=y.test)==null?void 0:w.test(h))},{compat:d,tags:_}=e.doc.schema;if(_.some(f)||d!=null&&d.some(f))return cn(r,e)}return a?h:Is(h,l,yu,Cs(e,!1))}function mi(i,e,t,n){const{implicitKey:s,inFlow:r}=e,o=typeof i.value=="string"?i:Object.assign({},i,{value:String(i.value)});let{type:a}=i;a!==W.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=W.QUOTE_DOUBLE);const l=u=>{switch(u){case W.BLOCK_FOLDED:case W.BLOCK_LITERAL:return s||r?cn(o.value,e):ts(o,e,t,n);case W.QUOTE_DOUBLE:return ii(o.value,e);case W.QUOTE_SINGLE:return Vr(o.value,e);case W.PLAIN:return cy(o,e,t,n);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:h}=e.options,f=s&&u||h;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function bu(i,e){const t=Object.assign({blockQuote:!0,commentString:ay,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},i.schema.toStringOptions,e);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:i,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function uy(i,e){var s;if(e.tag){const r=i.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let t,n;if(ne(e)){n=e.value;let r=i.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,n)});if(r.length>1){const o=r.filter(a=>a.test);o.length>0&&(r=o)}t=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else n=e,t=i.find(r=>r.nodeClass&&n instanceof r.nodeClass);if(!t){const r=((s=n==null?void 0:n.constructor)==null?void 0:s.name)??typeof n;throw new Error(`Tag not resolved for ${r} value`)}return t}function hy(i,e,{anchors:t,doc:n}){if(!n.directives)return"";const s=[],r=(ne(i)||ue(i))&&i.anchor;r&&fu(r)&&(t.add(r),s.push(`&${r}`));const o=i.tag?i.tag:e.default?null:e.tag;return o&&s.push(n.directives.tagString(o)),s.join(" ")}function yn(i,e,t,n){var l;if(le(i))return i.toString(e,t,n);if(qt(i)){if(e.doc.directives)return i.toString(e);if((l=e.resolvedAliases)!=null&&l.has(i))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(i):e.resolvedAliases=new Set([i]),i=i.resolve(e.doc)}let s;const r=he(i)?i:e.doc.createNode(i,{onTagObj:c=>s=c});s||(s=uy(e.doc.schema.tags,r));const o=hy(r,s,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(r,e,t,n):ne(r)?mi(r,e,t,n):r.toString(e,t,n);return o?ne(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function fy({key:i,value:e},t,n,s){const{allNullValues:r,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:h}}=t;let f=he(i)&&i.comment||null;if(h){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(ue(i)||!he(i)&&typeof i=="object"){const L="With simple keys, collection cannot be used as a key value";throw new Error(L)}}let d=!h&&(!i||f&&e==null&&!t.inFlow||ue(i)||(ne(i)?i.type===W.BLOCK_FOLDED||i.type===W.BLOCK_LITERAL:typeof i=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!d&&(h||!r),indent:a+l});let _=!1,y=!1,w=yn(i,t,()=>_=!0,()=>y=!0);if(!d&&!t.inFlow&&w.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(t.inFlow){if(r||e==null)return _&&n&&n(),w===""?"?":d?`? ${w}`:w}else if(r&&!h||e==null&&d)return w=`? ${w}`,f&&!_?w+=Rt(w,t.indent,c(f)):y&&s&&s(),w;_&&(f=null),d?(f&&(w+=Rt(w,t.indent,c(f))),w=`? ${w}
${a}:`):(w=`${w}:`,f&&(w+=Rt(w,t.indent,c(f))));let p,T,x;he(e)?(p=!!e.spaceBefore,T=e.commentBefore,x=e.comment):(p=!1,T=null,x=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!d&&!f&&ne(e)&&(t.indentAtStart=w.length+1),y=!1,!u&&l.length>=2&&!t.inFlow&&!d&&vn(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let g=!1;const S=yn(e,t,()=>g=!0,()=>y=!0);let D=" ";if(f||p||T){if(D=p?`
`:"",T){const L=c(T);D+=`
${bt(L,t.indent)}`}S===""&&!t.inFlow?D===`
`&&(D=`

`):D+=`
${t.indent}`}else if(!d&&ue(e)){const L=S[0],O=S.indexOf(`
`),k=O!==-1,$=t.inFlow??e.flow??e.items.length===0;if(k||!$){let j=!1;if(k&&(L==="&"||L==="!")){let b=S.indexOf(" ");L==="&"&&b!==-1&&b<O&&S[b+1]==="!"&&(b=S.indexOf(" ",b+1)),(b===-1||O<b)&&(j=!0)}j||(D=`
${t.indent}`)}}else(S===""||S[0]===`
`)&&(D="");return w+=D+S,t.inFlow?g&&n&&n():x&&!g?w+=Rt(w,t.indent,c(x)):y&&s&&s(),w}function xu(i,e){(i==="debug"||i==="warn")&&console.warn(e)}const Hi="<<",xt={identify:i=>i===Hi||typeof i=="symbol"&&i.description===Hi,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new W(Symbol(Hi)),{addToJSMap:wu}),stringify:()=>Hi},dy=(i,e)=>(xt.identify(e)||ne(e)&&(!e.type||e.type===W.PLAIN)&&xt.identify(e.value))&&(i==null?void 0:i.doc.schema.tags.some(t=>t.tag===xt.tag&&t.default));function wu(i,e,t){if(t=i&&qt(t)?t.resolve(i.doc):t,vn(t))for(const n of t.items)br(i,e,n);else if(Array.isArray(t))for(const n of t)br(i,e,n);else br(i,e,t)}function br(i,e,t){const n=i&&qt(t)?t.resolve(i.doc):t;if(!_n(n))throw new Error("Merge sources must be maps or map aliases");const s=n.toJSON(null,i,Map);for(const[r,o]of s)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function _u(i,e,{key:t,value:n}){if(he(t)&&t.addToJSMap)t.addToJSMap(i,e,n);else if(dy(i,t))wu(i,e,n);else{const s=Ve(t,"",i);if(e instanceof Map)e.set(s,Ve(n,s,i));else if(e instanceof Set)e.add(s);else{const r=py(t,s,i),o=Ve(n,r,i);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}function py(i,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(he(i)&&(t!=null&&t.doc)){const n=bu(t.doc,{});n.anchors=new Set;for(const r of t.anchors.keys())n.anchors.add(r.anchor);n.inFlow=!0,n.inStringifyKey=!0;const s=i.toString(n);if(!t.mapKeyWarned){let r=JSON.stringify(s);r.length>40&&(r=r.substring(0,36)+'..."'),xu(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return s}return JSON.stringify(e)}function ko(i,e,t){const n=ui(i,void 0,t),s=ui(e,void 0,t);return new Se(n,s)}class Se{constructor(e,t=null){Object.defineProperty(this,Ge,{value:au}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return he(t)&&(t=t.clone(e)),he(n)&&(n=n.clone(e)),new Se(t,n)}toJSON(e,t){const n=t!=null&&t.mapAsMap?new Map:{};return _u(t,n,this)}toString(e,t,n){return e!=null&&e.doc?fy(this,e,t,n):JSON.stringify(this)}}function vu(i,e,t){return(e.inFlow??i.flow?my:gy)(i,e,t)}function gy({comment:i,items:e},t,{blockItemPrefix:n,flowChars:s,itemIndent:r,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=t,u=Object.assign({},t,{indent:r,type:null});let h=!1;const f=[];for(let _=0;_<e.length;++_){const y=e[_];let w=null;if(he(y))!h&&y.spaceBefore&&f.push(""),ms(t,f,y.commentBefore,h),y.comment&&(w=y.comment);else if(le(y)){const T=he(y.key)?y.key:null;T&&(!h&&T.spaceBefore&&f.push(""),ms(t,f,T.commentBefore,h))}h=!1;let p=yn(y,u,()=>w=null,()=>h=!0);w&&(p+=Rt(p,r,c(w))),h&&w&&(h=!1),f.push(n+p)}let d;if(f.length===0)d=s.start+s.end;else{d=f[0];for(let _=1;_<f.length;++_){const y=f[_];d+=y?`
${l}${y}`:`
`}}return i?(d+=`
`+bt(c(i),l),a&&a()):h&&o&&o(),d}function my({items:i},e,{flowChars:t,itemIndent:n}){const{indent:s,indentStep:r,flowCollectionPadding:o,options:{commentString:a}}=e;n+=r;const l=Object.assign({},e,{indent:n,inFlow:!0,type:null});let c=!1,u=0;const h=[];for(let _=0;_<i.length;++_){const y=i[_];let w=null;if(he(y))y.spaceBefore&&h.push(""),ms(e,h,y.commentBefore,!1),y.comment&&(w=y.comment);else if(le(y)){const T=he(y.key)?y.key:null;T&&(T.spaceBefore&&h.push(""),ms(e,h,T.commentBefore,!1),T.comment&&(c=!0));const x=he(y.value)?y.value:null;x?(x.comment&&(w=x.comment),x.commentBefore&&(c=!0)):y.value==null&&(T!=null&&T.comment)&&(w=T.comment)}w&&(c=!0);let p=yn(y,l,()=>w=null);_<i.length-1&&(p+=","),w&&(p+=Rt(p,n,a(w))),!c&&(h.length>u||p.includes(`
`))&&(c=!0),h.push(p),u=h.length}const{start:f,end:d}=t;if(h.length===0)return f+d;if(!c){const _=h.reduce((y,w)=>y+w.length+2,2);c=e.options.lineWidth>0&&_>e.options.lineWidth}if(c){let _=f;for(const y of h)_+=y?`
${r}${s}${y}`:`
`;return`${_}
${s}${d}`}else return`${f}${o}${h.join(" ")}${o}${d}`}function ms({indent:i,options:{commentString:e}},t,n,s){if(n&&s&&(n=n.replace(/^\n+/,"")),n){const r=bt(e(n),i);t.push(r.trimStart())}}function Bt(i,e){const t=ne(e)?e.value:e;for(const n of i)if(le(n)&&(n.key===e||n.key===t||ne(n.key)&&n.key.value===t))return n}class $e extends mu{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Tt,e),this.items=[]}static from(e,t,n){const{keepUndefined:s,replacer:r}=n,o=new this(e),a=(l,c)=>{if(typeof r=="function")c=r.call(t,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||s)&&o.items.push(ko(l,c,n))};if(t instanceof Map)for(const[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){var o;let n;le(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new Se(e,e==null?void 0:e.value):n=new Se(e.key,e.value);const s=Bt(this.items,n.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);ne(s.value)&&gu(n.value)?s.value.value=n.value:s.value=n.value}else if(r){const a=this.items.findIndex(l=>r(n,l)<0);a===-1?this.items.push(n):this.items.splice(a,0,n)}else this.items.push(n)}delete(e){const t=Bt(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const n=Bt(this.items,e),s=n==null?void 0:n.value;return(!t&&ne(s)?s.value:s)??void 0}has(e){return!!Bt(this.items,e)}set(e,t){this.add(new Se(e,t),!0)}toJSON(e,t,n){const s=n?new n:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(s);for(const r of this.items)_u(t,s,r);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const s of this.items)if(!le(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),vu(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const kn={collection:"map",default:!0,nodeClass:$e,tag:"tag:yaml.org,2002:map",resolve(i,e){return _n(i)||e("Expected a mapping for this tag"),i},createNode:(i,e,t)=>$e.from(i,e,t)};class At extends mu{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(wn,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Ki(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const n=Ki(e);if(typeof n!="number")return;const s=this.items[n];return!t&&ne(s)?s.value:s}has(e){const t=Ki(e);return typeof t=="number"&&t<this.items.length}set(e,t){const n=Ki(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];ne(s)&&gu(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t!=null&&t.onCreate&&t.onCreate(n);let s=0;for(const r of this.items)n.push(Ve(r,String(s++),t));return n}toString(e,t,n){return e?vu(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:s}=n,r=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof s=="function"){const l=t instanceof Set?a:String(o++);a=s.call(t,l,a)}r.items.push(ui(a,void 0,n))}}return r}}function Ki(i){let e=ne(i)?i.value:i;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Tn={collection:"seq",default:!0,nodeClass:At,tag:"tag:yaml.org,2002:seq",resolve(i,e){return vn(i)||e("Expected a sequence for this tag"),i},createNode:(i,e,t)=>At.from(i,e,t)},Ns={identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify(i,e,t,n){return e=Object.assign({actualString:!0},e),mi(i,e,t,n)}},Ds={identify:i=>i==null,createNode:()=>new W(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new W(null),stringify:({source:i},e)=>typeof i=="string"&&Ds.test.test(i)?i:e.options.nullStr},To={identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:i=>new W(i[0]==="t"||i[0]==="T"),stringify({source:i,value:e},t){if(i&&To.test.test(i)){const n=i[0]==="t"||i[0]==="T";if(e===n)return i}return e?t.options.trueStr:t.options.falseStr}};function et({format:i,minFractionDigits:e,tag:t,value:n}){if(typeof n=="bigint")return String(n);const s=typeof n=="number"?n:Number(n);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let r=JSON.stringify(n);if(!i&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}const ku={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:et},Tu={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i),stringify(i){const e=Number(i.value);return isFinite(e)?e.toExponential():et(i)}},Su={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(i){const e=new W(parseFloat(i)),t=i.indexOf(".");return t!==-1&&i[i.length-1]==="0"&&(e.minFractionDigits=i.length-t-1),e},stringify:et},Ls=i=>typeof i=="bigint"||Number.isInteger(i),So=(i,e,t,{intAsBigInt:n})=>n?BigInt(i):parseInt(i.substring(e),t);function Eu(i,e,t){const{value:n}=i;return Ls(n)&&n>=0?t+n.toString(e):et(i)}const Au={identify:i=>Ls(i)&&i>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(i,e,t)=>So(i,2,8,t),stringify:i=>Eu(i,8,"0o")},Iu={identify:Ls,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(i,e,t)=>So(i,0,10,t),stringify:et},Cu={identify:i=>Ls(i)&&i>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(i,e,t)=>So(i,2,16,t),stringify:i=>Eu(i,16,"0x")},yy=[kn,Tn,Ns,Ds,To,Au,Iu,Cu,ku,Tu,Su];function Wl(i){return typeof i=="bigint"||Number.isInteger(i)}const Wi=({value:i})=>JSON.stringify(i),by=[{identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify:Wi},{identify:i=>i==null,createNode:()=>new W(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Wi},{identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:i=>i==="true",stringify:Wi},{identify:Wl,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(i,e,{intAsBigInt:t})=>t?BigInt(i):parseInt(i,10),stringify:({value:i})=>Wl(i)?i.toString():JSON.stringify(i)},{identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:i=>parseFloat(i),stringify:Wi}],xy={default:!0,tag:"",test:/^/,resolve(i,e){return e(`Unresolved plain scalar ${JSON.stringify(i)}`),i}},wy=[kn,Tn].concat(by,xy),Eo={identify:i=>i instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(i,e){if(typeof atob=="function"){const t=atob(i.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let s=0;s<t.length;++s)n[s]=t.charCodeAt(s);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),i},stringify({comment:i,type:e,value:t},n,s,r){const o=t;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=W.BLOCK_LITERAL),e!==W.QUOTE_DOUBLE){const l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let h=0,f=0;h<c;++h,f+=l)u[h]=a.substr(f,l);a=u.join(e===W.BLOCK_LITERAL?`
`:" ")}return mi({comment:i,type:e,value:a},n,s,r)}};function Ou(i,e){if(vn(i))for(let t=0;t<i.items.length;++t){let n=i.items[t];if(!le(n)){if(_n(n)){n.items.length>1&&e("Each pair must have its own sequence indicator");const s=n.items[0]||new Se(new W(null));if(n.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${n.commentBefore}
${s.key.commentBefore}`:n.commentBefore),n.comment){const r=s.value??s.key;r.comment=r.comment?`${n.comment}
${r.comment}`:n.comment}n=s}i.items[t]=le(n)?n:new Se(n)}}else e("Expected a sequence for this tag");return i}function Nu(i,e,t){const{replacer:n}=t,s=new At(i);s.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof n=="function"&&(o=n.call(e,String(r++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;s.items.push(ko(a,l,t))}return s}const Ao={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ou,createNode:Nu};class fn extends At{constructor(){super(),this.add=$e.prototype.add.bind(this),this.delete=$e.prototype.delete.bind(this),this.get=$e.prototype.get.bind(this),this.has=$e.prototype.has.bind(this),this.set=$e.prototype.set.bind(this),this.tag=fn.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t!=null&&t.onCreate&&t.onCreate(n);for(const s of this.items){let r,o;if(le(s)?(r=Ve(s.key,"",t),o=Ve(s.value,r,t)):r=Ve(s,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,o)}return n}static from(e,t,n){const s=Nu(e,t,n),r=new this;return r.items=s.items,r}}fn.tag="tag:yaml.org,2002:omap";const Io={collection:"seq",identify:i=>i instanceof Map,nodeClass:fn,default:!1,tag:"tag:yaml.org,2002:omap",resolve(i,e){const t=Ou(i,e),n=[];for(const{key:s}of t.items)ne(s)&&(n.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):n.push(s.value));return Object.assign(new fn,t)},createNode:(i,e,t)=>fn.from(i,e,t)};function Du({value:i,source:e},t){return e&&(i?Lu:Mu).test.test(e)?e:i?t.options.trueStr:t.options.falseStr}const Lu={identify:i=>i===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new W(!0),stringify:Du},Mu={identify:i=>i===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new W(!1),stringify:Du},_y={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:et},vy={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i.replace(/_/g,"")),stringify(i){const e=Number(i.value);return isFinite(e)?e.toExponential():et(i)}},ky={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(i){const e=new W(parseFloat(i.replace(/_/g,""))),t=i.indexOf(".");if(t!==-1){const n=i.substring(t+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:et},yi=i=>typeof i=="bigint"||Number.isInteger(i);function Ms(i,e,t,{intAsBigInt:n}){const s=i[0];if((s==="-"||s==="+")&&(e+=1),i=i.substring(e).replace(/_/g,""),n){switch(t){case 2:i=`0b${i}`;break;case 8:i=`0o${i}`;break;case 16:i=`0x${i}`;break}const o=BigInt(i);return s==="-"?BigInt(-1)*o:o}const r=parseInt(i,t);return s==="-"?-1*r:r}function Co(i,e,t){const{value:n}=i;if(yi(n)){const s=n.toString(e);return n<0?"-"+t+s.substr(1):t+s}return et(i)}const Ty={identify:yi,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(i,e,t)=>Ms(i,2,2,t),stringify:i=>Co(i,2,"0b")},Sy={identify:yi,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(i,e,t)=>Ms(i,1,8,t),stringify:i=>Co(i,8,"0")},Ey={identify:yi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(i,e,t)=>Ms(i,0,10,t),stringify:et},Ay={identify:yi,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(i,e,t)=>Ms(i,2,16,t),stringify:i=>Co(i,16,"0x")};class dn extends $e{constructor(e){super(e),this.tag=dn.tag}add(e){let t;le(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Se(e.key,null):t=new Se(e,null),Bt(this.items,t.key)||this.items.push(t)}get(e,t){const n=Bt(this.items,e);return!t&&le(n)?ne(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=Bt(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Se(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:s}=n,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof s=="function"&&(o=s.call(t,o,o)),r.items.push(ko(o,null,n));return r}}dn.tag="tag:yaml.org,2002:set";const Oo={collection:"map",identify:i=>i instanceof Set,nodeClass:dn,default:!1,tag:"tag:yaml.org,2002:set",createNode:(i,e,t)=>dn.from(i,e,t),resolve(i,e){if(_n(i)){if(i.hasAllNullValues(!0))return Object.assign(new dn,i);e("Set items must all have null values")}else e("Expected a mapping for this tag");return i}};function No(i,e){const t=i[0],n=t==="-"||t==="+"?i.substring(1):i,s=o=>e?BigInt(o):Number(o),r=n.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return t==="-"?s(-1)*r:r}function Pu(i){let{value:e}=i,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return et(i);let n="";e<0&&(n="-",e*=t(-1));const s=t(60),r=[e%s];return e<60?r.unshift(0):(e=(e-r[0])/s,r.unshift(e%s),e>=60&&(e=(e-r[0])/s,r.unshift(e))),n+r.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Fu={identify:i=>typeof i=="bigint"||Number.isInteger(i),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(i,e,{intAsBigInt:t})=>No(i,t),stringify:Pu},Ru={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:i=>No(i,!1),stringify:Pu},Ps={identify:i=>i instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(i){const e=i.match(Ps.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,n,s,r,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(t,n-1,s,r||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let h=No(u,!1);Math.abs(h)<30&&(h*=60),c-=6e4*h}return new Date(c)},stringify:({value:i})=>i.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},Vl=[kn,Tn,Ns,Ds,Lu,Mu,Ty,Sy,Ey,Ay,_y,vy,ky,Eo,xt,Io,Ao,Oo,Fu,Ru,Ps],ql=new Map([["core",yy],["failsafe",[kn,Tn,Ns]],["json",wy],["yaml11",Vl],["yaml-1.1",Vl]]),Yl={binary:Eo,bool:To,float:Su,floatExp:Tu,floatNaN:ku,floatTime:Ru,int:Iu,intHex:Cu,intOct:Au,intTime:Fu,map:kn,merge:xt,null:Ds,omap:Io,pairs:Ao,seq:Tn,set:Oo,timestamp:Ps},Iy={"tag:yaml.org,2002:binary":Eo,"tag:yaml.org,2002:merge":xt,"tag:yaml.org,2002:omap":Io,"tag:yaml.org,2002:pairs":Ao,"tag:yaml.org,2002:set":Oo,"tag:yaml.org,2002:timestamp":Ps};function xr(i,e,t){const n=ql.get(e);if(n&&!i)return t&&!n.includes(xt)?n.concat(xt):n.slice();let s=n;if(!s)if(Array.isArray(i))s=[];else{const r=Array.from(ql.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(i))for(const r of i)s=s.concat(r);else typeof i=="function"&&(s=i(s.slice()));return t&&(s=s.concat(xt)),s.reduce((r,o)=>{const a=typeof o=="string"?Yl[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys(Yl).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return r.includes(a)||r.push(a),r},[])}const Cy=(i,e)=>i.key<e.key?-1:i.key>e.key?1:0;class Fs{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:s,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?xr(e,"compat"):e?xr(null,e):null,this.name=typeof r=="string"&&r||"core",this.knownTags=s?Iy:{},this.tags=xr(t,this.name,n),this.toStringOptions=a??null,Object.defineProperty(this,Tt,{value:kn}),Object.defineProperty(this,ut,{value:Ns}),Object.defineProperty(this,wn,{value:Tn}),this.sortMapEntries=typeof o=="function"?o:o===!0?Cy:null}clone(){const e=Object.create(Fs.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Oy(i,e){var l;const t=[];let n=e.directives===!0;if(e.directives!==!1&&i.directives){const c=i.directives.toString(i);c?(t.push(c),n=!0):i.directives.docStart&&(n=!0)}n&&t.push("---");const s=bu(i,e),{commentString:r}=s.options;if(i.commentBefore){t.length!==1&&t.unshift("");const c=r(i.commentBefore);t.unshift(bt(c,""))}let o=!1,a=null;if(i.contents){if(he(i.contents)){if(i.contents.spaceBefore&&n&&t.push(""),i.contents.commentBefore){const h=r(i.contents.commentBefore);t.push(bt(h,""))}s.forceBlockIndent=!!i.comment,a=i.contents.comment}const c=a?void 0:()=>o=!0;let u=yn(i.contents,s,()=>a=null,c);a&&(u+=Rt(u,"",r(a))),(u[0]==="|"||u[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${u}`:t.push(u)}else t.push(yn(i.contents,s));if((l=i.directives)!=null&&l.docEnd)if(i.comment){const c=r(i.comment);c.includes(`
`)?(t.push("..."),t.push(bt(c,""))):t.push(`... ${c}`)}else t.push("...");else{let c=i.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(bt(r(c),"")))}return t.join(`
`)+`
`}class Sn{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ge,{value:Kr});let s=null;typeof t=="function"||Array.isArray(t)?s=t:n===void 0&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:o}=r;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Oe({version:o}),this.setSchema(o,n),this.contents=e===void 0?null:this.createNode(e,s,n)}clone(){const e=Object.create(Sn.prototype,{[Ge]:{value:Kr}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=he(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){nn(this.contents)&&this.contents.add(e)}addIn(e,t){nn(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=du(this);e.anchor=!t||n.has(t)?pu(t||"a",n):t}return new As(e.anchor)}createNode(e,t,n){let s;if(typeof t=="function")e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const w=T=>typeof T=="number"||T instanceof String||T instanceof Number,p=t.filter(w).map(String);p.length>0&&(t=t.concat(p)),s=t}else n===void 0&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=n??{},{onAnchor:h,setAnchors:f,sourceObjects:d}=sy(this,o||"a"),_={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:h,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:d},y=ui(e,u,_);return a&&ue(y)&&(y.flow=!0),f(),y}createPair(e,t,n={}){const s=this.createNode(e,null,n),r=this.createNode(t,null,n);return new Se(s,r)}delete(e){return nn(this.contents)?this.contents.delete(e):!1}deleteIn(e){return qn(e)?this.contents==null?!1:(this.contents=null,!0):nn(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return ue(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return qn(e)?!t&&ne(this.contents)?this.contents.value:this.contents:ue(this.contents)?this.contents.getIn(e,t):void 0}has(e){return ue(this.contents)?this.contents.has(e):!1}hasIn(e){return qn(e)?this.contents!==void 0:ue(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=gs(this.schema,[e],t):nn(this.contents)&&this.contents.set(e,t)}setIn(e,t){qn(e)?this.contents=t:this.contents==null?this.contents=gs(this.schema,Array.from(e),t):nn(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Oe({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Oe({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new Fs(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=Ve(this.contents,t??"",a);if(typeof r=="function")for(const{count:c,res:u}of a.anchors.values())r(u,c);return typeof o=="function"?ln(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return Oy(this,e)}}function nn(i){if(ue(i))return!0;throw new Error("Expected a YAML collection as document contents")}class Do extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class $t extends Do{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Bu extends Do{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const ys=(i,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));const{line:n,col:s}=t.linePos[0];t.message+=` at line ${n}, column ${s}`;let r=s-1,o=i.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){const a=Math.min(r-39,o.length-79);o="…"+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+"…"),n>1&&/^ *$/.test(o.substring(0,r))){let a=i.substring(e.lineStarts[n-2],e.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`…
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=t.linePos[1];l&&l.line===n&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-r)));const c=" ".repeat(r)+"^".repeat(a);t.message+=`:

${o}
${c}
`}};function bn(i,{flow:e,indicator:t,next:n,offset:s,onError:r,parentIndent:o,startOnNewline:a}){let l=!1,c=a,u=a,h="",f="",d=!1,_=!1,y=null,w=null,p=null,T=null,x=null,g=null,S=null;for(const O of i)switch(_&&(O.type!=="space"&&O.type!=="newline"&&O.type!=="comma"&&r(O.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),_=!1),y&&(c&&O.type!=="comment"&&O.type!=="newline"&&r(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),O.type){case"space":!e&&(t!=="doc-start"||(n==null?void 0:n.type)!=="flow-collection")&&O.source.includes("	")&&(y=O),u=!0;break;case"comment":{u||r(O,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const k=O.source.substring(1)||" ";h?h+=f+k:h=k,f="",c=!1;break}case"newline":c?h?h+=O.source:(!g||t!=="seq-item-ind")&&(l=!0):f+=O.source,c=!0,d=!0,(w||p)&&(T=O),u=!0;break;case"anchor":w&&r(O,"MULTIPLE_ANCHORS","A node can have at most one anchor"),O.source.endsWith(":")&&r(O.offset+O.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=O,S===null&&(S=O.offset),c=!1,u=!1,_=!0;break;case"tag":{p&&r(O,"MULTIPLE_TAGS","A node can have at most one tag"),p=O,S===null&&(S=O.offset),c=!1,u=!1,_=!0;break}case t:(w||p)&&r(O,"BAD_PROP_ORDER",`Anchors and tags must be after the ${O.source} indicator`),g&&r(O,"UNEXPECTED_TOKEN",`Unexpected ${O.source} in ${e??"collection"}`),g=O,c=t==="seq-item-ind"||t==="explicit-key-ind",u=!1;break;case"comma":if(e){x&&r(O,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),x=O,c=!1,u=!1;break}default:r(O,"UNEXPECTED_TOKEN",`Unexpected ${O.type} token`),c=!1,u=!1}const D=i[i.length-1],L=D?D.offset+D.source.length:s;return _&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&r(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(c&&y.indent<=o||(n==null?void 0:n.type)==="block-map"||(n==null?void 0:n.type)==="block-seq")&&r(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:x,found:g,spaceBefore:l,comment:h,hasNewline:d,anchor:w,tag:p,newlineAfterProp:T,end:L,start:S??L}}function hi(i){if(!i)return null;switch(i.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(i.source.includes(`
`))return!0;if(i.end){for(const e of i.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of i.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if(hi(e.key)||hi(e.value))return!0}return!1;default:return!0}}function Yr(i,e,t){if((e==null?void 0:e.type)==="flow-collection"){const n=e.end[0];n.indent===i&&(n.source==="]"||n.source==="}")&&hi(e)&&t(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function $u(i,e,t){const{uniqueKeys:n}=i.options;if(n===!1)return!1;const s=typeof n=="function"?n:(r,o)=>r===o||ne(r)&&ne(o)&&r.value===o.value;return e.some(r=>s(r.key,t))}const Gl="All mapping items must start at the same column";function Ny({composeNode:i,composeEmptyNode:e},t,n,s,r){var u;const o=(r==null?void 0:r.nodeClass)??$e,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,c=null;for(const h of n.items){const{start:f,key:d,sep:_,value:y}=h,w=bn(f,{indicator:"explicit-key-ind",next:d??(_==null?void 0:_[0]),offset:l,onError:s,parentIndent:n.indent,startOnNewline:!0}),p=!w.found;if(p){if(d&&(d.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==n.indent&&s(l,"BAD_INDENT",Gl)),!w.anchor&&!w.tag&&!_){c=w.end,w.comment&&(a.comment?a.comment+=`
`+w.comment:a.comment=w.comment);continue}(w.newlineAfterProp||hi(d))&&s(d??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((u=w.found)==null?void 0:u.indent)!==n.indent&&s(l,"BAD_INDENT",Gl);t.atKey=!0;const T=w.end,x=d?i(t,d,w,s):e(t,T,f,null,w,s);t.schema.compat&&Yr(n.indent,d,s),t.atKey=!1,$u(t,a.items,x)&&s(T,"DUPLICATE_KEY","Map keys must be unique");const g=bn(_??[],{indicator:"map-value-ind",next:y,offset:x.range[2],onError:s,parentIndent:n.indent,startOnNewline:!d||d.type==="block-scalar"});if(l=g.end,g.found){p&&((y==null?void 0:y.type)==="block-map"&&!g.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&w.start<g.found.offset-1024&&s(x.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const S=y?i(t,y,g,s):e(t,l,_,null,g,s);t.schema.compat&&Yr(n.indent,y,s),l=S.range[2];const D=new Se(x,S);t.options.keepSourceTokens&&(D.srcToken=h),a.items.push(D)}else{p&&s(x.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),g.comment&&(x.comment?x.comment+=`
`+g.comment:x.comment=g.comment);const S=new Se(x);t.options.keepSourceTokens&&(S.srcToken=h),a.items.push(S)}}return c&&c<l&&s(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,c??l],a}function Dy({composeNode:i,composeEmptyNode:e},t,n,s,r){const o=(r==null?void 0:r.nodeClass)??At,a=new o(t.schema);t.atRoot&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let l=n.offset,c=null;for(const{start:u,value:h}of n.items){const f=bn(u,{indicator:"seq-item-ind",next:h,offset:l,onError:s,parentIndent:n.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||h)h&&h.type==="block-seq"?s(f.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{c=f.end,f.comment&&(a.comment=f.comment);continue}const d=h?i(t,h,f,s):e(t,f.end,u,null,f,s);t.schema.compat&&Yr(n.indent,h,s),l=d.range[2],a.items.push(d)}return a.range=[n.offset,l,c??l],a}function bi(i,e,t,n){let s="";if(i){let r=!1,o="";for(const a of i){const{source:l,type:c}=a;switch(c){case"space":r=!0;break;case"comment":{t&&!r&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";s?s+=o+u:s=u,o="";break}case"newline":s&&(o+=l),r=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:s,offset:e}}const wr="Block collections are not allowed within flow collections",_r=i=>i&&(i.type==="block-map"||i.type==="block-seq");function Ly({composeNode:i,composeEmptyNode:e},t,n,s,r){const o=n.start.source==="{",a=o?"flow map":"flow sequence",l=(r==null?void 0:r.nodeClass)??(o?$e:At),c=new l(t.schema);c.flow=!0;const u=t.atRoot;u&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let h=n.offset+n.start.source.length;for(let w=0;w<n.items.length;++w){const p=n.items[w],{start:T,key:x,sep:g,value:S}=p,D=bn(T,{flow:a,indicator:"explicit-key-ind",next:x??(g==null?void 0:g[0]),offset:h,onError:s,parentIndent:n.indent,startOnNewline:!1});if(!D.found){if(!D.anchor&&!D.tag&&!g&&!S){w===0&&D.comma?s(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):w<n.items.length-1&&s(D.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),D.comment&&(c.comment?c.comment+=`
`+D.comment:c.comment=D.comment),h=D.end;continue}!o&&t.options.strict&&hi(x)&&s(x,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)D.comma&&s(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(D.comma||s(D.start,"MISSING_CHAR",`Missing , between ${a} items`),D.comment){let L="";e:for(const O of T)switch(O.type){case"comma":case"space":break;case"comment":L=O.source.substring(1);break e;default:break e}if(L){let O=c.items[c.items.length-1];le(O)&&(O=O.value??O.key),O.comment?O.comment+=`
`+L:O.comment=L,D.comment=D.comment.substring(L.length+1)}}if(!o&&!g&&!D.found){const L=S?i(t,S,D,s):e(t,D.end,g,null,D,s);c.items.push(L),h=L.range[2],_r(S)&&s(L.range,"BLOCK_IN_FLOW",wr)}else{t.atKey=!0;const L=D.end,O=x?i(t,x,D,s):e(t,L,T,null,D,s);_r(x)&&s(O.range,"BLOCK_IN_FLOW",wr),t.atKey=!1;const k=bn(g??[],{flow:a,indicator:"map-value-ind",next:S,offset:O.range[2],onError:s,parentIndent:n.indent,startOnNewline:!1});if(k.found){if(!o&&!D.found&&t.options.strict){if(g)for(const b of g){if(b===k.found)break;if(b.type==="newline"){s(b,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}D.start<k.found.offset-1024&&s(k.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else S&&("source"in S&&S.source&&S.source[0]===":"?s(S,"MISSING_CHAR",`Missing space after : in ${a}`):s(k.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const $=S?i(t,S,k,s):k.found?e(t,k.end,g,null,k,s):null;$?_r(S)&&s($.range,"BLOCK_IN_FLOW",wr):k.comment&&(O.comment?O.comment+=`
`+k.comment:O.comment=k.comment);const j=new Se(O,$);if(t.options.keepSourceTokens&&(j.srcToken=p),o){const b=c;$u(t,b.items,O)&&s(L,"DUPLICATE_KEY","Map keys must be unique"),b.items.push(j)}else{const b=new $e(t.schema);b.flow=!0,b.items.push(j);const A=($??O).range;b.range=[O.range[0],A[1],A[2]],c.items.push(b)}h=$?$.range[2]:k.end}}const f=o?"}":"]",[d,..._]=n.end;let y=h;if(d&&d.source===f)y=d.offset+d.source.length;else{const w=a[0].toUpperCase()+a.substring(1),p=u?`${w} must end with a ${f}`:`${w} in block collection must be sufficiently indented and end with a ${f}`;s(h,u?"MISSING_CHAR":"BAD_INDENT",p),d&&d.source.length!==1&&_.unshift(d)}if(_.length>0){const w=bi(_,y,t.options.strict,s);w.comment&&(c.comment?c.comment+=`
`+w.comment:c.comment=w.comment),c.range=[n.offset,y,w.offset]}else c.range=[n.offset,y,y];return c}function vr(i,e,t,n,s,r){const o=t.type==="block-map"?Ny(i,e,t,n,r):t.type==="block-seq"?Dy(i,e,t,n,r):Ly(i,e,t,n,r),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function My(i,e,t,n,s){var f;const r=n.tag,o=r?e.directives.tagName(r.source,d=>s(r,"TAG_RESOLVE_FAILED",d)):null;if(t.type==="block-seq"){const{anchor:d,newlineAfterProp:_}=n,y=d&&r?d.offset>r.offset?d:r:d??r;y&&(!_||_.offset<y.offset)&&s(y,"MISSING_CHAR","Missing newline after block sequence props")}const a=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===$e.tagName&&a==="map"||o===At.tagName&&a==="seq")return vr(i,e,t,s,o);let l=e.schema.tags.find(d=>d.tag===o&&d.collection===a);if(!l){const d=e.schema.knownTags[o];if(d&&d.collection===a)e.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return d!=null&&d.collection?s(r,"BAD_COLLECTION_TYPE",`${d.tag} used for ${a} collection, but expects ${d.collection}`,!0):s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),vr(i,e,t,s,o)}const c=vr(i,e,t,s,o,l),u=((f=l.resolve)==null?void 0:f.call(l,c,d=>s(r,"TAG_RESOLVE_FAILED",d),e.options))??c,h=he(u)?u:new W(u);return h.range=c.range,h.tag=o,l!=null&&l.format&&(h.format=l.format),h}function zu(i,e,t){const n=e.offset,s=Py(e,i.options.strict,t);if(!s)return{value:"",type:null,comment:"",range:[n,n,n]};const r=s.mode===">"?W.BLOCK_FOLDED:W.BLOCK_LITERAL,o=e.source?Fy(e.source):[];let a=o.length;for(let y=o.length-1;y>=0;--y){const w=o[y][1];if(w===""||w==="\r")a=y;else break}if(a===0){const y=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let w=n+s.length;return e.source&&(w+=e.source.length),{value:y,type:r,comment:s.comment,range:[n,w,w]}}let l=e.indent+s.indent,c=e.offset+s.length,u=0;for(let y=0;y<a;++y){const[w,p]=o[y];if(p===""||p==="\r")s.indent===0&&w.length>l&&(l=w.length);else{w.length<l&&t(c+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=w.length),u=y,l===0&&!i.atRoot&&t(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=w.length+p.length+1}for(let y=o.length-1;y>=a;--y)o[y][0].length>l&&(a=y+1);let h="",f="",d=!1;for(let y=0;y<u;++y)h+=o[y][0].slice(l)+`
`;for(let y=u;y<a;++y){let[w,p]=o[y];c+=w.length+p.length+1;const T=p[p.length-1]==="\r";if(T&&(p=p.slice(0,-1)),p&&w.length<l){const g=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;t(c-p.length-(T?2:1),"BAD_INDENT",g),w=""}r===W.BLOCK_LITERAL?(h+=f+w.slice(l)+p,f=`
`):w.length>l||p[0]==="	"?(f===" "?f=`
`:!d&&f===`
`&&(f=`

`),h+=f+w.slice(l)+p,f=`
`,d=!0):p===""?f===`
`?h+=`
`:f=`
`:(h+=f+p,f=" ",d=!1)}switch(s.chomp){case"-":break;case"+":for(let y=a;y<o.length;++y)h+=`
`+o[y][0].slice(l);h[h.length-1]!==`
`&&(h+=`
`);break;default:h+=`
`}const _=n+s.length+e.source.length;return{value:h,type:r,comment:s.comment,range:[n,_,_]}}function Py({offset:i,props:e},t,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],r=s[0];let o=0,a="",l=-1;for(let f=1;f<s.length;++f){const d=s[f];if(!a&&(d==="-"||d==="+"))a=d;else{const _=Number(d);!o&&_?o=_:l===-1&&(l=i+f)}}l!==-1&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let c=!1,u="",h=s.length;for(let f=1;f<e.length;++f){const d=e[f];switch(d.type){case"space":c=!0;case"newline":h+=d.source.length;break;case"comment":t&&!c&&n(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=d.source.length,u=d.source.substring(1);break;case"error":n(d,"UNEXPECTED_TOKEN",d.message),h+=d.source.length;break;default:{const _=`Unexpected token in block scalar header: ${d.type}`;n(d,"UNEXPECTED_TOKEN",_);const y=d.source;y&&typeof y=="string"&&(h+=y.length)}}}return{mode:r,indent:o,chomp:a,comment:u,length:h}}function Fy(i){const e=i.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),r=[n!=null&&n[1]?[n[1],t.slice(n[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}function ju(i,e,t){const{offset:n,type:s,source:r,end:o}=i;let a,l;const c=(f,d,_)=>t(n+f,d,_);switch(s){case"scalar":a=W.PLAIN,l=Ry(r,c);break;case"single-quoted-scalar":a=W.QUOTE_SINGLE,l=By(r,c);break;case"double-quoted-scalar":a=W.QUOTE_DOUBLE,l=$y(r,c);break;default:return t(i,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[n,n+r.length,n+r.length]}}const u=n+r.length,h=bi(o,u,e,t);return{value:l,type:a,comment:h.comment,range:[n,u,h.offset]}}function Ry(i,e){let t="";switch(i[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${i[0]}`;break}case"@":case"`":{t=`reserved character ${i[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),Uu(i)}function By(i,e){return(i[i.length-1]!=="'"||i.length===1)&&e(i.length,"MISSING_CHAR","Missing closing 'quote"),Uu(i.slice(1,-1)).replace(/''/g,"'")}function Uu(i){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(i);if(!n)return i;let s=n[1],r=" ",o=e.lastIndex;for(t.lastIndex=o;n=t.exec(i);)n[1]===""?r===`
`?s+=r:r=`
`:(s+=r+n[1],r=" "),o=t.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,n=a.exec(i),s+r+((n==null?void 0:n[1])??"")}function $y(i,e){let t="";for(let n=1;n<i.length-1;++n){const s=i[n];if(!(s==="\r"&&i[n+1]===`
`))if(s===`
`){const{fold:r,offset:o}=zy(i,n);t+=r,n=o}else if(s==="\\"){let r=i[++n];const o=jy[r];if(o)t+=o;else if(r===`
`)for(r=i[n+1];r===" "||r==="	";)r=i[++n+1];else if(r==="\r"&&i[n+1]===`
`)for(r=i[++n+1];r===" "||r==="	";)r=i[++n+1];else if(r==="x"||r==="u"||r==="U"){const a={x:2,u:4,U:8}[r];t+=Uy(i,n+1,a,e),n+=a}else{const a=i.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(s===" "||s==="	"){const r=n;let o=i[n+1];for(;o===" "||o==="	";)o=i[++n+1];o!==`
`&&!(o==="\r"&&i[n+2]===`
`)&&(t+=n>r?i.slice(r,n+1):s)}else t+=s}return(i[i.length-1]!=='"'||i.length===1)&&e(i.length,"MISSING_CHAR",'Missing closing "quote'),t}function zy(i,e){let t="",n=i[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&i[e+2]!==`
`);)n===`
`&&(t+=`
`),e+=1,n=i[e+1];return t||(t=" "),{fold:t,offset:e}}const jy={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Uy(i,e,t,n){const s=i.substr(e,t),o=s.length===t&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const a=i.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function Hu(i,e,t,n){const{value:s,type:r,comment:o,range:a}=e.type==="block-scalar"?zu(i,e,n):ju(e,i.options.strict,n),l=t?i.directives.tagName(t.source,h=>n(t,"TAG_RESOLVE_FAILED",h)):null;let c;i.options.stringKeys&&i.atKey?c=i.schema[ut]:l?c=Hy(i.schema,s,l,t,n):e.type==="scalar"?c=Ky(i,s,e,n):c=i.schema[ut];let u;try{const h=c.resolve(s,f=>n(t??e,"TAG_RESOLVE_FAILED",f),i.options);u=ne(h)?h:new W(h)}catch(h){const f=h instanceof Error?h.message:String(h);n(t??e,"TAG_RESOLVE_FAILED",f),u=new W(s)}return u.range=a,u.source=s,r&&(u.type=r),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function Hy(i,e,t,n,s){var a;if(t==="!")return i[ut];const r=[];for(const l of i.tags)if(!l.collection&&l.tag===t)if(l.default&&l.test)r.push(l);else return l;for(const l of r)if((a=l.test)!=null&&a.test(e))return l;const o=i.knownTags[t];return o&&!o.collection?(i.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),i[ut])}function Ky({atKey:i,directives:e,schema:t},n,s,r){const o=t.tags.find(a=>{var l;return(a.default===!0||i&&a.default==="key")&&((l=a.test)==null?void 0:l.test(n))})||t[ut];if(t.compat){const a=t.compat.find(l=>{var c;return l.default&&((c=l.test)==null?void 0:c.test(n))})??t[ut];if(o.tag!==a.tag){const l=e.tagString(o.tag),c=e.tagString(a.tag),u=`Value may be parsed as either ${l} or ${c}`;r(s,"TAG_RESOLVE_FAILED",u,!0)}}return o}function Wy(i,e,t){if(e){t===null&&(t=e.length);for(let n=t-1;n>=0;--n){let s=e[n];switch(s.type){case"space":case"comment":case"newline":i-=s.source.length;continue}for(s=e[++n];(s==null?void 0:s.type)==="space";)i+=s.source.length,s=e[++n];break}}return i}const Vy={composeNode:Ku,composeEmptyNode:Lo};function Ku(i,e,t,n){const s=i.atKey,{spaceBefore:r,comment:o,anchor:a,tag:l}=t;let c,u=!0;switch(e.type){case"alias":c=qy(i,e,n),(a||l)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Hu(i,e,l,n),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=My(Vy,i,e,t,n),a&&(c.anchor=a.source.substring(1));break;default:{const h=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",h),c=Lo(i,e.offset,void 0,null,t,n),u=!1}}return a&&c.anchor===""&&n(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&i.options.stringKeys&&(!ne(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&n(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),r&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),i.options.keepSourceTokens&&u&&(c.srcToken=e),c}function Lo(i,e,t,n,{spaceBefore:s,comment:r,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:Wy(e,t,n),indent:-1,source:""},h=Hu(i,u,a,c);return o&&(h.anchor=o.source.substring(1),h.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(h.spaceBefore=!0),r&&(h.comment=r,h.range[2]=l),h}function qy({options:i},{offset:e,source:t,end:n},s){const r=new As(t.substring(1));r.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&s(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+t.length,a=bi(n,o,i.strict,s);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}function Yy(i,e,{offset:t,start:n,value:s,end:r},o){const a=Object.assign({_directives:e},i),l=new Sn(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=bn(n,{indicator:"doc-start",next:s??(r==null?void 0:r[0]),offset:t,onError:o,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?Ku(c,s,u,o):Lo(c,u.end,n,null,u,o);const h=l.contents.range[2],f=bi(r,h,!1,o);return f.comment&&(l.comment=f.comment),l.range=[t,h,f.offset],l}function Hn(i){if(typeof i=="number")return[i,i+1];if(Array.isArray(i))return i.length===2?i:[i[0],i[1]];const{offset:e,source:t}=i;return[e,e+(typeof t=="string"?t.length:1)]}function Xl(i){var s;let e="",t=!1,n=!1;for(let r=0;r<i.length;++r){const o=i[r];switch(o[0]){case"#":e+=(e===""?"":n?`

`:`
`)+(o.substring(1)||" "),t=!0,n=!1;break;case"%":((s=i[r+1])==null?void 0:s[0])!=="#"&&(r+=1),t=!1;break;default:t||(n=!0),t=!1}}return{comment:e,afterEmptyLine:n}}class Mo{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,s,r)=>{const o=Hn(t);r?this.warnings.push(new Bu(o,n,s)):this.errors.push(new $t(o,n,s))},this.directives=new Oe({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=Xl(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(s||e.directives.docStart||!r)e.commentBefore=n;else if(ue(r)&&!r.flow&&r.items.length>0){let o=r.items[0];le(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${n}
${a}`:n}else{const o=r.commentBefore;r.commentBefore=o?`${n}
${o}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Xl(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const s of e)yield*this.next(s);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,s)=>{const r=Hn(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=Yy(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new $t(Hn(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new $t(Hn(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const t=bi(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new $t(Hn(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const n=Object.assign({_directives:this.directives},this.options),s=new Sn(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,t,t],this.decorate(s,!1),yield s}}}function Gy(i,e=!0,t){if(i){const n=(s,r,o)=>{const a=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(t)t(a,r,o);else throw new $t([a,a+1],r,o)};switch(i.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ju(i,e,n);case"block-scalar":return zu({options:{strict:e}},i,n)}}return null}function Xy(i,e){const{implicitKey:t=!1,indent:n,inFlow:s=!1,offset:r=-1,type:o="PLAIN"}=e,a=mi({type:o,value:i},{implicitKey:t,indent:n>0?" ".repeat(n):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`
`),u=a.substring(0,c),h=a.substring(c+1)+`
`,f=[{type:"block-scalar-header",offset:r,indent:n,source:u}];return Wu(f,l)||f.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:r,indent:n,props:f,source:h}}case'"':return{type:"double-quoted-scalar",offset:r,indent:n,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:n,source:a,end:l};default:return{type:"scalar",offset:r,indent:n,source:a,end:l}}}function Jy(i,e,t={}){let{afterKey:n=!1,implicitKey:s=!1,inFlow:r=!1,type:o}=t,a="indent"in i?i.indent:null;if(n&&typeof a=="number"&&(a+=2),!o)switch(i.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=i.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=mi({type:o,value:e},{implicitKey:s||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Qy(i,l);break;case'"':kr(i,l,"double-quoted-scalar");break;case"'":kr(i,l,"single-quoted-scalar");break;default:kr(i,l,"scalar")}}function Qy(i,e){const t=e.indexOf(`
`),n=e.substring(0,t),s=e.substring(t+1)+`
`;if(i.type==="block-scalar"){const r=i.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=n,i.source=s}else{const{offset:r}=i,o="indent"in i?i.indent:-1,a=[{type:"block-scalar-header",offset:r,indent:o,source:n}];Wu(a,"end"in i?i.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(const l of Object.keys(i))l!=="type"&&l!=="offset"&&delete i[l];Object.assign(i,{type:"block-scalar",indent:o,props:a,source:s})}}function Wu(i,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":i.push(t);break;case"newline":return i.push(t),!0}return!1}function kr(i,e,t){switch(i.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":i.type=t,i.source=e;break;case"block-scalar":{const n=i.props.slice(1);let s=e.length;i.props[0].type==="block-scalar-header"&&(s-=i.props[0].source.length);for(const r of n)r.offset+=s;delete i.props,Object.assign(i,{type:t,source:e,end:n});break}case"block-map":case"block-seq":{const s={type:"newline",offset:i.offset+e.length,indent:i.indent,source:`
`};delete i.items,Object.assign(i,{type:t,source:e,end:[s]});break}default:{const n="indent"in i?i.indent:-1,s="end"in i&&Array.isArray(i.end)?i.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(i))r!=="type"&&r!=="offset"&&delete i[r];Object.assign(i,{type:t,indent:n,source:e,end:s})}}}const Zy=i=>"type"in i?bs(i):ns(i);function bs(i){switch(i.type){case"block-scalar":{let e="";for(const t of i.props)e+=bs(t);return e+i.source}case"block-map":case"block-seq":{let e="";for(const t of i.items)e+=ns(t);return e}case"flow-collection":{let e=i.start.source;for(const t of i.items)e+=ns(t);for(const t of i.end)e+=t.source;return e}case"document":{let e=ns(i);if(i.end)for(const t of i.end)e+=t.source;return e}default:{let e=i.source;if("end"in i&&i.end)for(const t of i.end)e+=t.source;return e}}}function ns({start:i,key:e,sep:t,value:n}){let s="";for(const r of i)s+=r.source;if(e&&(s+=bs(e)),t)for(const r of t)s+=r.source;return n&&(s+=bs(n)),s}const Gr=Symbol("break visit"),eb=Symbol("skip children"),Vu=Symbol("remove item");function Kt(i,e){"type"in i&&i.type==="document"&&(i={start:i.start,value:i.value}),qu(Object.freeze([]),i,e)}Kt.BREAK=Gr;Kt.SKIP=eb;Kt.REMOVE=Vu;Kt.itemAtPath=(i,e)=>{let t=i;for(const[n,s]of e){const r=t==null?void 0:t[n];if(r&&"items"in r)t=r.items[s];else return}return t};Kt.parentCollection=(i,e)=>{const t=Kt.itemAtPath(i,e.slice(0,-1)),n=e[e.length-1][0],s=t==null?void 0:t[n];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function qu(i,e,t){let n=t(e,i);if(typeof n=="symbol")return n;for(const s of["key","value"]){const r=e[s];if(r&&"items"in r){for(let o=0;o<r.items.length;++o){const a=qu(Object.freeze(i.concat([[s,o]])),r.items[o],t);if(typeof a=="number")o=a-1;else{if(a===Gr)return Gr;a===Vu&&(r.items.splice(o,1),o-=1)}}typeof n=="function"&&s==="key"&&(n=n(e,i))}}return typeof n=="function"?n(e,i):n}const Rs="\uFEFF",Bs="",$s="",fi="",tb=i=>!!i&&"items"in i,nb=i=>!!i&&(i.type==="scalar"||i.type==="single-quoted-scalar"||i.type==="double-quoted-scalar"||i.type==="block-scalar");function ib(i){switch(i){case Rs:return"<BOM>";case Bs:return"<DOC>";case $s:return"<FLOW_END>";case fi:return"<SCALAR>";default:return JSON.stringify(i)}}function Yu(i){switch(i){case Rs:return"byte-order-mark";case Bs:return"doc-mode";case $s:return"flow-error-end";case fi:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(i[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const sb=Object.freeze(Object.defineProperty({__proto__:null,BOM:Rs,DOCUMENT:Bs,FLOW_END:$s,SCALAR:fi,createScalarToken:Xy,isCollection:tb,isScalar:nb,prettyToken:ib,resolveAsScalar:Gy,setScalarValue:Jy,stringify:Zy,tokenType:Yu,visit:Kt},Symbol.toStringTag,{value:"Module"}));function Xe(i){switch(i){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Jl=new Set("0123456789ABCDEFabcdef"),rb=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Vi=new Set(",[]{}"),ob=new Set(` ,[]{}
\r	`),Tr=i=>!i||ob.has(i);class Gu{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){const s=this.buffer[n+e+1];if(s===`
`||!s&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){const n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&Xe(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Rs&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length,n=e.indexOf("#");for(;n!==-1;){const r=e[n-1];if(r===" "||r==="	"){t=n-1;break}else n=e.indexOf("#",n+1)}for(;;){const r=e[t-1];if(r===" "||r==="	")t-=1;else break}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield Bs,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if((t==="---"||t==="...")&&Xe(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,t==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Xe(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Xe(t)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Tr),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&s[0]!=="#"||n===0&&(s.startsWith("---")||s.startsWith("..."))&&Xe(s[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield $s,yield*this.parseLineStart();let r=0;for(;s[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),s[r]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Tr),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Xe(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const r=this.continueScalar(s+1);if(r===-1)break;s=n.indexOf(`
`,r)}s!==-1&&(t=s-(n[s-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>Xe(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let r=this.pos;n=this.buffer[r];++r)switch(n){case" ":t+=1;break;case`
`:e=r,t=0;break;case"\r":{const o=this.buffer[r+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(n=this.buffer[s];n===" ";)n=this.buffer[++s];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let r=e-1,o=this.buffer[r];o==="\r"&&(o=this.buffer[--r]);const a=r;for(;o===" ";)o=this.buffer[--r];if(o===`
`&&r>=this.pos&&r+1+t>a)e=r;else break}while(!0);return yield fi,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,n=this.pos-1,s;for(;s=this.buffer[++n];)if(s===":"){const r=this.buffer[n+1];if(Xe(r)||e&&Vi.has(r))break;t=n}else if(Xe(s)){let r=this.buffer[n+1];if(s==="\r"&&(r===`
`?(n+=1,s=`
`,r=this.buffer[n+1]):t=n),r==="#"||e&&Vi.has(r))break;if(s===`
`){const o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(e&&Vi.has(s))break;t=n}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield fi,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Tr))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(Xe(t)||e&&Vi.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!Xe(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(rb.has(t))t=this.buffer[++e];else if(t==="%"&&Jl.has(this.buffer[e+1])&&Jl.has(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");const s=t-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=t),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Xu{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const s=this.lineStarts[t-1];return{line:t,col:e-s+1}}}}function Mt(i,e){for(let t=0;t<i.length;++t)if(i[t].type===e)return!0;return!1}function Ql(i){for(let e=0;e<i.length;++e)switch(i[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Ju(i){switch(i==null?void 0:i.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function qi(i){switch(i.type){case"document":return i.start;case"block-map":{const e=i.items[i.items.length-1];return e.sep??e.start}case"block-seq":return i.items[i.items.length-1].start;default:return[]}}function sn(i){var t;if(i.length===0)return[];let e=i.length;e:for(;--e>=0;)switch(i[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=i[++e])==null?void 0:t.type)==="space";);return i.splice(e,i.length)}function Zl(i){if(i.start.type==="flow-seq-start")for(const e of i.items)e.sep&&!e.value&&!Mt(e.start,"explicit-key-ind")&&!Mt(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Ju(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Po{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Gu,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=Yu(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(!t)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield t;else{const n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&Zl(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{const s=n.items[n.items.length-1];if(s.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=t;else{Object.assign(s,{key:t,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=n.items[n.items.length-1];s.value?n.items.push({start:[],value:t}):s.value=t;break}case"flow-collection":{const s=n.items[n.items.length-1];!s||s.value?n.items.push({start:[],key:t,sep:[]}):s.sep?s.value=t:Object.assign(s,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const s=t.items[t.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Ql(s.start)===-1&&(t.indent===0||s.start.every(r=>r.type!=="comment"||r.indent<t.indent))&&(n.type==="document"?n.end=s.start:n.items.push({start:s.start}),t.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Ql(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=qi(this.peek(2)),n=sn(t);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var n;const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const s="end"in t.value?t.value.end:void 0,r=Array.isArray(s)?s[s.length-1]:void 0;(r==null?void 0:r.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const s=e.items[e.items.length-2],r=(n=s==null?void 0:s.value)==null?void 0:n.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,r=s&&(t.sep||t.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(r&&t.sep&&!t.value){const a=[];for(let l=0;l<t.sep.length;++l){const c=t.sep[l];switch(c.type){case"newline":a.push(l);break;case"space":break;case"comment":c.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=t.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":r||t.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!t.explicitKey?(t.start.push(this.sourceToken),t.explicitKey=!0):r||t.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Mt(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Ju(t.key)&&!Mt(t.sep,"newline")){const a=sn(t.start),l=t.key,c=t.sep;c.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:c}]})}else o.length>0?t.sep=t.sep.concat(o,this.sourceToken):t.sep.push(this.sourceToken);else if(Mt(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const a=sn(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||r?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Mt(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);r||t.value?(e.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(a):(Object.assign(t,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){s&&a.type!=="block-seq"&&e.items.push({start:o}),this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var n;const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const s="end"in t.value?t.value.end:void 0,r=Array.isArray(s)?s[s.length-1]:void 0;(r==null?void 0:r.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const s=e.items[e.items.length-2],r=(n=s==null?void 0:s.value)==null?void 0:n.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||Mt(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:s,sep:[]}):t.sep?this.stack.push(s):Object.assign(t,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const s=qi(n),r=sn(s);Zl(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=qi(e),n=sn(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=qi(e),n=sn(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Qu(i){const e=i.prettyErrors!==!1;return{lineCounter:i.lineCounter||e&&new Xu||null,prettyErrors:e}}function ab(i,e={}){const{lineCounter:t,prettyErrors:n}=Qu(e),s=new Po(t==null?void 0:t.addNewLine),r=new Mo(e),o=Array.from(r.compose(s.parse(i)));if(n&&t)for(const a of o)a.errors.forEach(ys(i,t)),a.warnings.forEach(ys(i,t));return o.length>0?o:Object.assign([],{empty:!0},r.streamInfo())}function Zu(i,e={}){const{lineCounter:t,prettyErrors:n}=Qu(e),s=new Po(t==null?void 0:t.addNewLine),r=new Mo(e);let o=null;for(const a of r.compose(s.parse(i),!0,i.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new $t(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&t&&(o.errors.forEach(ys(i,t)),o.warnings.forEach(ys(i,t))),o}function lb(i,e,t){let n;typeof e=="function"?n=e:t===void 0&&e&&typeof e=="object"&&(t=e);const s=Zu(i,t);if(!s)return null;if(s.warnings.forEach(r=>xu(s.options.logLevel,r)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:n},t))}function cb(i,e,t){let n=null;if(typeof e=="function"||Array.isArray(e)?n=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const s=Math.round(t);t=s<1?void 0:s>8?{indent:8}:{indent:s}}if(i===void 0){const{keepUndefined:s}=t??e??{};if(!s)return}return Yt(i)&&!n?i.toString(t):new Sn(i,n,t).toString(t)}const ec=Object.freeze(Object.defineProperty({__proto__:null,Alias:As,CST:sb,Composer:Mo,Document:Sn,Lexer:Gu,LineCounter:Xu,Pair:Se,Parser:Po,Scalar:W,Schema:Fs,YAMLError:Do,YAMLMap:$e,YAMLParseError:$t,YAMLSeq:At,YAMLWarning:Bu,isAlias:qt,isCollection:ue,isDocument:Yt,isMap:_n,isNode:he,isPair:le,isScalar:ne,isSeq:vn,parse:lb,parseAllDocuments:ab,parseDocument:Zu,stringify:cb,visit:Et,visitAsync:Es},Symbol.toStringTag,{value:"Module"}));class ub{constructor(){F(this,"id","json-xml-yaml-converter");F(this,"name","JSON/XML/YAML Format Converter");F(this,"description","Convert between XML, JSON, and YAML data formats");F(this,"supportedFormats",["xml","json","yaml"])}render(){const e=document.getElementById("toolContent");e&&(e.innerHTML=`
      <div class="tool-header">
        <h1 class="tool-title">${this.name}</h1>
        <p class="tool-description">${this.description}</p>
      </div>
      <div class="converter-container">
        <div class="editor-with-lines">
          <div class="line-numbers" id="sourceLineNumbers"></div>
          <textarea id="sourceInput" class="editor" placeholder="Paste your JSON, XML, or YAML here..." spellcheck="false" wrap="off"></textarea>
        </div>
        <div id="formatDisplay" class="format-display">Detected format: <span id="detectedFormat">Unknown</span></div>
        <div class="format-selector">
          <label for="targetFormat">Convert to:</label>
          <select id="targetFormat" class="target-format">
            <option value="json">JSON</option>
            <option value="yaml">YAML</option>
            <option value="xml">XML</option>
          </select>
        </div>
        <div class="editor-with-lines">
          <div class="line-numbers" id="outputLineNumbers"></div>
          <textarea id="output" class="editor" readonly placeholder="Converted output will appear here..." spellcheck="false" wrap="off"></textarea>
        </div>
      </div>
    `,this.setupHandlers(),this.addStyles())}setupHandlers(){const e=document.getElementById("sourceInput"),t=document.getElementById("output"),n=document.getElementById("detectedFormat"),s=document.getElementById("targetFormat"),r=document.getElementById("sourceLineNumbers"),o=document.getElementById("outputLineNumbers"),a=(c,u)=>{const h=c.value.split(`
`).length;u.innerHTML=Array.from({length:h},(f,d)=>`<div class="line-number">${d+1}</div>`).join("")},l=()=>{const c=e.value,{format:u,data:h}=this.detectAndParse(c),f=s.value;a(e,r),u==="unknown"?(n.textContent="Unknown",n.style.color="red",t.value="Error: Could not detect input format."):(n.textContent=u.toUpperCase(),n.style.color="green",t.value=this.convert(h,u,f)),a(t,o)};e.addEventListener("input",l),e.addEventListener("scroll",()=>{r.scrollTop=e.scrollTop}),t.addEventListener("scroll",()=>{o.scrollTop=t.scrollTop}),s.addEventListener("change",l),l()}detectAndParse(e){try{return{format:"json",data:JSON.parse(e)}}catch{}try{return{format:"yaml",data:ec.parse(e)}}catch{}try{return{format:"xml",data:Hl.xml2js(e,{compact:!0})}}catch{}return{format:"unknown",data:null}}convert(e,t,n){try{switch(n){case"json":return JSON.stringify(e,null,2);case"yaml":return ec.stringify(e);case"xml":return Hl.js2xml(e,{compact:!0,spaces:2});default:return"Unsupported target format"}}catch(s){return`Error during conversion: ${s.message}`}}addStyles(){const e=document.createElement("style");e.textContent=`
      .converter-container {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        max-width: 800px;
        margin: 0 auto;
        padding: 1rem;
      }

      .editor-with-lines {
        display: flex;
        position: relative;
        border: 1px solid var(--border);
        border-radius: 4px;
        background: var(--background);
        overflow: hidden;
        height: 200px;
      }

      .line-numbers {
        padding: 1rem 0.5rem;
        background: var(--sidebar-bg);
        border-right: 1px solid var(--border);
        color: var(--text-secondary);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        text-align: right;
        user-select: none;
        overflow-y: hidden;
      }

      .line-number {
        padding: 0 0.5rem;
        min-width: 2.5em;
      }

      .editor {
        flex: 1;
        padding: 1rem;
        border: none;
        background: transparent;
        color: var(--text);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        resize: none;
        outline: none;
        overflow-y: auto;
      }

      .format-display {
        font-size: 1rem;
        color: var(--text-secondary);
      }

      #detectedFormat {
        font-weight: bold;
      }

      .format-selector {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .target-format {
        padding: 0.5rem;
        border: 1px solid var(--border);
        border-radius: 4px;
        background: var(--background);
        color: var(--text);
        font-size: 1rem;
      }
    `,document.head.appendChild(e)}}class hb{constructor(){F(this,"id","jwt-decoder");F(this,"name","JWT Decoder");F(this,"description","Decode and inspect JSON Web Tokens (JWT) and their claims");F(this,"lastInput","")}render(){const e=document.getElementById("toolContent");e&&(e.innerHTML=`
      <div class="tool-header">
        <h1 class="tool-title">${this.name}</h1>
        <p class="tool-description">${this.description}</p>
      </div>
      <div class="jwt-container">
        <div class="input-section">
          <div class="input-header">
            <label for="jwtInput">JWT Token (auto-decodes on paste)</label>
            <button id="clearJwt" class="button">Clear</button>
          </div>
          <textarea 
            id="jwtInput" 
            class="jwt-input" 
            placeholder="Paste your JWT token here..."
            spellcheck="false"
          ></textarea>
        </div>
        
        <div class="decoded-section">
          <div class="jwt-part">
            <h3>Header</h3>
            <div class="jwt-info">
              <pre id="headerData" class="jwt-data"></pre>
            </div>
          </div>
          
          <div class="jwt-part">
            <h3>Payload</h3>
            <div class="jwt-info">
              <pre id="payloadData" class="jwt-data"></pre>
            </div>
          </div>
          
          <div class="jwt-part">
            <h3>Signature</h3>
            <div class="jwt-info">
              <pre id="signatureData" class="jwt-data"></pre>
            </div>
          </div>
        </div>
      </div>
    `,this.setupHandlers(),this.addStyles())}decodeJwt(e){try{const t=e.split(".");if(t.length!==3)throw new Error("Invalid JWT format");const n=JSON.parse(this.base64UrlDecode(t[0])),s=JSON.parse(this.base64UrlDecode(t[1])),r=t[2];return{header:n,payload:s,signature:r}}catch{return null}}base64UrlDecode(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";return decodeURIComponent(escape(atob(t)))}formatJson(e){return JSON.stringify(e,null,2)}displayDecodedData(e){const t=document.getElementById("headerData"),n=document.getElementById("payloadData"),s=document.getElementById("signatureData");!t||!n||!s||(document.querySelectorAll(".token-metadata").forEach(r=>r.remove()),t.textContent=this.formatJson(e.header),this.addTokenMetadata("header-metadata",e.header),n.textContent=this.formatJson(e.payload),this.addTokenMetadata("payload-metadata",e.payload),s.textContent=e.signature)}addTokenMetadata(e,t){var r,o;const n=[],s=document.getElementById(e);if(s&&s.remove(),t.exp){const a=new Date(t.exp*1e3),l=a<new Date;n.push(`Expires: ${a.toLocaleString()} (${l?"Expired":"Valid"})`)}if(t.iat){const a=new Date(t.iat*1e3);n.push(`Issued At: ${a.toLocaleString()}`)}if(t.nbf){const a=new Date(t.nbf*1e3);n.push(`Not Before: ${a.toLocaleString()}`)}if(n.length>0){const a=document.createElement("div");a.id=e,a.className="token-metadata",a.innerHTML=n.join("<br>");const l=e.includes("header")?"headerData":"payloadData";(o=(r=document.getElementById(l))==null?void 0:r.parentElement)==null||o.appendChild(a)}}showError(e){const t=document.getElementById("headerData"),n=document.getElementById("payloadData"),s=document.getElementById("signatureData");!t||!n||!s||(t.textContent="",n.textContent="",s.textContent="",t.innerHTML=`<div class="error-message">${e}</div>`)}setupHandlers(){const e=document.getElementById("jwtInput"),t=document.getElementById("clearJwt");!e||!t||(t.addEventListener("click",()=>{e.value="";const n=document.getElementById("headerData"),s=document.getElementById("payloadData"),r=document.getElementById("signatureData");n&&(n.textContent=""),s&&(s.textContent=""),r&&(r.textContent="")}),e.addEventListener("input",()=>{const n=e.value.trim();if(n&&n!==this.lastInput){this.lastInput=n;const s=this.decodeJwt(n);s?this.displayDecodedData(s):this.showError("Invalid JWT token format")}}))}addStyles(){const e=document.createElement("style");e.textContent=`
      .jwt-container {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        max-width: 800px;
        margin: 0 auto;
        padding: 1rem;
      }

      .input-section {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .input-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .input-header label {
        color: var(--text-secondary);
        font-size: 0.9rem;
      }

      .jwt-input {
        width: 100%;
        min-height: 100px;
        padding: 1rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        color: var(--text);
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        resize: vertical;
      }

      .jwt-input:focus {
        outline: none;
        border-color: var(--primary);
      }

      .input-controls {
        display: flex;
        gap: 1rem;
      }

      .decoded-section {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .jwt-part {
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: 4px;
        padding: 1rem;
      }

      .jwt-part h3 {
        margin: 0 0 1rem 0;
        font-size: 1rem;
        font-weight: 500;
      }

      .jwt-info {
        position: relative;
      }

      .jwt-data {
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
        margin: 0;
        white-space: pre-wrap;
        word-break: break-all;
      }

      .token-metadata {
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid var(--border);
        font-size: 0.9rem;
        color: var(--text-secondary);
      }

      .error-message {
        color: #f44336;
        font-size: 0.9rem;
      }
    `,document.head.appendChild(e)}}const Yn=[new hf,new ff,new Am,new Im,new Rm,new Ym,new ub,new hb];function tc(i){return Yn.find(e=>e.id===i)}function fb(){const i=document.querySelector(".tools-nav"),e=document.getElementById("toolSearch"),t=document.getElementById("toolContent");function n(l){i&&(i.innerHTML="",l.forEach(c=>{const u=document.createElement("div");u.className="tool-item",u.dataset.toolId=c.id,u.innerHTML=`<div class="tool-name">${c.name}</div>`,u.addEventListener("click",h=>{h.preventDefault(),s(c.id)}),i.appendChild(u)}))}function s(l){var u;const c=tc(l);c&&t&&(window.history.pushState({},"",`/${l}`),document.querySelectorAll(".tool-item").forEach(h=>h.classList.remove("active")),(u=document.querySelector(`[data-tool-id="${l}"]`))==null||u.classList.add("active"),t.innerHTML="",c.render())}e.addEventListener("input",l=>{var f;const c=l.target.value.toLowerCase(),u=Yn.filter(d=>d.name.toLowerCase().includes(c)||d.description.toLowerCase().includes(c));n(u);const h=window.location.pathname.substring(1);h&&((f=document.querySelector(`[data-tool-id="${h}"]`))==null||f.classList.add("active"))}),window.addEventListener("popstate",()=>{const l=window.location.pathname.substring(1);l?r(l):o()});function r(l){const c=tc(l);c?s(c.id):o()}function o(){Yn.length>0&&s(Yn[0].id)}n(Yn);const a=window.location.pathname.substring(1);a?r(a):o()}document.addEventListener("DOMContentLoaded",fb);
